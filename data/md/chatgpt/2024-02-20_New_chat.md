# New chat

æ—¥ä»˜: 2024-02-20

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/02/20 11:05:09*

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã«å¤‰æ›´ã—ã¦ã»ã—ã„

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/02/20 11:05:14*

public struct UICatalogDependencyInjector: AppRootRouterDependency {
    public let osLogDriver: OSLogDriverProtocol = OSLogDriverProtocolMock()
    public let firebaseSetupDriver: FirebaseSetupDriverProtocol = FirebaseSetupDriverProtocolMock()
    public let libraryLicenseDriver: LibraryLicenseDriverProtocol = LibraryLicenseDriverProtocolStub()
    
    public init() {}
}

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/02/20 11:05:54*

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã«ã€`UICatalogDependencyInjector` æ§‹é€ ä½“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã«ã™ã‚‹ã‹ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã¯ã€ã™ã¹ã¦ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«åˆæœŸå€¤ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ã€ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã§ã‚ã‚‹å ´åˆã«ã®ã¿ä½¿ç”¨ã§ãã¾ã™ã€‚

ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã§ã¯ã€å„ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«å¯¾å¿œã™ã‚‹ãƒ¢ãƒƒã‚¯ã‚„ã‚¹ã‚¿ãƒ–ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ã—ã¦è¨­å®šã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€`UICatalogDependencyInjector` ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã§ç”Ÿæˆã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ãŸã ã—ã€ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã®ã¿é©åˆ‡ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚å®Ÿéš›ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€ã“ã‚Œã‚‰ã®ä¾å­˜é–¢ä¿‚ã‚’å¤–éƒ¨ã‹ã‚‰æ³¨å…¥ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚ŠæŸ”è»Ÿã‹ã¤ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„è¨­è¨ˆã«ã™ã‚‹ã“ã¨ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚

```swift
public struct UICatalogDependencyInjector: AppRootRouterDependency {
    public var osLogDriver: OSLogDriverProtocol
    public var firebaseSetupDriver: FirebaseSetupDriverProtocol
    public var libraryLicenseDriver: LibraryLicenseDriverProtocol
    
    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã«ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®š
    public init(
        osLogDriver: OSLogDriverProtocol = OSLogDriverProtocolMock(),
        firebaseSetupDriver: FirebaseSetupDriverProtocol = FirebaseSetupDriverProtocolMock(),
        libraryLicenseDriver: LibraryLicenseDriverProtocol = LibraryLicenseDriverProtocolStub()
    ) {
        self.osLogDriver = osLogDriver
        self.firebaseSetupDriver = firebaseSetupDriver
        self.libraryLicenseDriver = libraryLicenseDriver
    }
}
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€å„ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè£…ï¼ˆãƒ¢ãƒƒã‚¯ã‚„ã‚¹ã‚¿ãƒ–ï¼‰ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ã—ã¦è¨­å®šã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ç‰¹å®šã®ä¾å­˜é–¢ä¿‚ã‚’æŒ‡å®šã›ãšã«`UICatalogDependencyInjector`ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã¯ä¾å­˜é–¢ä¿‚ã®æ³¨å…¥ã‚’æ‰±ã†éš›ã«æŸ”è»Ÿæ€§ã‚’æä¾›ã—ã€ç‰¹ã«ãƒ†ã‚¹ãƒˆã®æ–‡è„ˆã§æœ‰ç”¨ã§ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/02/20 11:44:23*

ä»¥ä¸‹ã ã¨ public struct DependencyInjectorStub ã®ã‚ˆã†ãªå®šç¾©ã«ãªã£ã¦ã„ã¦ã€ãƒ†ã‚¹ãƒˆç”¨ã®ã„ã‚ã„ã‚ãªã‚¹ã‚¿ãƒ–ã‚„ã„ã‚ã„ã‚ãª DependencyInjectorã®å¡Šã‚’å®šç¾©ã—ãŸã„ã€‚ã©ã®ã‚ˆã†ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒã‚ˆã„ã‹ï¼Ÿ

public struct DependencyInjectorStub: AppRootRouterDependency {
    public let osLogDriver: OSLogDriverProtocol
    public let firebaseSetupDriver: FirebaseSetupDriverProtocol
    public let libraryLicenseDriver: LibraryLicenseDriverProtocol

    public init(
        osLogDriver: OSLogDriverProtocolMock = OSLogDriverProtocolMock(),
        firebaseSetupDriver: FirebaseSetupDriverProtocolMock = FirebaseSetupDriverProtocolMock(),
        libraryLicenseDriver: LibraryLicenseDriverProtocolMock = LibraryLicenseDriverProtocolMock()
    ) {
        self.osLogDriver = osLogDriver
        self.firebaseSetupDriver = firebaseSetupDriver
        self.libraryLicenseDriver = libraryLicenseDriver
    }
}

let sample = DependencyInjectorStub(libraryLicenseDriver: .init(licenseList: .randoms))

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/02/20 11:45:08*

ãƒ†ã‚¹ãƒˆç’°å¢ƒã§è¤‡æ•°ã®`DependencyInjector`ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ‰±ã„ãŸã„å ´åˆã€ã„ãã¤ã‹ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚ä»¥ä¸‹ã«ãã®æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚

### 1. ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä½¿ç”¨

ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ã‚„ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã€ç•°ãªã‚‹çŠ¶æ³ã«åˆã‚ã›ãŸ`DependencyInjector`ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã”ã¨ã«ç•°ãªã‚‹æ§‹æˆã®ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼ã‚’å®¹æ˜“ã«æä¾›ã§ãã¾ã™ã€‚

```swift
class DependencyInjectorFactory {
    static func createStub(
        osLogDriver: OSLogDriverProtocol = OSLogDriverProtocolMock(),
        firebaseSetupDriver: FirebaseSetupDriverProtocol = FirebaseSetupDriverProtocolMock(),
        libraryLicenseDriver: LibraryLicenseDriverProtocol = LibraryLicenseDriverProtocolMock()
    ) -> DependencyInjectorStub {
        return DependencyInjectorStub(
            osLogDriver: osLogDriver,
            firebaseSetupDriver: firebaseSetupDriver,
            libraryLicenseDriver: libraryLicenseDriver
        )
    }
}
```

### 2. ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

`AppRootRouterDependency`ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’å®Ÿè£…ã™ã‚‹ç•°ãªã‚‹æ§‹é€ ä½“ã‚’ä½œæˆã—ã€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«å¿œã˜ã¦ã“ã‚Œã‚‰ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚ã“ã®æ–¹æ³•ã§ã¯ã€ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«å¿…è¦ãªä¾å­˜é–¢ä¿‚ã®ã¿ã‚’æä¾›ã™ã‚‹ç‰¹åŒ–ã—ãŸã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼ã‚’ä½œæˆã§ãã¾ã™ã€‚

```swift
// æ—¢å­˜ã® `DependencyInjectorStub` ã¯ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®ä¸€éƒ¨ã¨ã—ã¦ä½¿ç”¨ã§ãã¾ã™ã€‚
// å¿…è¦ã«å¿œã˜ã¦ä»–ã®ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼ã‚’å®šç¾©ã—ã¾ã™ã€‚
```

### 3. ãƒ“ãƒ«ãƒ€ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä½¿ç”¨

è¤‡é›‘ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹ç¯‰ã‚’ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã§è¡Œãˆã‚‹ã‚ˆã†ã«ã€ãƒ“ãƒ«ãƒ€ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¡ç”¨ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«å¿…è¦ãªä¾å­˜é–¢ä¿‚ã‚’å‹•çš„ã«çµ„ã¿åˆã‚ã›ã¦ã€`DependencyInjector`ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã§ãã¾ã™ã€‚

```swift
class DependencyInjectorBuilder {
    private var osLogDriver: OSLogDriverProtocol = OSLogDriverProtocolMock()
    private var firebaseSetupDriver: FirebaseSetupDriverProtocol = FirebaseSetupDriverProtocolMock()
    private var libraryLicenseDriver: LibraryLicenseDriverProtocol = LibraryLicenseDriverProtocolMock()

    func with(osLogDriver: OSLogDriverProtocol) -> DependencyInjectorBuilder {
        self.osLogDriver = osLogDriver
        return self
    }

    func with(firebaseSetupDriver: FirebaseSetupDriverProtocol) -> DependencyInjectorBuilder {
        self.firebaseSetupDriver = firebaseSetupDriver
        return self
    }

    func with(libraryLicenseDriver: LibraryLicenseDriverProtocol) -> DependencyInjectorBuilder {
        self.libraryLicenseDriver = libraryLicenseDriver
        return self
    }

    func build() -> DependencyInjectorStub {
        return DependencyInjectorStub(
            osLogDriver: osLogDriver,
            firebaseSetupDriver: firebaseSetupDriver,
            libraryLicenseDriver: libraryLicenseDriver
        )
    }
}
```

ã“ã‚Œã‚‰ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ã€ãƒ†ã‚¹ãƒˆç’°å¢ƒã®ãƒ‹ãƒ¼ã‚ºã«å¿œã˜ã¦çµ„ã¿åˆã‚ã›ãŸã‚Šã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ç‰¹ã«ã€ãƒ“ãƒ«ãƒ€ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚„ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€ãƒ†ã‚¹ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®æŸ”è»Ÿæ€§ã¨å†åˆ©ç”¨æ€§ã‚’é«˜ã‚ã‚‹ã®ã«æœ‰åŠ¹ã§ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/02/20 11:46:37*

DependencyInjectorStub ã ã‘ã§ã€ã„ã‚ã„ã‚ãªåˆæœŸåŒ–ã«ã‚ˆã£ã¦ã€ã„ã‚ã„ã‚ãªãƒ‘ã‚¿ãƒ¼ãƒ³ãªå¤‰æ•°ã‚’ä¿æŒã—ã¦ãŠãã®ã¯ã©ã†ã ã‚ã†ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/02/20 11:47:16*

`DependencyInjectorStub`ã‚’ä½¿ç”¨ã—ã¦ã€ç•°ãªã‚‹åˆæœŸåŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚Šå¤šæ§˜ãªå¤‰æ•°ã‚’ä¿æŒã™ã‚‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ã€ãƒ†ã‚¹ãƒˆã®æŸ”è»Ÿæ€§ã¨å¯èª­æ€§ã‚’é«˜ã‚ã‚‹ãŸã‚ã«éå¸¸ã«æœ‰åŠ¹ã§ã™ã€‚ã“ã®æ–¹æ³•ã‚’æ¡ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã”ã¨ã«ç•°ãªã‚‹ä¾å­˜é–¢ä¿‚ã®æ§‹æˆã‚’ç°¡å˜ã«è¨­å®šã§ãã€ã‚³ãƒ¼ãƒ‰ã®é‡è¤‡ã‚’æ¸›ã‚‰ã—ã¤ã¤ã€ãƒ†ã‚¹ãƒˆã®æ„å›³ã‚’æ˜ç¢ºã«ä¼ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ä»¥ä¸‹ã«ã€`DependencyInjectorStub`ã‚’ä½¿ã£ã¦ã€ã•ã¾ã–ã¾ãªåˆæœŸåŒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æä¾›ã™ã‚‹ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ¢ãƒƒã‚¯å®Ÿè£…ã«åŠ ãˆã¦ã€ã‚«ã‚¹ã‚¿ãƒ ã®ãƒ¢ãƒƒã‚¯ã‚„ã‚¹ã‚¿ãƒ–ã‚’æ³¨å…¥ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ†ã‚¹ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ™‚ã«å¿…è¦ãªä¾å­˜é–¢ä¿‚ã‚’æŸ”è»Ÿã«å®šç¾©ã§ãã¾ã™ã€‚

```swift
public struct DependencyInjectorStub: AppRootRouterDependency {
    public var osLogDriver: OSLogDriverProtocol
    public var firebaseSetupDriver: FirebaseSetupDriverProtocol
    public var libraryLicenseDriver: LibraryLicenseDriverProtocol

    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ¢ãƒƒã‚¯ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã®ä¾¿åˆ©ãªã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶
    public init() {
        self.osLogDriver = OSLogDriverProtocolMock()
        self.firebaseSetupDriver = FirebaseSetupDriverProtocolMock()
        self.libraryLicenseDriver = LibraryLicenseDriverProtocolMock()
    }

    // ã‚«ã‚¹ã‚¿ãƒ ã®ä¾å­˜é–¢ä¿‚ã‚’æ³¨å…¥ã™ã‚‹ãŸã‚ã®ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶
    public init(
        osLogDriver: OSLogDriverProtocol = OSLogDriverProtocolMock(),
        firebaseSetupDriver: FirebaseSetupDriverProtocol = FirebaseSetupDriverProtocolMock(),
        libraryLicenseDriver: LibraryLicenseDriverProtocol = LibraryLicenseDriverProtocolMock()
    ) {
        self.osLogDriver = osLogDriver
        self.firebaseSetupDriver = firebaseSetupDriver
        self.libraryLicenseDriver = libraryLicenseDriver
    }
}
```

ã“ã®è¨­è¨ˆã«ã‚ˆã‚Šã€ãƒ†ã‚¹ãƒˆæ™‚ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæŸ”è»ŸãªåˆæœŸåŒ–ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ¢ãƒƒã‚¯ã§`DependencyInjectorStub`ã‚’åˆæœŸåŒ–:

```swift
let injector = DependencyInjectorStub()
```

- ç‰¹å®šã®ä¾å­˜é–¢ä¿‚ã ã‘ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦åˆæœŸåŒ–:

```swift
let customLibraryLicenseDriver = LibraryLicenseDriverProtocolMock(licenseList: .randoms)
let injector = DependencyInjectorStub(libraryLicenseDriver: customLibraryLicenseDriver)
```

ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ã€ãƒ†ã‚¹ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’ç°¡æ½”ã«ä¿ã¡ã¤ã¤ã€å¿…è¦ã«å¿œã˜ã¦é«˜åº¦ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚ã¾ãŸã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®å†åˆ©ç”¨æ€§ã¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ãŒå‘ä¸Šã—ã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/02/20 11:47:37*

ãŸã¨ãˆã°ã€ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¿”ã™ã‚ˆã†ãªã‚‚ã®ã¨æ­£å¸¸ç³»ã®ã‚ˆã†ãªã‚‚ã®ã‚’è¿”ã™ã‚‚ã®ã‚’å®šç¾©ã—ã¦ã¿ãŸã„ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/02/20 11:48:26*

ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨æ­£å¸¸ç³»ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¿”ã™ã‚ˆã†ãª`DependencyInjectorStub`ã®å®šç¾©ã«ã¯ã€ç‰¹å®šã®ä¾å­˜é–¢ä¿‚ã®æŒ¯ã‚‹èˆã„ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ãŸã‚ã®è¤‡æ•°ã®åˆæœŸåŒ–æ–¹æ³•ã‚’æä¾›ã™ã‚‹ã“ã¨ãŒåŠ¹æœçš„ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«å¿œã˜ã¦ã€æˆåŠŸã™ã‚‹æŒ¯ã‚‹èˆã„ã‚„ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™æŒ¯ã‚‹èˆã„ã‚’æ¨¡å€£ã™ã‚‹ä¾å­˜é–¢ä¿‚ã‚’ç°¡å˜ã«æ³¨å…¥ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ä»¥ä¸‹ã«ã€ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨æ­£å¸¸ç³»ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æä¾›ã™ã‚‹`DependencyInjectorStub`ã®å®Ÿè£…ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€`OSLogDriverProtocol`ã€`FirebaseSetupDriverProtocol`ã€`LibraryLicenseDriverProtocol`ãã‚Œãã‚Œã®ãŸã‚ã«ã€æ­£å¸¸ç³»ã¨ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™æŒ¯ã‚‹èˆã„ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚

```swift
public struct DependencyInjectorStub: AppRootRouterDependency {
    public var osLogDriver: OSLogDriverProtocol
    public var firebaseSetupDriver: FirebaseSetupDriverProtocol
    public var libraryLicenseDriver: LibraryLicenseDriverProtocol

    // æ­£å¸¸ç³»ã®æŒ¯ã‚‹èˆã„ã‚’æä¾›ã™ã‚‹ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶
    public init(success: Bool) {
        self.osLogDriver = success ? OSLogDriverProtocolMock() : OSLogDriverErrorMock()
        self.firebaseSetupDriver = success ? FirebaseSetupDriverProtocolMock() : FirebaseSetupDriverErrorMock()
        self.libraryLicenseDriver = success ? LibraryLicenseDriverProtocolMock() : LibraryLicenseDriverErrorMock()
    }

    // ã‚«ã‚¹ã‚¿ãƒ ã®ä¾å­˜é–¢ä¿‚ã‚’æ³¨å…¥ã™ã‚‹ãŸã‚ã®ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶
    public init(
        osLogDriver: OSLogDriverProtocol = OSLogDriverProtocolMock(),
        firebaseSetupDriver: FirebaseSetupDriverProtocol = FirebaseSetupDriverProtocolMock(),
        libraryLicenseDriver: LibraryLicenseDriverProtocol = LibraryLicenseDriverProtocolMock()
    ) {
        self.osLogDriver = osLogDriver
        self.firebaseSetupDriver = firebaseSetupDriver
        self.libraryLicenseDriver = libraryLicenseDriver
    }
}

// ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™ãƒ¢ãƒƒã‚¯ã®ä¾‹
class OSLogDriverErrorMock: OSLogDriverProtocol {
    // ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™ã‚ˆã†ã«å®Ÿè£…
}

class FirebaseSetupDriverErrorMock: FirebaseSetupDriverProtocol {
    // ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™ã‚ˆã†ã«å®Ÿè£…
}

class LibraryLicenseDriverErrorMock: LibraryLicenseDriverProtocol {
    // ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™ã‚ˆã†ã«å®Ÿè£…
}
```

ã“ã®è¨­è¨ˆã«ã‚ˆã‚Šã€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§æ¬¡ã®ã‚ˆã†ã«ä½¿ç”¨ã§ãã¾ã™ï¼š

- æ­£å¸¸ç³»ã®æŒ¯ã‚‹èˆã„ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹å ´åˆï¼š

```swift
let injector = DependencyInjectorStub(success: true)
```

- ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹å ´åˆï¼š

```swift
let injector = DependencyInjectorStub(success: false)
```

ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰å†…ã§ç•°ãªã‚‹ã‚·ãƒŠãƒªã‚ªã‚’ç°¡å˜ã«æ¨¡å€£ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã€ãƒ†ã‚¹ãƒˆã®æŸ”è»Ÿæ€§ã¨è¡¨ç¾åŠ›ã‚’é«˜ã‚ã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/02/20 11:48:28*

ãã‚Œã‚’DependencyInjectorStubã®ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãªå¤‰æ•°ã¨ã—ã¦å…¬é–‹ã™ã‚‹ã“ã¨ã¯ã§ããªã„ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/02/20 11:49:23*

ã¯ã„ã€`DependencyInjectorStub`ã®ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãªå¤‰æ•°ã¨ã—ã¦ã€ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨æ­£å¸¸ç³»ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å…¬é–‹ã™ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã™ã€‚ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’æ¡ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§ã®ä½¿ç”¨ãŒã•ã‚‰ã«ç°¡å˜ã«ãªã‚Šã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ãŒå‘ä¸Šã—ã¾ã™ã€‚ä»¥ä¸‹ã«ãã®å®Ÿè£…ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

### ã‚¹ãƒ†ãƒƒãƒ— 1: ã‚¨ãƒ©ãƒ¼ã¨æˆåŠŸã®ãƒ¢ãƒƒã‚¯å®Ÿè£…

ã¾ãšã€`OSLogDriverProtocol`ã€`FirebaseSetupDriverProtocol`ã€`LibraryLicenseDriverProtocol`ã®æˆåŠŸã¨ã‚¨ãƒ©ãƒ¼ã®ãƒ¢ãƒƒã‚¯å®Ÿè£…ã‚’æº–å‚™ã—ã¾ã™ã€‚ã‚¨ãƒ©ãƒ¼ã®ãƒ¢ãƒƒã‚¯ã¯ã€é©åˆ‡ãªã‚¨ãƒ©ãƒ¼æŒ™å‹•ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã™ã€‚

### ã‚¹ãƒ†ãƒƒãƒ— 2: `DependencyInjectorStub`ã®ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯å¤‰æ•°ã®å®šç¾©

æ¬¡ã«ã€`DependencyInjectorStub`å†…ã«ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯å¤‰æ•°ã¨ã—ã¦ã€æ­£å¸¸ç³»ã¨ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚

```swift
public struct DependencyInjectorStub: AppRootRouterDependency {
    public var osLogDriver: OSLogDriverProtocol
    public var firebaseSetupDriver: FirebaseSetupDriverProtocol
    public var libraryLicenseDriver: LibraryLicenseDriverProtocol

    // ã‚«ã‚¹ã‚¿ãƒ ã®ä¾å­˜é–¢ä¿‚ã‚’æ³¨å…¥ã™ã‚‹ãŸã‚ã®ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶
    public init(
        osLogDriver: OSLogDriverProtocol,
        firebaseSetupDriver: FirebaseSetupDriverProtocol,
        libraryLicenseDriver: LibraryLicenseDriverProtocol
    ) {
        self.osLogDriver = osLogDriver
        self.firebaseSetupDriver = firebaseSetupDriver
        self.libraryLicenseDriver = libraryLicenseDriver
    }

    // æ­£å¸¸ç³»ã®ãƒ‘ã‚¿ãƒ¼ãƒ³
    public static let success = DependencyInjectorStub(
        osLogDriver: OSLogDriverProtocolMock(),
        firebaseSetupDriver: FirebaseSetupDriverProtocolMock(),
        libraryLicenseDriver: LibraryLicenseDriverProtocolMock()
    )

    // ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³
    public static let failure = DependencyInjectorStub(
        osLogDriver: OSLogDriverErrorMock(),
        firebaseSetupDriver: FirebaseSetupDriverErrorMock(),
        libraryLicenseDriver: LibraryLicenseDriverErrorMock()
    )
}
```

### ã‚¹ãƒ†ãƒƒãƒ— 3: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§ã®ä½¿ç”¨

ã“ã‚Œã§ã€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å†…ã§ä»¥ä¸‹ã®ã‚ˆã†ã«ç°¡å˜ã«`DependencyInjectorStub`ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

- æ­£å¸¸ç³»ã®ãƒ†ã‚¹ãƒˆ:

```swift
let injector = DependencyInjectorStub.success
```

- ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒ†ã‚¹ãƒˆ:

```swift
let injector = DependencyInjectorStub.failure
```

ã“ã®æ–¹æ³•ã«ã‚ˆã‚Šã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒç°¡å˜ã«ãªã‚Šã€ãƒ†ã‚¹ãƒˆã®æ„å›³ãŒã‚ˆã‚Šæ˜ç¢ºã«ãªã‚Šã¾ã™ã€‚ã¾ãŸã€å…±é€šã®è¨­å®šã‚’å†åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã®é‡è¤‡ã‚’é¿ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

---
