# Vite SSR ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ¯”è¼ƒ

æ—¥ä»˜: 2025-06-27

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/28 2:28:05*

Next.jsã‚’ä½¿ã‚ãšã«ä»ŠViteã§HTMLã‚’æ›¸ã„ã¦ã¦ã‚µãƒ¼ãƒãƒ¼å‡¦ç†ã‚’ã‚¿ãƒ³ã‚¹ã‚¿ãƒƒã‚¯ã‚¯ã‚¨ãƒªã§æ›¸ã„ã¦ã‚‹ã‚“ã ã‘ã©ã€ã“ã‚ŒSSRã‚’ä½¿ã†æ™‚ã«Viteã ã‘ã§SSRã®æ©Ÿèƒ½ã‚’ä½œã‚‹ã“ã¨ã¯é›£ã—ã„ã®ã‹ã€ãªã‚“ã‹Vikeã¨ã‹åˆ¥ã€…ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ãŒå¿…è¦ãªã®ã‹ã€ã¾ãŸã¯ãã‚Œã§ä¸€ç•ªä»Šã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãªã‚„ã‚Šæ–¹ã¯ã©ã‚“ãªã®ã‹æ•™ãˆã¦ã»ã—ã„ã€‚ã¡ã‚‡ã£ã¨ä»Šåˆ¥ã®AIã«èã„ã¦ã“ã®ã‚ˆã†ãªç­”ãˆã‚’ã‚‚ã‚‰ã£ãŸã‚“ã ã‘ã©ã€ã‚ˆãã‚ã‹ã£ã¦ãªã„ã‹ã‚‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ¯”è¼ƒã—ã¦ã»ã—ã„ã‚“ã ã€‚ 

ã‚Œã£ã¦ã‚¨ã‚¯ã‚¹ãƒ—ãƒ¬ã‚¹ã‚µãƒ¼ãƒãƒ¼ãŒåŸºæœ¬ãªã®? 
  ãˆã€ãŸã¨ãˆã°bunã¨ã‹ã˜ã‚ƒãƒ€ãƒ¡ãªã®?Next.jsã§ã©ã†ã„ã†ä»•çµ„ã¿ã§ã©ã†ãªã£ã¦ã„ã‚‹ã®?

âº ç´ æ™´ã‚‰ã—ã„è³ªå•ã§ã™ï¼SSRã®ã‚µãƒ¼ãƒãƒ¼ã¯è‰²ã€…ãªé¸æŠè‚¢ãŒã‚ã‚Šã¾ã™ã€‚

  SSRã‚µãƒ¼ãƒãƒ¼ã®é¸æŠè‚¢

  1. Expressï¼ˆç¾åœ¨ã®å®Ÿè£…ï¼‰

  // ä»Šå›ä½¿ã£ã¦ã„ã‚‹ã®ã¯ã“ã‚Œ
  import express from "express";
  const app = express();
  - Node.jsç”¨ã®å®šç•ªWebãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
  - ã§ã‚‚åˆ¥ã«Expressã˜ã‚ƒãªãã¦ã‚‚OKï¼

  2. Bunã®ã‚µãƒ¼ãƒãƒ¼

  // Bunãƒã‚¤ãƒ†ã‚£ãƒ–ã®ã‚µãƒ¼ãƒãƒ¼ã‚‚ä½¿ãˆã‚‹ï¼
  Bun.serve({
    port: 5173,
    async fetch(req) {
      const url = new URL(req.url);
      const { html } = await render({ url: url.pathname });
      return new Response(html, {
        headers: { "Content-Type": "text/html" },
      });
    },
  });

  3. ãã®ä»–ã®é¸æŠè‚¢

  - Hono - è»½é‡ã§é«˜é€Ÿã€Bunã¨ã®ç›¸æ€§ãŒè‰¯ã„
  - Fastify - Expressã‚ˆã‚Šé«˜é€Ÿ
  - Node.jsæ¨™æº–ã®http - æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«

  Next.jsã®ä»•çµ„ã¿

  Next.jsã¯ç‹¬è‡ªã®ã‚µãƒ¼ãƒãƒ¼ã‚’å†…è”µã—ã¦ã„ã¾ã™ï¼š

  # Next.jsã®å ´åˆ
  next dev     # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ï¼ˆå†…éƒ¨ã§Node.jsã®httpã‚µãƒ¼ãƒãƒ¼ï¼‰
  next build   # ãƒ“ãƒ«ãƒ‰
  next start   # æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼ï¼ˆå†…éƒ¨ã§Node.jsã®httpã‚µãƒ¼ãƒãƒ¼ï¼‰

  Next.jsã®ç‰¹å¾´ï¼š
  - ã‚«ã‚¹ã‚¿ãƒ ã‚µãƒ¼ãƒãƒ¼ã¯ä¸è¦ï¼ˆå†…è”µã•ã‚Œã¦ã„ã‚‹ï¼‰
  - Vercelã‚„Netlifyãªã©ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«æœ€é©åŒ–
  - App Routerã§ã¯React Server Componentsã‚‚ä½¿ãˆã‚‹

  ãªãœExpressã‚’ä½¿ã£ãŸã‹

  ä»Šå›Expressã‚’ä½¿ã£ãŸç†ç”±ï¼š
  1. Viteã®å…¬å¼SSRã‚µãƒ³ãƒ—ãƒ«ãŒExpressã‚’ä½¿ã£ã¦ã„ã‚‹
  2. ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ãŒè±Šå¯Œã§æ‹¡å¼µã—ã‚„ã™ã„
  3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šã„

  ã§ã‚‚ã€Bunã®ã‚µãƒ¼ãƒãƒ¼ã§æ›¸ãç›´ã™ã“ã¨ã‚‚å¯èƒ½ã§ã™ï¼

  ã‚€ã—ã‚Bunã‚’ä½¿ã£ã¦ã„ã‚‹ãªã‚‰ã€Bunãƒã‚¤ãƒ†ã‚£ãƒ–ã®ã‚µãƒ¼ãƒãƒ¼ã®æ–¹ãŒï¼š
  - ã‚ˆã‚Šé«˜é€Ÿ
  - TypeScriptãƒã‚¤ãƒ†ã‚£ãƒ–å¯¾å¿œ
  - ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…

  ã¨ã„ã†åˆ©ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚

&gt; ãªã‚“ã§ãã‚‚ãã‚‚viteã§ã§ããªã‹ã£ãŸã®ï¼Ÿ

âº ç´ æ™´ã‚‰ã—ã„è³ªå•ã§ã™ï¼å®Ÿã¯Viteã«ã‚‚SSRæ©Ÿèƒ½ã¯çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã™ã€‚

  Viteã®SSRæ©Ÿèƒ½

  Viteã¯å®Ÿéš›ã«SSRã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ï¼š
  - vite.ssrLoadModule() - ã‚µãƒ¼ãƒãƒ¼å´ã§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’èª­ã¿è¾¼ã‚€
  - vite.transformIndexHtml() - HTMLã‚’å¤‰æ›
  - SSRç”¨ã®ãƒ“ãƒ«ãƒ‰æ©Ÿèƒ½

  ãªãœåˆ¥ã®ã‚µãƒ¼ãƒãƒ¼ï¼ˆExpressï¼‰ãŒå¿…è¦ã ã£ãŸã®ã‹

  Viteã¯ã€Œãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã€ã§ã‚ã‚Šã€ŒWebã‚µãƒ¼ãƒãƒ¼ã€ã§ã¯ãªã„ã‹ã‚‰ã§ã™ï¼š

  é–‹ç™ºç’°å¢ƒã§ã®å½¹å‰²åˆ†æ‹…

  Vite = ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å¤‰æ›ã€HMRã€ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  Express = HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å‡¦ç†ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹é€ä¿¡

  å…·ä½“çš„ãªå‡¦ç†ã®æµã‚Œ

  1. ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰http://localhost:5173/ã«ã‚¢ã‚¯ã‚»ã‚¹
  2. ExpressãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚‹
  3. Viteã«Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¤‰æ›ã‚’ä¾é ¼ï¼ˆvite.ssrLoadModuleï¼‰
  4. ViteãŒå¤‰æ›ã—ãŸã‚³ãƒ¼ãƒ‰ã‚’è¿”ã™
  5. ExpressãŒãã‚Œã‚’HTMLã¨ã—ã¦çµ„ã¿ç«‹ã¦ã¦è¿”ã™

  ã‚ˆã‚Šç°¡å˜ãªæ–¹æ³•ã‚‚ã‚ã‚‹

  å®Ÿã¯ã€ã‚‚ã£ã¨ã‚·ãƒ³ãƒ—ãƒ«ãªSSRãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚‚ã‚ã‚Šã¾ã™ï¼š

  1. Vikeï¼ˆæ—§vite-plugin-ssrï¼‰

  // vite.config.js
  import { vike } from 'vike/plugin'

  export default {
    plugins: \[vike()\]
  }
  - Viteãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã—ã¦å‹•ä½œ
  - åˆ¥é€”ã‚µãƒ¼ãƒãƒ¼ã‚’æ›¸ãå¿…è¦ãªã—

  2. TanStack Start

  - TanStack Routerå…¬å¼ã®ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
  - SSRãŒçµ„ã¿è¾¼ã¿

  3. Astro

  npm create astro@latest
  - Viteãƒ™ãƒ¼ã‚¹ã ã‘ã©ã€SSRãŒæœ€åˆã‹ã‚‰å‹•ã

  ã¾ã¨ã‚

  - Viteå˜ä½“ã§ã¯Webã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦å‹•ä½œã—ãªã„
  - Viteã¯SSRã®ã€Œãƒ“ãƒ«ãƒ‰éƒ¨åˆ†ã€ã‚’æ‹…å½“
  - å®Ÿéš›ã®HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†ã«ã¯åˆ¥ã®ã‚µãƒ¼ãƒãƒ¼ãŒå¿…è¦
  - ã§ã‚‚ã€ãã‚Œã‚’éš è”½ã—ã¦ãã‚Œã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚‚ã‚ã‚‹ï¼ˆNext.jsã€Nuxtã€SvelteKitãªã©ï¼‰

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/28 2:28:17*

ã”è³ªå•ã®æ„å›³ã‚’æ˜ç¢ºã«ã™ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®ç‚¹ã‚’æ•™ãˆã¦ãã ã•ã„ï¼š

1. \*\*ç›®æŒ‡ã—ã¦ã„ã‚‹é–‹ç™ºã‚¹ã‚¿ã‚¤ãƒ«\*\*ï¼šViteã‚’ä½¿ã£ãŸSSRæ§‹æˆã§ã€Next.jsã®ã‚ˆã†ãªã€Œãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãªDXï¼ˆé–‹ç™ºä½“é¨“ï¼‰ã€ã‚’æ±‚ã‚ã¦ã„ã¾ã™ã‹ï¼Ÿãã‚Œã¨ã‚‚ã§ãã‚‹ã ã‘ã‚·ãƒ³ãƒ—ãƒ«ãªSSRã‚’çµ„ã¿ãŸã„ã§ã™ã‹ï¼Ÿ
2. \*\*ä½¿ç”¨ã—ã¦ã„ã‚‹æŠ€è¡“\*\*ï¼šReactã¨TanStack Router + Queryã¯ç¢ºå®šã¨ã—ã¦ã€ãƒ•ãƒ­ãƒ³ãƒˆãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åŒä¸€ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ
3. \*\*ä½¿ç”¨ã—ãŸã„å®Ÿè¡Œç’°å¢ƒ\*\*ï¼šBunã§å®Œçµã•ã›ãŸã„ã§ã™ã‹ï¼Ÿãã‚Œã¨ã‚‚Node.jsã§ã‚‚æ§‹ã‚ãªã„ã§ã™ã‹ï¼Ÿ
4. \*\*æ°—ã«ãªã‚‹æ¯”è¼ƒå¯¾è±¡\*\*ï¼šVikeã€TanStack Startã€Astroã€Next.jsãªã©ã®å…·ä½“çš„ãªæ¯”è¼ƒã‚’å¸Œæœ›ã—ã¦ã„ã¾ã™ã‹ï¼Ÿã¾ãŸã€é‡ç‚¹çš„ã«è¦‹ãŸã„è¦³ç‚¹ï¼ˆDXã€æŸ”è»Ÿæ€§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€Bunå¯¾å¿œãªã©ï¼‰ãŒã‚ã‚Œã°æ•™ãˆã¦ãã ã•ã„ã€‚

ã“ã‚Œã‚‰ã‚’æ•™ãˆã¦ã‚‚ã‚‰ãˆã‚‹ã¨ã€æœ€é©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ¯”è¼ƒã¨æ§‹æˆææ¡ˆãŒã§ãã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/28 2:30:41*

ãã‚Œã¨ã‚‚ã§ãã‚‹ã ã‘ã‚·ãƒ³ãƒ—ãƒ«ãªSSRã‚’çµ„ã¿ãŸã„ã§ã™ã‹ï¼Ÿ
Reactã¨TanStack Router + Queryã¯ç¢ºå®šã¨ã—ã¦ã€ãƒ•ãƒ­ãƒ³ãƒˆãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åŒä¸€ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã—ã¦ã„ã¾ã™ã‹ï¼Ÿã¯ã„ãã†ã§ã™ã€‚HPTTãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯OpenAPI-AMLã‹ã‚‰OpenAPI TypeScriptã¨OpenAPI Fetchã‚’ä½¿ã£ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¦ã„ã‚‹ã€‚ 
3.	ä½¿ç”¨ã—ãŸã„å®Ÿè¡Œç’°å¢ƒï¼šã§ãã‚Œã°Bunã§å®Œçµã•ã›ãŸã„ã€‚
Vikeã€TanStack Startã€Astroã€Next.jsãªã©ã®å…·ä½“çš„ãªæ¯”è¼ƒã‚’å¸Œæœ›ã—ã¦ã„ã¾ã™ã‹ï¼Ÿã¯ã„ã€‚ã¾ãŸã€é‡ç‚¹çš„ã«è¦‹ãŸã„è¦³ç‚¹ï¼ˆDXã€æŸ”è»Ÿæ€§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€Bunå¯¾å¿œãªã©ï¼‰ãŒã‚ã‚Œã°æ•™ãˆã¦ãã ã•ã„ã€‚å®Ÿè£…ã®ã—ã‚„ã™ã•ã¨ã‹

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/28 2:30:54*

äº†è§£ã§ã™ã€‚React + TanStack Router/Queryæ§‹æˆã§ã€Bunç’°å¢ƒã«ãŠã„ã¦ã‚·ãƒ³ãƒ—ãƒ«ãªSSRã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®é¸æŠè‚¢ï¼ˆVikeã€TanStack Startã€Astroã€Next.jsï¼‰ã‚’ã€ä»¥ä¸‹ã®è¦³ç‚¹ã§æ¯”è¼ƒãƒ»æ•´ç†ã—ã¾ã™ï¼š

- å®Ÿè£…ã®ã—ã‚„ã™ã•ï¼ˆå­¦ç¿’ã‚³ã‚¹ãƒˆãƒ»æ§‹æˆã®æ˜ç­ã•ï¼‰
- DXï¼ˆé–‹ç™ºä½“é¨“ï¼‰
- æŸ”è»Ÿæ€§ï¼ˆç‹¬è‡ªæ§‹æˆã‚„ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®è¿½åŠ ã®ã—ã‚„ã™ã•ï¼‰
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆåˆæœŸè¡¨ç¤ºé€Ÿåº¦ã‚„ãƒ“ãƒ«ãƒ‰æ™‚é–“ï¼‰
- Bunã§ã®å‹•ä½œå®Ÿç¸¾ãƒ»ã‚µãƒãƒ¼ãƒˆçŠ¶æ³

æ¯”è¼ƒè¡¨ã‚„ã¾ã¨ã‚ã‚‚å«ã‚ã¦ãŠå±Šã‘ã—ã¾ã™ã€‚å°‘ã—ãŠæ™‚é–“ãã ã•ã„ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/28 2:30:42*

{
  "task\_violates\_safety\_guidelines": false,
  "user\_def\_doesnt\_want\_research": false,
  "response": "äº†è§£ã§ã™ã€‚React + TanStack Router/Queryæ§‹æˆã§ã€Bunç’°å¢ƒã«ãŠã„ã¦ã‚·ãƒ³ãƒ—ãƒ«ãªSSRã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®é¸æŠè‚¢ï¼ˆVikeã€TanStack Startã€Astroã€Next.jsï¼‰ã‚’ã€ä»¥ä¸‹ã®è¦³ç‚¹ã§æ¯”è¼ƒãƒ»æ•´ç†ã—ã¾ã™ï¼š\\n\\n- å®Ÿè£…ã®ã—ã‚„ã™ã•ï¼ˆå­¦ç¿’ã‚³ã‚¹ãƒˆãƒ»æ§‹æˆã®æ˜ç­ã•ï¼‰\\n- DXï¼ˆé–‹ç™ºä½“é¨“ï¼‰\\n- æŸ”è»Ÿæ€§ï¼ˆç‹¬è‡ªæ§‹æˆã‚„ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®è¿½åŠ ã®ã—ã‚„ã™ã•ï¼‰\\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆåˆæœŸè¡¨ç¤ºé€Ÿåº¦ã‚„ãƒ“ãƒ«ãƒ‰æ™‚é–“ï¼‰\\n- Bunã§ã®å‹•ä½œå®Ÿç¸¾ãƒ»ã‚µãƒãƒ¼ãƒˆçŠ¶æ³\\n\\næ¯”è¼ƒè¡¨ã‚„ã¾ã¨ã‚ã‚‚å«ã‚ã¦ãŠå±Šã‘ã—ã¾ã™ã€‚å°‘ã—ãŠæ™‚é–“ãã ã•ã„ã€‚"
  ,
  "title": "Bunç’°å¢ƒã§React + TanStackæ§‹æˆã«æœ€é©ãªSSRãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯æ¯”è¼ƒ",
  "prompt": "Reactã¨TanStack Router + Queryã‚’ä½¿ã„ã€Bunã§å®Œçµã™ã‚‹SSRæ§‹æˆã‚’ç›®æŒ‡ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãŸã‚ã«ã€ä»¥ä¸‹ã®SSRå¯¾å¿œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆVikeã€TanStack Startã€Astroã€Next.jsï¼‰ã‚’æ¯”è¼ƒãƒ»è©•ä¾¡ã™ã‚‹ã€‚\\n\\nè©•ä¾¡è¦³ç‚¹ï¼š\\n1. å®Ÿè£…ã®ã—ã‚„ã™ã•ï¼ˆæ§‹æˆã®æ˜ç­ã•ã€å­¦ç¿’ã‚³ã‚¹ãƒˆï¼‰\\n2. é–‹ç™ºä½“é¨“ï¼ˆDXï¼‰\\n3. æŸ”è»Ÿæ€§ï¼ˆã‚«ã‚¹ã‚¿ãƒ æ§‹æˆã‚„ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®è¿½åŠ ã®è‡ªç”±åº¦ï¼‰\\n4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆé–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•æ™‚é–“ã€åˆå›è¡¨ç¤ºã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ãªã©ï¼‰\\n5. Bunã§ã®å‹•ä½œã‚µãƒãƒ¼ãƒˆï¼ˆå…¬å¼ãƒ»ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£å¯¾å¿œã€æ—¢çŸ¥ã®å•é¡Œã‚„åˆ¶ç´„ï¼‰\\n\\nå‰ææ¡ä»¶ï¼š\\n- React + TanStack Router + TanStack Queryã‚’ä½¿ç”¨\\n- ãƒ•ãƒ­ãƒ³ãƒˆã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯ãƒ¢ãƒãƒ¬ãƒï¼ˆåŒä¸€ãƒªãƒã‚¸ãƒˆãƒªï¼‰\\n- OpenAPIã‹ã‚‰OpenAPI TypeScript + OpenAPI Fetchã«ã‚ˆã‚ŠAPIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ¼ãƒ‰ã‚’è‡ªå‹•ç”Ÿæˆ\\n\\nå‡ºåŠ›å½¢å¼ï¼š\\n- å„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®è©³ç´°ãªèª¬æ˜\\n- ä¸Šè¨˜è¦³ç‚¹ã«æ²¿ã£ãŸæ¯”è¼ƒè¡¨\\n- Bunã§ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ãŒã‚ã‚Œã°è¨˜è¼‰\\n- ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯è¦‹ã‚„ã™ã„æ§‹æˆã§æ•´ç†ã•ã‚ŒãŸæ¯”è¼ƒãƒ¬ãƒãƒ¼ãƒˆå½¢å¼\\n- å‡ºåŠ›ã¯æ—¥æœ¬èªã§"
}

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/28 2:38:02*

# Comparison of SSR Solutions: Next.js vs Astro vs Vike vs TanStack Start

ã€38â€ embed\_imageã€‘ \*Figure: Next.js (left) vs. TanStack Start (right) emphasize different approaches. Next.js is \*\*server-first\*\*, with pages pre-rendered on the server by default, whereas TanStack Start treats the app as a client-side SPA by default but allows \*\*full-document SSR\*\* and streaming when neededã€28â€ L85-L92ã€‘ã€28â€ L138-L146ã€‘. Each framework (including Astro and Vike) strikes a balance between developer experience, flexibility, performance, and compatibility with new runtimes like Bun.\*  

## Next.js (Node/Express SSR built-in)  
Next.js is a \*\*widely-used full-stack React framework\*\* that comes with integrated SSR out of the box. By running `next dev` or `next start`, Next.js launches its \*\*own Node.js HTTP server\*\* internallyã€40â€ L460-L468ã€‘ â€“ no additional Express setup is needed. It uses file-based routing (`pages/` or the new `app/` directory) and has built-in mechanisms for data fetching (like `getServerSideProps`, `getStaticProps`) and even React Server Components in the App Router. This â€œbatteries-includedâ€ approach means developers can get SSR working with minimal configuration. The development experience is polished: just run the dev server and Next handles SSR, HMR, code-splitting, etc. \*\*Developer Experience (DX)\*\* is excellent for those following Nextâ€™s conventions â€“ thereâ€™s extensive documentation and a large community for supportã€31â€ L165-L173ã€‘. TypeScript is well-supported, and new projects can be bootstrapped in seconds with `create-next-app`. 

- \*\*Flexibility & Customization:\*\* Next.js trades some flexibility for convenience. It has an opinionated structure and patterns â€“ you \*\*must use its routing system and data fetching APIs\*\* or the newer App Router conventionsã€31â€ L104-L112ã€‘. While you \*can\* extend or customize (for example, using a custom server or middleware), deviating from Nextâ€™s standard practices can remove built-in optimizationsã€40â€ L468-L476ã€‘. Next is tightly integrated with the Node runtime and Vercelâ€™s deployment platform, which provides a smooth path to deploy but can feel somewhat â€œlocked inâ€ to that ecosystemã€31â€ L179-L187ã€‘. For instance, Nextâ€™s internal server is optimized for Node.js and out-of-the-box doesnâ€™t run on alternative runtimes like Deno or Bun without issues. You get less low-level control (the framework abstracts away the server handling), but in return you avoid writing boilerplate for routing or SSR â€“ \*\*Next handles it for you\*\*.

- \*\*Performance:\*\* Next.js is designed for production performance. Its \*\*server-first rendering\*\* yields fast initial loads and good SEO by pre-rendering contentã€28â€ L127-L136ã€‘. It supports SSG and ISR (Incremental Static Regeneration) for caching pages, and the App Router can leverage \*\*React Server Components\*\* to send less JavaScript to the client. Next also provides built-in optimizations like automatic image compression, script loading strategies, etc.ã€31â€ L39-L47ã€‘ã€31â€ L102-L110ã€‘. In development, Next 13+ uses Webpack or the new Turbopack (still experimental) â€“ not as fast as Viteâ€™s dev server, but still reasonably developer-friendly. Overall runtime performance of Next apps is robust, and the frameworkâ€™s features (caching, routing, etc.) are battle-tested in many large appsã€31â€ L131-L139ã€‘. However, because a lot is abstracted, you have less manual control over performance fine-tuning compared to lower-level solutions â€“ Next chooses sensible defaults for you.

- \*\*Bun Compatibility:\*\* \*\*Bun\*\* (a new JS runtime) is not officially supported by Next.js as of 2025. Nextâ€™s internals rely on Node APIs that Bun hasnâ€™t fully implemented yetã€32â€ L363-L370ã€‘. For example, you can use Bun as a package manager to install a Next.js project, but actually running `next dev` or `next start` under Bunâ€™s runtime will run into incompatibilitiesã€32â€ L363-L370ã€‘. (In fact, the Bun docs note that their Next.js guide still uses Node to run the dev server.) This means if you require running your SSR server on Bun for performance or deployment reasons, Next.js is not the easiest choice today. There are community experiments, but no official support from Vercel at the moment. In summary, Next.js is \*\*tied to Node.js\*\* for now, whereas some newer frameworks are aiming for more runtime-agnostic support.

## Astro (Content-focused SSR with Islands)  
Astro is a modern framework focused on \*\*building fast, content-rich websites\*\* with an SSR approach quite different from Next or TanStack. Astro emphasizes \*\*Static Site Generation (SSG)\*\* and server-side rendering of pages, but by default ships \*\*zero JavaScript to the client\*\* unless you opt into itã€30â€ L430-L438ã€‘. Its philosophy is the â€œislands architectureâ€: you render most of the page as static HTML on the server, and sprinkle interactive components (islands) that hydrate on the client only where neededã€30â€ L432-L439ã€‘ã€30â€ L478-L486ã€‘. This results in very little JS sent to users for typical pages, yielding excellent performance. \*\*Developer experience\*\* with Astro is great for content sites â€“ you write Astro components (which resemble HTML/JSX) and can integrate React, Vue, etc. for interactive parts. The learning curve is relatively gentle if you know HTML/JS, and Astroâ€™s syntax is straightforward with fine-grained control over hydration (e.g. you can specify an interactive component to load â€œon client:visibleâ€ or not at all until needed). Essentially, \*\*Astro lets you use your favorite UI framework (React, Svelte, etc.) but only where necessary\*\*, and otherwise treats your page like a static document. This makes it \*â€œnearly impossible to build a slow website with Astro,â€\* as one quote puts it, because by default it prioritizes server rendering and minimal client JSã€30â€ L478-L486ã€‘.

- \*\*Flexibility & Use Case:\*\* Astro is highly flexible in terms of UI integration â€“ itâ€™s \*\*UI-framework agnostic\*\* and you can even mix multiple frameworks on one site (useful for gradual migrations)ã€30â€ L447-L455ã€‘. However, this flexibility is aimed at content and marketing websites rather than web applications. The Astro team explicitly notes that Astro \*â€œmight not be the best choice for building full-fledged web applications.â€\*ã€30â€ L438-L442ã€‘ In other words, if your project is more like a dashboard or interactive app with heavy client-side state (e.g. a complex React SPA), Astro could still render it, but youâ€™d essentially be using Astro to SSR a large React app island â€“ not playing to Astroâ€™s strengths. Astro shines for \*\*static content sites, blogs, documentation, landing pages, e-commerce catalogs\*\*, etc., where most pages can be pre-rendered and only small parts need interactivity. In those scenarios, developer flexibility is high (you decide where to inject interactive islands) and you get great performance by default. For large single-page applications with lots of dynamic state, using Astro would add complexity without much benefit, since youâ€™d be opting out of its core feature (islands for mostly static pages).

- \*\*Performance:\*\* Performance is Astroâ€™s top priority. By rendering as much as possible to static HTML and opting out of sending JavaScript, Astro pages load extremely fast. The \*\*island/partial hydration\*\* model means that even if you have dynamic widgets, each islandâ€™s JS is isolated and loaded only when needed, reducing the bundle size compared to an all-in-one hydration. Astro also supports streaming SSR and incremental rendering out of the box via its adapters, which helps with TTFB for larger pages. Essentially, Astro aims for the optimal mix of SSR and CSR by default â€“ you donâ€™t ship a big JS bundle just to get content on screen. This makes Astro particularly good for SEO and initial page load times on slow networks. The trade-off is that if your page \*does\* require heavy interactivity, you end up adding islands that might collectively approach a full appâ€™s worth of JS (in which case, a framework designed for SPAs might be more appropriate). But within its ideal use-case, Astroâ€™s performance approach yields some of the best outcomes in terms of load speed and runtime efficiency. \*(As the Astro docs humorously say, â€œIt should be nearly impossible to build a slow website with Astro.â€)\*

- \*\*Bun Support:\*\* Astro can run on Bun, but \*\*with some caveats\*\*. There is an official guide for using Astro with Bunâ€™s runtime, and you can develop/build with commands like `bunx --bun astro dev`ã€9â€ L417-L426ã€‘. However, the Astro docs caution that \*â€œusing Bun with Astro may reveal rough edgesâ€\* and some integrations might not work perfectlyã€35â€ L1-L4ã€‘. In practice, this means Bunâ€™s Node compatibility for some Astro plugins or adapters isnâ€™t 100% yet. Astro does have a community-maintained adapter for Bun (`astro-bun` adapter), and as Bun matures, running Astroâ€™s SSR on Bunâ€™s server should become smoother. But if Bun is a strict requirement, be prepared for a bit of trial and error with Astro at this time. On the flip side, Astroâ€™s \*\*static build\*\* mode (SSG) outputs pure HTML/CSS/JS, which can be served by any server (including Bun) with no issue. Itâ€™s only when you use Astroâ€™s SSR (serverful) mode that the runtime matters. In summary, Astro supports Bun in development and SSR with some limitations, but Node is still the more proven environment for Astro SSR. 

## Vike (vite-plugin-ssr)  
Vike (the project formerly known as \*\*vite-plugin-ssr\*\*) is a lower-level solution that \*\*adds SSR capabilities to Vite\*\* without locking you into a specific framework or server. Think of Vike as a lightweight toolkit to create your own â€œNext.js-likeâ€ framework: it provides file-based routing, page rendering hooks, and integration with Viteâ€™s dev/build system, but \*\*you are in charge of the server and how things tie together\*\*. In fact, Vike is \*â€œserver and deployment agnostic,â€\* meaning you can use \*\*any server technology\*\* (Nodeâ€™s HTTP, Express, Fastify, Bunâ€™s server, Cloudflare Workers, etc.) to handle incoming requestsã€22â€ L82-L90ã€‘. Vike will help load your page components and render them to HTML, but it doesnâ€™t start an HTTP server for you â€“ you pair it with one. The official Vite SSR guide, for example, shows using Express in middleware modeã€20â€ L241-L249ã€‘, where Vite dev server is plugged into an Express app that does SSR. You could just as well use Bunâ€™s native `Bun.serve()` API to serve requests and call Vikeâ€™s `renderPage()` function for SSR. This means \*\*implementation complexity is a bit higher\*\* than a turnkey framework: youâ€™ll write a small server script and handle things like routing to the correct page. The benefit is \*\*maximum flexibility\*\*. You can integrate any UI library (React, Vue, Svelte, etc.), any data fetching or state management (TanStack Query, Redux â€“ whatever you like)ã€22â€ L73-L81ã€‘ã€22â€ L111-L119ã€‘. Vike just ensures that your pages can render on the server and hydrate on the client, and it leaves architectural decisions to you. For developers who want full control and donâ€™t mind some boilerplate, this is ideal.

- \*\*Developer Experience & Ease:\*\* Using Vike is more involved upfront than using Next.js or Astro. Youâ€™ll need to set up your Vite config with the Vike plugin and create a server entry. However, Vikeâ€™s design tries to minimize unnecessary complexity. Itâ€™s described as \*â€œfull-fledged yet minimalâ€\* â€“ adding Vike doesnâ€™t pull in heavy dependencies beyond what Vite already hasã€22â€ L87-L95ã€‘. In practice, you might scaffold a Vike project with a CLI (`npm init vite-plugin-ssr`) which gives you a basic file structure (e.g. `pages/` directory for pages, and `\_default.page.server.js`/`.page.client.js` for SSR logic). From there, you implement how to render a page (for example, use `ReactDOMServer.renderToString` in a `\_default.page.server.js`). Itâ€™s more manual coding, but \*\*very straightforward\*\* if you are comfortable with Vite and your UI framework. The DX of Vike during development is actually excellent because it leverages Viteâ€™s dev server â€“ you get super fast HMR and module reloads (much faster dev cycle than Nextâ€™s Webpack-based HMR)ã€22â€ L99-L107ã€‘. The trade-off is that you must manage details yourself (routing logic, data loading conventions, etc.), whereas frameworks like Next or TanStart provide higher-level APIs for those. Vike does have examples and guides for common tasks (auth, data fetching with React Query, etc.), so youâ€™re not completely on your own. If â€œease of implementationâ€ means \*\*less coding\*\* upfront, Vike might seem harder than Next; but if it means \*\*clarity and control\*\*, Vike can actually feel simpler because thereâ€™s no â€œmagicâ€ â€“ you see exactly how SSR happens in your code.

- \*\*Flexibility:\*\* This is Vikeâ€™s strongest point. You have \*\*full architectural freedom\*\*ã€22â€ L111-L119ã€‘. Want to use Express middleware? Fine. Switch to a faster server like Fastify or Hono? Go ahead. Deploy as a serverless function, or a traditional Node server, or on Bun? All possible. Vike doesnâ€™t assume anything about your deployment target (Node, Deno, workers) â€“ it even supports pre-rendering (SSG) if you want to generate static files. Similarly on the front-end: you could use client-side routing with something like React Router or TanStack Router, or rely on the default file routing and do server navigation â€“ itâ€™s up to you (Vike supports both SPA and server-rendered navigation modes). Because you integrate libraries manually, you can pair it with TanStack Query for data caching, or Apollo GraphQL, etc., in a way that \*you\* design. This is in contrast to something like Next.js, where adding an Apollo provider or state management might require specific Next-compatible approaches. With Vike, thereâ€™s a guide for React Query integrationã€4â€ L68-L77ã€‘, but ultimately you decide how data is fetched and passed to pages (often via an `onBeforeRender` hook that runs on the server for each page). The \*\*trade-off\*\* is that with great freedom comes responsibility: you need to structure your app and maintain that structure. For example, error handling or authentication gating are up to you to implement (Vike provides hooks, but you write the logic). In summary, Vike is extremely flexible â€“ youâ€™re \*â€œbuilding your own frameworkâ€\* atop Vite in a sense â€“ which appeals to advanced use cases or those who want to avoid any vendor lock-in.

- \*\*Performance:\*\* Vikeâ€™s performance characteristics largely depend on how you use it. Since itâ€™s just a thin layer over Vite, it benefits from Viteâ€™s efficient bundling and dev server, plus your choice of server runtime. In production, a Vike app can be very fast. You could, for example, use \*\*Bunâ€™s HTTP server which is known for high performance\*\*, or use a lightweight Node server like Hono or the native `http` module to squeeze out performance. Vike itself adds little overhead â€“ itâ€™s basically orchestrating the rendering. It supports \*\*streaming HTML\*\* (so you can stream the SSR result to the client chunk by chunk) and fine-grained control over hydration and code-splittingã€3â€ L13-L18ã€‘ã€22â€ L97-L105ã€‘. One might argue Next.js has more built-in tuning (like automatic code-splitting of routes, etc.), but with Vike you can achieve the same by leveraging Viteâ€™s capabilities. Another performance angle: because you can choose your deployment target, you can run Vike SSR on Cloudflare Workers or Deno Deploy for edge rendering, which can reduce latency for users globally (Next can do this too via middleware and Edge Functions, but Vike makes it equally possible if you set up the environment). In short, \*\*Vike can be as performant as the sum of Vite + your server choice + your UI libraryâ€™s SSR performance\*\*. It doesnâ€™t impose a heavy runtime of its own. If you write efficient rendering code and use a fast server, Vike will deliver excellent SSR throughput and TTFB. One thing to note: Vike does not (by itself) provide advanced caching strategies or image optimizations â€“ youâ€™d implement those or use middleware. So performance tuning is in your hands.

- \*\*Bun Support:\*\* Since Vike is \*\*server-agnostic\*\*, you can absolutely run a Vike SSR app on Bun. In fact, Vikeâ€™s author and community have been interested in Bun â€“ issues have been raised to ensure compatibilityã€14â€ L205-L214ã€‘, and Bun has been improving Node API support to get frameworks like vite-plugin-ssr working. Practically, using Bun with Vike could look like: instead of an Express server, you use `Bun.serve()` in your server entry. Youâ€™d call `renderPage()` (Vikeâ€™s SSR function) inside the Bun request handler, and return the HTML as a Response. This can yield great performance (Bunâ€™s HTTP server is very fast). As of mid-2025, Bun 1.x can run many Vite-based SSR setups, including TanStack Start and likely Vike, though you might encounter an occasional quirk. The \*\*good news\*\* is that TanStack Start (built on a similar foundation) explicitly supports Bun, and Vikeâ€™s design is equally adaptable. No official â€œadapterâ€ is needed â€“ just ensure your dependencies are compatible. If any Node core modules are used in your SSR logic, Bun needs to support them (which it does for most cases). In summary, \*\*Vike on Bun\*\* is a viable and performant choice, giving you a Next.js-like SSR app without Node. It might require a bit of community exploration (checking GitHub issues for any Bun-specific fixes), but many developers have reported success using Vite SSR on Bun. This makes Vike a strong option if you want to \*\*â€œgo full Bunâ€\*\* for both dev and prod environment.

## TanStack Start (Full-stack React Framework)  
TanStack Start is a \*\*new full-stack React framework\*\* (currently in beta) created by the TanStack team (makers of React Query & Router). It aims to provide an experience similar to Next.js \*but\* with a \*\*â€œclient-firstâ€ twist and more transparency\*\* in the SSR process. Under the hood, TanStack Start is built on Vite and uses a library called \*\*Vinxi/Nitro\*\* to handle SSR and server bundling, plus TanStack Router for routingã€26â€ L129-L137ã€‘. What this means is that TanStack Start apps can run on various runtimes (Node, Bun, edge, etc.) much like Vike â€“ indeed, Startâ€™s plugin has deployment targets for Node, Netlify, Vercel, \*\*and Bun\*\*ã€34â€ L174-L182ã€‘ã€34â€ L174-L178ã€‘. The frameworkâ€™s philosophy is to \*\*take the best ideas from competitors (Next, Remix)\*\* and combine them with TanStackâ€™s strengths in state management and data fetching, while \*â€œstripping away constraints and introducing more flexibility.â€\*ã€26â€ L139-L147ã€‘ In practical terms, TanStack Start gives you: file-based routing (with support for nested layouts, similar to Nextâ€™s App Router or Remix), \*\*isomorphic data loaders\*\* (functions that load data on the server and hydrate it into the client cache, akin to Remix loaders or Nextâ€™s `getServerSideProps` but integrated with TanStack Query for smart caching), and \*\*server functions/RPC\*\* endpoints (similar to Next API routes or Remix actions, but typed). All of this is done in a way thatâ€™s type-safe and closely integrated with React. The \*\*developer experience\*\* is meant to feel familiar if youâ€™ve used Next.js, but thereâ€™s less â€œmagicâ€ â€“ the code is more explicit. For example, instead of hiding a lot of routing logic behind the scenes, you often define your routes and loaders with TanStack Routerâ€™s APIs (or its file generator) so you can see the types and logic clearly. This can require writing a bit more boilerplate than Next, but many developers (especially those who value type safety) find that a worthwhile trade-offã€26â€ L184-L192ã€‘. 

- \*\*DX & Ease of Use:\*\* If Next.js is the benchmark for ease (due to its huge ecosystem and out-of-box setup), TanStack Start is \*\*quickly closing the gap\*\* for React developers. It has a robust documentation site and even a migration guide for Next.js usersã€24â€ L1-L8ã€‘ã€25â€ L238-L247ã€‘. Since TanStack Start is still in \*\*beta\*\*, you might hit some rough edges, and the community is smaller than Nextâ€™s. One key consideration: TanStack Start requires familiarity with TanStack Routerâ€™s concepts (like route loaders, route definitions). For someone already using React Router or Next, thereâ€™s a little learning curve to define nested routes and loaders in the TanStack way. However, many find that \*\*very rewarding\*\* because of the type inference and fine control it offersã€25â€ L249-L258ã€‘ã€25â€ L263-L271ã€‘. In terms of setup, TanStack Start comes with a Vite plugin that essentially bundles your app for different targets. You can scaffold a new project easily, and there are example starters (including one with React Query integration)ã€5â€ L108-L116ã€‘ã€5â€ L124-L132ã€‘. The development server uses Vite (so lightning fast HMR), and the framework handles SSR and streaming behind the scenes â€“ you donâ€™t manually code the SSR like in Vike. Itâ€™s arguably \*\*easier to implement SSR with TanStart than with Vike\*\*, because TanStart gives you conventions (just like Next does) for where to put your loader logic, how to define routes, etc., rather than requiring you to wire up the server yourself. That said, compared to Next.js, you might do a bit more explicit coding (for instance, writing a `createRoute()` configuration instead of just relying on a fileâ€™s existence). In summary, the DX is trending positive: TanStack Start has \*\*â€œgreat documentation and plenty of examplesâ€\*\* alreadyã€26â€ L193-L199ã€‘, and if you enjoy TanStack Query/Router, this framework feels tailor-made. Just remember itâ€™s a young project â€“ you wonâ€™t find as many StackOverflow answers or community plugins yet. 

- \*\*Flexibility & Transparency:\*\* TanStack Startâ€™s hallmark is \*\*flexibility without too much magic\*\*. Unlike Next.js, which can feel like a black box (routing, data fetching and even React internals like RSC are abstracted), TanStack Start exposes and types everything. \*â€œNone of the file-based routing is concealedâ€\*, as one review noted â€“ you can see and modify how routes are wired upã€26â€ L184-L192ã€‘. This means \*\*you have more levers\*\*: you can choose between file-based or code-based routing, you can customize the behavior of loaders, and youâ€™re not tied to a specific deployment (the framework isnâ€™t assuming youâ€™ll deploy on Vercel only). In fact, one of the motivations was to avoid heavy \*\*vendor lock-in\*\*; with TanStack Start your code is more portable (no proprietary Next.js APIs like `getServerSideProps` that only work within Next)ã€31â€ L179-L187ã€‘ã€31â€ L114-L122ã€‘. Itâ€™s still opinionated in some ways â€“ for example, it embraces the TanStack Router style of doing things â€“ but itâ€™s \*\*less monolithic\*\* than Next. You could integrate something like tRPC or your own RPC system for server calls; TanStart provides a basic RPC mechanism (server functions) but doesnâ€™t prevent using others. Also, because TanStack Start is built on Vite/Nitro, you can theoretically extend the build pipeline with Vite plugins if needed (imagine adding an Astro integration, or specialized Vite plugins â€“ things Nextâ€™s webpack might not allow as easily). \*\*In short, TanStack Start gives you a structured framework but lets you go â€œoff-roadâ€ more easily\*\* than Next. This aligns with its client-first philosophy: treat the app as an SPA and opt into SSR where it helps, rather than forcing everything through the server. Itâ€™s a good middle ground between a DIY approach (Vike) and a highly structured one (Next). That said, being in beta, some features (e.g. React Server Components support) are still experimentalã€25â€ L309-L317ã€‘ â€“ flexibility is there, but you might be forging new paths with less prior art to draw on.

- \*\*Performance:\*\* TanStack Start is built on a \*\*â€œclient-first, but SSR-capableâ€\*\* architectureã€28â€ L109-L117ã€‘ã€28â€ L139-L147ã€‘. By default, pages behave like an SPA (which means ultra-fast client-side transitions and stateful interactions using TanStack Router). However, it also supports \*\*full-document SSR\*\* and even \*\*streaming SSR\*\* for each route out of the boxã€5â€ L133-L142ã€‘ã€5â€ L163-L172ã€‘. This hybrid approach can yield performance benefits in the right scenarios: you might choose to SSR the initial page load (for SEO or time-to-content) and then let the client take over for subsequent navigation, similar to Nextâ€™s approach â€“ but with Start, this is very much opt-in per route. The integration with TanStack Query means it can \*\*preload and cache data\*\* during SSR and seamlessly hand it off to the client cacheã€2â€ L1-L8ã€‘ã€2â€ L13-L17ã€‘. That avoids redundant data fetching and can improve perceived performance (no loading spinners after hydration if done correctly). Because Vite is the bundler, code-splitting and tree-shaking are excellent, and dev build times are fast. In production, Nitro (the server engine borrowed from Nuxt) bundles a minimal server output â€“ this often results in a quite efficient Node or Edge server that only includes the code you need. Benchmarks are still emerging (since itâ€™s new), but anecdotal reports suggest \*\*TanStack Start performs very well\*\* â€“ one user noted it has â€œmost of the features I want out of Next, but with way less magic. Everything is super transparent and flexible.â€ã€10â€ L21-L25ã€‘ From a scalability standpoint, Next.js has a longer track record at scale, but TanStack Startâ€™s design (leveraging proven tools like React Query for caching and Vite for bundling) is sound. It might require more manual tuning â€“ e.g. deciding what to SSR vs render on client â€“ whereas Next now tries to automate that via React Server Components. But that manual control is exactly what some apps need for optimal performance. If we consider \*\*Edge or Bun\*\* environments: TanStack Start, via Nitro, can output for those targets, potentially giving you an edge-rendered global deployment or a super-fast Bun server, which can be a performance win in itself. Essentially, TanStack Startâ€™s performance is \*\*what you make of it\*\*: it provides the tools (streaming, caching, partial hydration) to achieve top-tier performance, but it doesnâ€™t force one strategy on you.

- \*\*Bun Compatibility:\*\* One of the exciting aspects of TanStack Start is that it is being built with \*\*multi-runtime support in mind\*\*, including Bun. The TanStack team has already included a Bun deployment presetã€34â€ L174-L182ã€‘ã€34â€ L349-L358ã€‘. In fact, documentation shows how to set `server.preset: 'bun'` to target Bunâ€™s runtime and notes that React 19+ is required for compatibilityã€34â€ L349-L358ã€‘ã€34â€ L369-L377ã€‘ (React 19 includes some optimizations for Bunâ€™s streaming API). This means you can bundle and deploy your TanStack Start app to run natively on Bunâ€™s server. Bunâ€™s advantages are speed and an all-in-one runtime, so your production SSR could benefit from that performance. By contrast, Next.js doesnâ€™t yet support Bun, so this is a noteworthy difference â€“ TanStack Start is \*\*ahead of the curve on Bun support\*\*. That said, because TanStack Start is beta, you may encounter minor issues on Bun that need ironing out (similar to Astroâ€™s situation). But the intent is clear: \*\*Bun is a first-class citizen\*\* for TanStack Start. If your goal is to use Bun for everything (dev server, SSR server, etc.), TanStack Start is arguably the most ready of these frameworks to do so. Youâ€™d use Bunâ€™s `bun x vite` to run the dev server (since itâ€™s just Vite) and then build with the Bun preset for production. Early adopters have even created starter kits combining TanStack Start + Bun + WASM, etc.ã€10â€ L9-L17ã€‘. In summary, TanStack Startâ€™s Bun support is cutting-edge and aligns well with its philosophy of working â€œanywhere you wantâ€ã€5â€ L133-L142ã€‘ã€11â€ L135-L143ã€‘. As Bun stabilizes and TanStack Start reaches 1.0, this could become a go-to solution for those who want Next.js-like capabilities on the Bun runtime.

## Conclusion: Choosing the Right SSR Solution  
Each of these solutions has its sweet spot:

- \*\*Next.js\*\* is the \*current industry standard\* for React SSR â€“ itâ€™s stable, well-documented, and full-featured. If you need a production-ready framework with minimal setup and your team is already comfortable with Next, itâ€™s a safe choice. However, itâ€™s opinionated and tied to Node.js. If you require Bun or dislike Nextâ€™s conventions, you may hit limitations. Next excels in \*\*maturity and zero-config DX\*\*, and is ideal for content-heavy or enterprise apps that benefit from SSR/SSG and donâ€™t mind the Node/Vercel-centric modelã€31â€ L131-L139ã€‘ã€31â€ L165-L173ã€‘.

- \*\*Astro\*\* is fantastic for \*\*static content sites and blogs\*\* where performance and ease of adding interactive bits are paramount. Its DX is unique in that you think in terms of pages and islands rather than a single-page app. Itâ€™s not the go-to for building a complex data-heavy React application (especially since you already use TanStack Router/Query, which Astro doesnâ€™t directly leverage). But if your project were more about building a documentation site or marketing pages, Astroâ€™s SSR (or SSG) with partial hydration would be a top contender. Itâ€™s also worth noting Astro could be complementary â€“ for example, some teams use Astro for the public-facing site and embed a React app for the dynamic portion. In any case, Astroâ€™s \*\*performance-first, content-focused approach\*\* is somewhat orthogonal to frameworks like Next and TanStart that target web appsã€30â€ L430-L439ã€‘ã€30â€ L438-L442ã€‘.

- \*\*Vike (vite-plugin-ssr)\*\* appeals to those who want to \*\*craft a custom SSR setup\*\* with Vite. Itâ€™s great if you value \*\*full control, framework agnosticism, and lightweight integration\*\*. Given that youâ€™re already using Vite and TanStack Query, adding Vike would let you keep that stack and just introduce SSR capabilities. You would have to write the server logic (which could be as simple as the Express example you have, or using Bunâ€™s server to handle requests). The \*\*standard approach\*\* in the Vite world for SSR is indeed either using a minimal custom server (as you have) or adopting a helper like Vike to organize your pages. Vike is a \*de facto\* standard for SSR in Vite if you donâ€™t use a larger meta-framework â€“ itâ€™s community-driven and â€œdoes one thing wellâ€ã€22â€ L87-L95ã€‘. The downside is the learning curve of assembling pieces yourself, but you seem to have a handle on technologies like TanStack Query already. If implementation simplicity means â€œno extra abstractionâ€, staying with Vite+Vike might be simplest for you, since you wonâ€™t need to refactor into a new frameworkâ€™s paradigm.

- \*\*TanStack Start\*\* is an emerging contender that could give you the best of both worlds: much of Next.jsâ€™s convenience \*\*plus\*\* the flexibility of Vite/TanStack and \*\*native Bun support\*\*. Itâ€™s particularly attractive because you are using TanStack Query/Router â€“ Start is built to integrate those seamlessly (data loaders can feed directly into the Query cache, etc.). The main considerations are its \*\*beta status\*\* and the fact that itâ€™s new (so your team might spend a bit more time learning it and dealing with any beta quirks). If â€œstandardâ€ means â€œwhat will be popular in the near future,â€ TanStack Start is certainly gaining traction as a modern, type-safe alternative to Nextã€10â€ L21-L25ã€‘. Many developers are excited about its approach (less magic, more control). If youâ€™re comfortable being slightly on the cutting edge, it could be a great choice that aligns with your stack and gives you long-term flexibility (no lock-in). As one commenter said, once it hits stable v1, \*\*â€œmany devs will move to using it instead of Next.js.â€\*\*ã€24â€ L19-L24ã€‘

In summary, \*\*the choice comes down to your priorities\*\*: For \*maximum ease and community support\*, Next.js still wins (but only on Node). For \*maximal performance on content sites\*, Astro is king. For \*ultimate flexibility and Bun-first deployment\*, consider Vike or TanStack Start â€“ with TanStack Start offering more ready-made structure than Vike, and Vike offering a proven minimalist approach. Since you indicated an interest in Bun and already use TanStack libraries, \*\*TanStack Start\*\* is definitely worth a close look as a forward-looking solution. On the other hand, if you want to keep things as simple as possible right now, you can absolutely implement SSR with just Vite and a server â€“ using Express (as in Viteâ€™s examples) or switching to Bunâ€™s server â€“ itâ€™s not \*too\* difficult, but you will be doing manually what these frameworks would do for you. The â€œmost standardâ€ approach in 2025 for a non-Next SSR app would be to leverage a tool like TanStack Start or Vike (rather than hand-rolling everything), as these give a good balance of DX and flexibility. Each option has trade-offs, but all of them can achieve your goal of SSR with React and TanStack Query â€” itâ€™s a matter of which aligns best with your projectâ€™s needs and your teamâ€™s appetite for new tech. \*\*In any case, you have strong options:\*\* you wonâ€™t be stuck using Express if you prefer Bun, and you wonâ€™t be forced into Next.js if its model doesnâ€™t suit you. The ecosystem has grown to offer multiple SSR paths, so you can choose the one that gives you the desired developer experience and runtime freedomã€31â€ L155-L163ã€‘ã€31â€ L165-L173ã€‘. Good luck with your SSR implementation!

\*\*Sources:\*\* Next.js Docsã€40â€ L460-L468ã€‘ã€32â€ L363-L370ã€‘; Astro Docs & Blogsã€30â€ L430-L439ã€‘ã€30â€ L438-L442ã€‘ã€35â€ L1-L4ã€‘; Vite SSR Guideã€20â€ L241-L249ã€‘; Vike Documentationã€22â€ L82-L90ã€‘ã€22â€ L111-L119ã€‘; TanStack Start Docs & Articlesã€26â€ L184-L192ã€‘ã€34â€ L174-L182ã€‘; Wisp CMS Blogã€31â€ L114-L122ã€‘ã€31â€ L165-L173ã€‘; LogRocket Blogã€28â€ L109-L117ã€‘ã€28â€ L138-L146ã€‘.

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/28 2:47:22*

èª¿æŸ»ãŒå…¨éƒ¨è‹±èªãªã‚“ã ã‘ã©æ—¥æœ¬èªã§å‡ºåŠ›ã—ç›´ã—ã¦ã»ã—ã„ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/28 2:47:44*

---

## ç›®çš„ã®ãŠã•ã‚‰ã„
- **ãƒ•ãƒ­ãƒ³ãƒˆï¼ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åŒä¸€ãƒªãƒã‚¸ãƒˆãƒª**  
- **React + TanStack Router / Query** ã‚’æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¨ã—ã¦æ¡ç”¨  
- **API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ OpenAPI TypeScript + openapi-fetch ã§è‡ªå‹•ç”Ÿæˆ**  
- **å®Ÿè¡Œç’°å¢ƒã¯ Bun ã‚’æœ€å„ªå…ˆ**  
- **â€œNext.js ã§ã¯ãªã„ SSRâ€ ã®æœ€é©è§£**ã‚’ DXãƒ»æŸ”è»Ÿæ€§ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»Bun å¯¾å¿œã®4è»¸ã§æ¯”è¼ƒ  

---

## ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯åˆ¥ã¾ã¨ã‚

| è¦³ç‚¹ | **Next.js** | **Astro** | **Vike (vite-plugin-ssr)** | **TanStack Start** |
|---|---|---|---|---|
| **å®Ÿè£…ã—ã‚„ã™ã•** | `create-next-app` ã§ã™ãå‹•ãã€‚ãƒ«ãƒ¼ãƒ«ã«å¾“ãˆã°è¨­å®šã¯æœ€å°ã€‚ | Markdownï¼.astro ä¸­å¿ƒã§å­¦ç¿’ã‚³ã‚¹ãƒˆä½ã€‚React éƒ¨åˆ†ã¯ã€Œå³¶ã€ã«é™å®šã€‚ | æœ€å°æ§‹æˆã¯ Express/Bun ã‚µãƒ¼ãƒ + `renderPage()` ã‚’è‡ªåˆ†ã§æ›¸ãã€‚ boilerplate ãŒå°‘ã—å¤šã„ã€‚ | `npm create tanstack@latest` ã§é››å½¢ç”Ÿæˆã€‚ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ or ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’é¸æŠã€‚ Beta ã ãŒãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«å……å®Ÿã€‚ |
| **DX** | HMR, ç”»åƒæœ€é©åŒ–ã€RSC ãªã© â€œå…¨éƒ¨å…¥ã‚Šâ€ã€‚Node å‰æã€‚ | Vite ãƒ™ãƒ¼ã‚¹ã®é«˜é€Ÿ HMRã€‚ã»ã¼é™çš„ãªã®ã§ãƒ“ãƒ«ãƒ‰ã‚‚é«˜é€Ÿã€‚ | Vite ãƒã‚¤ãƒ†ã‚£ãƒ–ã® HMRã€‚æ§‹é€ ãŒè¦‹ãˆã‚‹ï¼â€œé­”æ³•â€ å°‘ã€‚ | Vite + TanStack è£½ devtoolsã€‚å‹å®‰å…¨ãª Loader/Actionã€‚RSC ã¯è©¦é¨“å®Ÿè£…ã€‚ |
| **æŸ”è»Ÿæ€§** | ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã¨ API ã¯è¦ç´„å›ºå®šã€‚è„±ç·šã™ã‚‹ã¨ä»•çµ„ã¿ã‚’å¤±ã†ã€‚ | é™çš„ã‚µã‚¤ãƒˆï¼‹éƒ¨åˆ†ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«ç‰¹åŒ–ã€‚SPA å…¨é¢ç§»æ¤ã¯éæ¨å¥¨ã€‚ | UIãƒ»ã‚µãƒ¼ãƒãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã¹ã¦è‡ªç”±ã€‚React ä»¥å¤–ã‚‚å¯ã€‚ | ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’ã‚³ãƒ¼ãƒ‰ã§åˆ¶å¾¡ã€‚ `server.preset` ã§ Node/Bun/Edge ãªã©é¸æŠã€‚ãƒ™ãƒ³ãƒ€ãƒ¼ãƒ­ãƒƒã‚¯å°‘ã€‚ |
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹** | SSGãƒ»ISRãƒ»Edge Functionsã§é«˜æ°´æº–ã€‚ã ãŒé–‹ç™ºä¸­ã¯ Webpack/Turbopackã€‚ | â€œå³¶ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£â€ ã§ JS0 ã‚‚å¯èƒ½ã€‚SEO & åˆæœŸè¡¨ç¤ºæœ€é€Ÿã‚¯ãƒ©ã‚¹ã€‚ | ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®è¶³ã‹ã›ã»ã¼ã‚¼ãƒ­ã€‚Bun + streaming ãªã©å¥½ã¿ã§æœ€é©åŒ–å¯ã€‚ | SPA çš„é·ç§»ã®é€Ÿã•ï¼‹SSR/Streaming ã‚’ route ã”ã¨ã«é¸æŠã€‚React Query ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¼•ç¶™ãã€‚ |
| **Bun å¯¾å¿œ** | å…¬å¼ã«ã¯æœªã‚µãƒãƒ¼ãƒˆã€‚Node å®Ÿè¡ŒãŒå‰æ îˆ€citeîˆ‚turn0search1îˆ | `bunx astro dev` ã¯å‹•ããŒä¸€éƒ¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«æ³¨æ„ îˆ€citeîˆ‚turn0search7îˆ | ã‚µãƒ¼ãƒè‡ªç”±ï¼`Bun.serve()` ã¨çµ„ã¿åˆã‚ã›å¯ã€‚å®Ÿè·µä¾‹å¤šæ•° îˆ€citeîˆ‚turn0search3îˆ | `server.preset: "bun"` ã‚’å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ¡ˆå†…ã€‚React 19 ä»¥é™æ¨å¥¨ îˆ€citeîˆ‚turn1search0îˆ |

---

### 1. Next.js  
- **é­…åŠ›**: æ¥­ç•Œãƒ‡ãƒ•ã‚¡ã‚¯ãƒˆã€‚SSR/SSG/RSC ãŒãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰ã§ä½¿ãˆã€å·¨å¤§ãªæƒ…å ±é‡ã¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è³‡ç”£ã€‚`getServerSideProps` ãªã©ã® API ãŒè‡ªå‹•ã§ HTML ç”Ÿæˆã‚’è¡Œã„ã€SEO ã‚‚å³å¯¾å¿œ îˆ€citeîˆ‚turn0search0îˆ‚turn0search9îˆ  
- **åˆ¶ç´„**: Node.js ã‚µãƒ¼ãƒã‚’å†…è”µã—ã¦ãŠã‚Šã€Bun ä¸Šã§æœ¬ç•ªå®Ÿè¡Œã™ã‚‹å…¬å¼æ‰‹æ®µãŒã¾ã ç„¡ã„ îˆ€citeîˆ‚turn0search10îˆã€‚æ§‹é€ ãŒå›ºå®šçš„ãªã®ã§è¦ç´„å¤–ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã—ã«ãã„ã€‚  

### 2. Astro  
- **ç‰¹å¾´**: ãƒšãƒ¼ã‚¸å…¨ä½“ã‚’ **é™çš„ HTML** ã§é…ä¿¡ã—ã€å¿…è¦éƒ¨åˆ†ã ã‘ â€œå³¶â€ ã¨ã—ã¦ React/Vue/Svelte ã‚’æ°´ã‚„ã‚Šçš„ã«å‹•ã‹ã™ **Islands Architecture** îˆ€citeîˆ‚turn0search2îˆã€‚  
- **ãƒ™ã‚¹ãƒˆã‚·ãƒ¼ãƒ³**: ãƒ–ãƒ­ã‚°ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»LP ãªã© **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚µã‚¤ãƒˆ**ã€‚React SPA å…¨é¢ç§»è¡Œã«ã¯å‘ã‹ãªã„ï¼ˆå¤§é‡ã®å³¶ï¼çµå±€å¤§ããª JSï¼‰ã€‚  
- **Bun**: ã‚¢ãƒ€ãƒ—ã‚¿ã§å‹•ããŒä¸€éƒ¨ rough edgesã€‚é™çš„å‡ºåŠ›ãƒ¢ãƒ¼ãƒ‰ãªã‚‰å•é¡Œç„¡ã— îˆ€citeîˆ‚turn0search7îˆã€‚  

### 3. Vike (vite-plugin-ssr)  
- **è¨­è¨ˆæ€æƒ³**: â€œãƒ•ãƒ«æ©Ÿèƒ½ãªã®ã«ãƒŸãƒ‹ãƒãƒ«â€ îˆ€citeîˆ‚turn0search3îˆã€‚Vite ã®ä½ãƒ¬ãƒ™ãƒ« API (`ssrLoadModule`, `transformIndexHtml`) ã‚’åŒ…ã¿ã€**ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã ã‘æä¾›**ã€‚ã‚µãƒ¼ãƒã¯è‡ªç”± (Express/Bun/Hono ç­‰)ã€‚  
- **ãƒ¡ãƒªãƒƒãƒˆ**: UI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜ã€ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆéä¾å­˜ã€‚**è‡ªåˆ†ã§çµ„ã¿åˆã‚ã›ã‚’é¸ã³ãŸã„å±¤**ã«æœ€é©ã€‚Vite ãªã®ã§ dev HMR ãŒçˆ†é€Ÿ îˆ€citeîˆ‚turn2search0îˆã€‚  
- **å®Ÿè£…æ„Ÿ**: `server.ts` ã§ `renderPage()` ã‚’å‘¼ã¶ã ã‘ãªã®ã§ç†è§£ã—ã‚„ã™ã„ãŒã€**ãƒ«ãƒ¼ãƒ«ã‚„è‡ªå‹•åŒ–ã¯è‡ªå‰**ã€‚TanStack Query ã®ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã‚‚ãƒ•ãƒƒã‚¯ (`onBeforeRender`) ã‚’è‡ªä½œã™ã‚‹ã€‚  

### 4. TanStack Start  
- **ãƒã‚¸ã‚·ãƒ§ãƒ³**: TanStack Router/Query ä½œè€…ã«ã‚ˆã‚‹ **ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ React ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ (Î²)**ã€‚Vite + Nitro ã§ SSR ãƒãƒ³ãƒ‰ãƒ«ã‚’ç”Ÿæˆã€‚  
- **å¼·ã¿**:  
  - ãƒ«ãƒ¼ãƒˆã”ã¨ã® **Loader/Action â†’ React Query ã‚­ãƒ£ãƒƒã‚·ãƒ¥** é€£æºã§æ°´å¹³æ–¹å‘ã®ãƒ‡ãƒ¼ã‚¿å–å¾—ãŒå‹å®‰å…¨ îˆ€citeîˆ‚turn1search2îˆ  
  - **Streaming SSR** ã¨ **RPC ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ** ãŒæ¨™æº– îˆ€citeîˆ‚turn0search8îˆ  
  - `server.preset: "bun"` ã§ Bun ãƒã‚¤ãƒ†ã‚£ãƒ–å‡ºåŠ› (React 19 å¿…é ˆ) îˆ€citeîˆ‚turn1search0îˆ  
- **æ³¨æ„**: ã¾ã  Î² ç‰ˆã€‚å…¬å¼ã‚µãƒ³ãƒ—ãƒ«ã‚„ Issue ã¯æ´»ç™ºã ãŒã€Next.js ç¨‹ã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¯ã“ã‚Œã‹ã‚‰ã€‚  

---

## ã©ã†é¸ã¶ã‹ï¼Ÿ

| çŠ¶æ³ | æ¨å¥¨ |
|---|---|
| **Bun ä¸Šã§å®Œå…¨ã«å‹•ã‹ã—ã€TanStack ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¨å¼·ãçµåˆã—ãŸã„** | **TanStack Start** <br>â†’ Bun ãƒ—ãƒªã‚»ãƒƒãƒˆ + React 19 ã§ â€œBun ãƒã‚¤ãƒ†ã‚£ãƒ– SSRâ€ ã‚’å®Ÿè£…ã€‚ãƒ«ãƒ¼ã‚¿ãƒ»ã‚¯ã‚¨ãƒªãŒæ¨™æº–ã§å™›ã¿åˆã†ã€‚ |
| **ã¨ã«ã‹ããƒ•ãƒ«ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ï¼è»½é‡ã‚’å„ªå…ˆ** | **Vike** <br>â†’ `Bun.serve()` + Vike ã§å¥½ããªæ§‹æˆã‚’ä½œã‚‹ã€‚SSR ã®ä»•çµ„ã¿ã‚’ç†è§£ã—ãªãŒã‚‰çµ„ã‚ã‚‹äººå‘ã‘ã€‚ |
| **æˆç†Ÿåº¦ãƒ»æƒ…å ±é‡ã‚’æœ€å„ªå…ˆ** (Bun ã§ãªãã¦ã‚‚è‰¯ã„) | **Next.js** <br>â†’ Node å®Ÿè¡Œã§å®‰å®šé‹ç”¨ã€‚Vercel/Edge ã‚‚å«ã‚å®Ÿç¸¾æœ€å¤§ã€‚ |
| **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¸­å¿ƒã§ JS ã‚’æœ€å°åŒ–ã—ãŸã„** | **Astro** <br>â†’ Island æ–¹å¼ã§ SEO & è¡¨ç¤ºé€Ÿåº¦ãŒæœ€é€Ÿã€‚ã‚¢ãƒ—ãƒªä¸¸ã”ã¨ã¯åˆ¥ãƒ•ãƒ¬ãƒ¼ãƒ ã¸ä»»ã›ã‚‹è¨­è¨ˆãŒãƒ™ã‚¿ãƒ¼ã€‚ |

---

### æœ€å°æ§‹æˆã§ Bun + Vite SSR ã‚’æ›¸ãä¾‹ï¼ˆVike ã‚’ä½¿ã‚ãªã„æ‰‹å‹•ç‰ˆï¼‰

```ts
// server.ts (Bun)
import { createServer } from 'vite'
import { renderToString } from 'react-dom/server'
import App from './App'

const vite = await createServer({ server: { middlewareMode: true } })
Bun.serve({
  port: 5173,
  async fetch(req) {
    const url = new URL(req.url)
    const template = await Bun.file('./index.html').text()
    const appHtml = renderToString(<App url={url.pathname} />)
    const html = template.replace('<!--app-->', appHtml)
    return new Response(html, { headers: { 'Content-Type': 'text/html' } })
  },
})
```

*ä¸Šè¨˜ã¯ Vite ã®ä½ãƒ¬ãƒ™ãƒ« API ã‚‚ä½¿ã‚ãšæœ€å°ãªã®ã§ã€å®Ÿé‹ç”¨ã§ã¯ Vike ã‹ TanStack Start ã‚’æŒŸã‚“ã§ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’æ•´ç†ã™ã‚‹ã¨ä¿å®ˆãŒæ¥½ã«ãªã‚Šã¾ã™ã€‚*  

---

## ã¾ã¨ã‚

- **â€œä»Šã™ãå®‰å®šâ€** ã‚’æ±‚ã‚ã‚‹ãªã‚‰ Next.js (ãŸã ã— Node å®Ÿè¡Œ)ã€‚  
- **â€œå®Œå…¨ã«è‡ªåˆ†æµ + Bunâ€** ã‚’æœ›ã‚€ãªã‚‰ Vikeã€‚  
- **â€œæœ€æ–°ã®å‹å®‰å…¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ä»Šå¾Œã«è³­ã‘ã‚‹â€** ãªã‚‰ TanStack Startã€‚  
- **â€œé™çš„ã‚µã‚¤ãƒˆ + éƒ¨åˆ† Interactivityâ€** ãªã‚‰ Astroã€‚  

æ—¢ã« TanStack Router / Query ã‚’æ¡ç”¨æ¸ˆã¿ã§ **Bun å®Œçµ** ãŒè¦ä»¶ãªã‚‰ **TanStack Start ãŒæœ€ã‚‚è¦ªå’Œæ€§é«˜ãã€DX ã¨æŸ”è»Ÿæ€§ã®ãƒãƒ©ãƒ³ã‚¹ã‚‚è‰¯å¥½** ã§ã™ã€‚Î² ç‰ˆã‚†ãˆæ¤œè¨¼ã¯å¿…è¦ã§ã™ãŒã€å°†æ¥æ€§ã‚‚å«ã‚æœ‰åŠ›å€™è£œã¨ã„ãˆã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/28 2:50:54*

Honoã¨ã„ã†é¸æŠè‚¢ã¯ã‚ã‚‹ã®ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/28 2:51:04*

### Hono ã‚’ SSR ã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦æ¡ç”¨ã§ãã‚‹ã‹ï¼Ÿ

çµè«–ã‹ã‚‰è¨€ã†ã¨ **ã€Œååˆ†ã‚¢ãƒªã€** ã§ã™ã€‚  
Bun ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¨ã®ç›¸æ€§ãŒè‰¯ãã€Vite ã‚„ Vike/TanStack Start ã¨ã‚‚æ¥ç¶šã§ãã¾ã™ã€‚

---

## Hono ã®ç‰¹å¾´ Ã— SSR è¦³ç‚¹

| é …ç›® | ãƒã‚¤ãƒ³ãƒˆ | å‡ºå…¸ |
|---|---|---|
| **å®Ÿè£…ã®è»½ã•** | `bun create hono myapp` ã§æœ€å°æ§‹æˆã‚’ç”Ÿæˆã€‚æ•°åè¡Œã§ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å®Œäº†ã€‚ | îˆ€citeîˆ‚turn0search6îˆ |
| **Bun ãƒã‚¤ãƒ†ã‚£ãƒ–** | `Hono` ã¯ `fetch` äº’æ› API ã‚’ä½¿ã†ãŸã‚ **Bunâ€†serve() ã¨è¦ªå’Œæ€§ãŒé«˜ã„**ã€‚Bun ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚‚å…¬å¼ã§ç”¨æ„ã€‚ | îˆ€citeîˆ‚turn0search6îˆ |
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹** | Cloudflare Workers ãƒ™ãƒ³ãƒã§ Express/Fastify ã‚’å¤§ããä¸Šå›ã‚‹ 40 ä¸‡ ops/sec ã‚¯ãƒ©ã‚¹ã€‚Node/Bun ã§ã‚‚åŒå‚¾å‘ã€‚ | îˆ€citeîˆ‚turn0search5îˆ |
| **é–‹ç™º DX** | Vite ç”¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ **`@hono/vite-dev-server`** ãŒç™»å ´ã€‚HMRï¼‹ãƒ•ãƒ­ãƒ³ãƒˆãƒ“ãƒ«ãƒ‰ã‚’ Vite ã«ä»»ã›ã€ã‚µãƒ¼ãƒãƒ¼éƒ¨ã¯ Hono ã®ã¾ã¾é–‹ç™ºå¯èƒ½ã€‚ | îˆ€citeîˆ‚turn1view0îˆ |
| **SSR çµ±åˆ** | - **æ‰‹æ›¸ã**ï¼š`renderToReadableStream` ã§ HTML ã‚’è¿”ã™ã ã‘ã€‚<br>- **Vike**ï¼š`bati` ã‚¹ã‚­ãƒ£ãƒ•ã‚©ãƒ¼ãƒ«ãƒ‰ãŒ Hono ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ¡ç”¨ã—ã¦ã„ã‚‹ä¾‹ã‚ã‚Šã€‚ | îˆ€citeîˆ‚turn0search3îˆ‚turn0search7îˆ |
| **æ—¢çŸ¥ã®è½ã¨ã—ç©´** | Vite é–‹ç™ºã‚µãƒ¼ãƒã® Connect ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã¨ Hono Context ã®å‹å·®ãŒèª²é¡Œã ã£ãŸãŒã€ä¸Šè¨˜ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§è§£æ±ºæ¸ˆã¿ã€‚ | îˆ€citeîˆ‚turn0search4îˆ |

---

## æœ€å°ã‚µãƒ³ãƒ—ãƒ«ï¼ˆBun + Hono + Viteï¼‰

```ts
// server.ts
import { Hono } from 'hono'
import { renderToReadableStream } from 'react-dom/server'
import App from './App'            // React ãƒ«ãƒ¼ãƒˆ

const app = new Hono()

app.get('*', async c => {
  const stream = await renderToReadableStream(<App url={c.req.path} />)
  return new Response(stream, { headers: { 'Content-Type': 'text/html' } })
})

export default app                 // Bun.serve() ãŒè‡ªå‹•ã§èª­ã¿ã«è¡Œã
```

```ts
// vite.config.ts
import { defineConfig } from 'vite'
import devServer from '@hono/vite-dev-server'

export default defineConfig({
  plugins: [devServer({ entry: 'server.ts', adapter: 'bun' })]
})
```

- **é–‹ç™º**: `bunx vite` â†’ Vite + Hono ãŒåŒæ™‚èµ·å‹•ã— HMRã€‚  
- **æœ¬ç•ª**: `bun build` ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ bundleã€`bun run server.ts` ã§ SSR é…ä¿¡ã€‚

---

## ã©ã†é¸æŠã«çµ„ã¿è¾¼ã‚€ï¼Ÿ

| ç›®çš„ | ãƒ™ã‚¹ãƒˆå€™è£œ |
|---|---|
| **Bun ä¸Šã§æœ€é€Ÿãƒ»æœ€å°ã‚µãƒ¼ãƒãƒ¼ã‚’è‡ªå‰ã§çµ„ã‚€** | **Hono + æ‰‹æ›¸ã SSR** or **Hono + Vike** |
| **è¦ç´„ã‚ˆã‚Šã‚‚è‡ªç”±åº¦ãƒ»ã‚¹ãƒ”ãƒ¼ãƒ‰é‡è¦–** | **Hono** (Fastify ã‚ˆã‚Šè»½ãã€Express ã‚ˆã‚Šåœ§å€’çš„é«˜é€Ÿ) |
| **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ä»»ã›ãŸã„** | **TanStack Start** ã‚’æ¡ã‚Šã€å†…éƒ¨ã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦ `server.preset: 'bun'` ã‚’é¸æŠï¼ˆHonoã¯ä½¿ã‚ãªã„æ§‹æˆï¼‰ |

> **ã¾ã¨ã‚**  
> - **Hono ã¯ã€Œè¶…è»½é‡ãƒ»é«˜é€Ÿã€ãª Bun å‘ã‘ SSR ã‚µãƒ¼ãƒãƒ¼æ **ã¨ã—ã¦æœ€æœ‰åŠ›ã€‚  
> - Vite ã¨çµ„ã‚€å ´åˆã¯ `@hono/vite-dev-server` ãŒç¾æ™‚ç‚¹ã®â€œå®šç•ªâ€é–‹ç™ºãƒ•ãƒ­ãƒ¼ã€‚  
> - æ—¢è£½ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã® DX ã‚’å–ã‚Šã¤ã¤ Hono ã‚’ä½¿ã„ãŸã„ãªã‚‰ **Vike + Hono** ã¨ã„ã†çµ„ã¿åˆã‚ã›ãŒå®Ÿé‹ç”¨ä¾‹ã¨ã—ã¦å¢—ãˆã¦ã„ã¾ã™ã€‚  

ã“ã‚Œã§ **ã€ŒNext.js ã‚’ä½¿ã‚ãšã«ã€Bunï¼‹Reactï¼‹TanStack Query ã® SSRã€** ã¨ã„ã†è¦ä»¶ã‚’æº€ãŸã™å®Ÿè£…ãƒ‘ã‚¹ãŒæ•´ã„ã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/28 2:52:25*

Vikeã‚ˆã‚Šã‚‚Honoã®@hono/vite-dev-serverãŒã„ã„ã‹ãªï¼Ÿ
ã¾ãŸã€ãã‚Œã¨ã¯åˆ¥ã«APIã‚µãƒ¼ãƒãƒ¼ã‚’åˆ¥ã«ç‚ã§ç«‹ã¦ãŸã»ã†ãŒã„ã„ã®ã‹ãªã€‚å…¨ç„¶SSRã«ã¤ã„ã¦ã®åŸºç¤ãŒåˆ†ã‹ã£ã¦ãªã„ã‹ã‚‰ã€ãã‚‚ãã‚‚ã‚µãƒ¼ãƒãƒ¼ãŒåˆ¥ã«ãªã‚‹ã¨ã‹ä¸€ç·’ã®ã»ã†ãŒã„ã„ã¨ã‹ã‚ˆãåˆ†ã‹ã£ã¦ãªã„ã‚“ã ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/28 2:52:45*

## 1. ã„ã¾æ•´ç†ã—ãŸã„ â€œSSR ã‚µãƒ¼ãƒãƒ¼â€ ã¨ â€œAPI ã‚µãƒ¼ãƒãƒ¼â€ ã®å½¹å‰²

| å½¹å‰² | ä¸»ãªè²¬å‹™ | å…¸å‹çš„ãª I/O | åŒä¸€ãƒ—ãƒ­ã‚»ã‚¹ã«ã¾ã¨ã‚ã‚‹åˆ©ç‚¹ | åˆ†é›¢ã™ã‚‹åˆ©ç‚¹ |
|------|-----------|-------------|--------------------------|-------------|
| **SSR ã‚µãƒ¼ãƒãƒ¼** | åˆå›ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ HTML ã‚’ç”Ÿæˆï¼ˆ`renderToReadableStream` ãªã©ï¼‰ã—ã€React App ã‚’ **ã‚µãƒ¼ãƒãƒ¼å´ã§æç”»**ã—ã¦è¿”ã™ | HTML / ä¸€éƒ¨ JSON (prefetch) | - **åŒä¸€ãƒ—ãƒ­ã‚»ã‚¹å‘¼ã³å‡ºã—**ã§æœ€é€Ÿï¼ˆHTTP ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’è·¨ãŒãªã„ï¼‰<br>- Same Origin ãªã®ã§ CORS è¨­å®šä¸è¦ | - SSR ã‚’ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆã•ã›ã¦ã‚‚ API ã«å½±éŸ¿ã—ãªã„<br>- SSR ã‚’ Node/Bunã€API ã‚’åˆ¥è¨€èªï¼ˆGo ãªã©ï¼‰ã«ã™ã‚‹è‡ªç”± |
| **API ã‚µãƒ¼ãƒãƒ¼** | JSON ã‚’è¿”ã™ç´”ç²‹ãª REST/GraphQL/RPCã€‚ãƒ¢ãƒã‚¤ãƒ«ã‚„ CSR å¾Œã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚‚åˆ©ç”¨ | JSON | - 1 å°ã§å®Œçµ â‡’ ãƒ‡ãƒ—ãƒ­ã‚¤ãŒç°¡å˜ | - **è¦³ç‚¹ã”ã¨ã®ã‚¹ã‚±ãƒ¼ãƒ«**ï¼ˆAPI ã ã‘é«˜è² è·ã€SSR ã¯è»½ã„ç­‰ï¼‰<br>- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼ã‚’åˆ†ã‘ã‚„ã™ã„ï¼ˆå…¬é–‹ API ã¨ SSR ã‚’åˆ¥ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ç½®ãç­‰ï¼‰ |

> **SSRï¼â€œã©ã“ã§ React ã‚’æç”»ã™ã‚‹ã‹â€ ã®è©±ã§ã€ãƒ‡ãƒ¼ã‚¿å–å¾—å…ˆ(API)ãŒåŒä¸€ãƒ—ãƒ­ã‚»ã‚¹ã‹åˆ¥ãƒ—ãƒ­ã‚»ã‚¹ã‹ã¯â€œã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ–¹é‡â€** ã§ã™ã€‚  
>  
> ç‰©ç†çš„ã«åˆ†ã‘ã¦ã‚‚åŒä¸€ DC å†… RTT ã¯ãƒŸãƒªç§’æœªæº€ã«ãªã‚‹ã“ã¨ãŒå¤šãã€*è¶…*ä½ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·å¿…é ˆã§ãªã‘ã‚Œã°ã€Œåˆ¥ã‚µãƒ¼ãƒãƒ¼åŒ–ï¼é…ã„ã€ã¨ã¯é™ã‚Šã¾ã›ã‚“ îˆ€citeîˆ‚turn0search8îˆã€‚

---

## 2. **@hono/vite-dev-server** ã§å®Œçµã•ã›ã‚‹æ§‹æˆ

### ä»•çµ„ã¿
1. Vite dev ã‚µãƒ¼ãƒãƒ¼ã‚’ **Hono ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆäº’æ›**ã§ãƒ©ãƒƒãƒ—ã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³  
   â†’ Hono ã® `fetch`-style ãƒãƒ³ãƒ‰ãƒ©ã§ãã®ã¾ã¾é–‹ç™ºã§ãã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ Vite HMR îˆ€citeîˆ‚turn0search0îˆã€‚  
2. æœ¬ç•ªã¯ `@hono/vite-build` ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ«ï¼‹SSR ã‚µãƒ¼ãƒãƒ¼ãƒãƒ³ãƒ‰ãƒ«ã‚’ä¸€æ‹¬å‡ºåŠ›ï¼ˆCloudflareï¼Bunï¼Node å‘ã‘ã‚¢ãƒ€ãƒ—ã‚¿æœ‰ï¼‰ îˆ€citeîˆ‚turn0search3îˆã€‚  
3. Bun ãªã‚‰ `Bun.serve({ fetch: app.fetch })` ã§è¶…è»½é‡ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã€‚  
4. React å´ã¯ `renderToReadableStream`ï¼ˆReact 18/19ï¼‰ã§ HTML ã‚’ç”Ÿæˆã—ã¦è¿”ã™ã€‚

### ãƒ¡ãƒªãƒƒãƒˆ
- **Bun ãƒã‚¤ãƒ†ã‚£ãƒ–** â€¦ fetch ãƒ™ãƒ¼ã‚¹ãªã®ã§ Node API äº’æ›å±¤ãŒå°‘ãªã„ îˆ€citeîˆ‚turn0search0îˆã€‚  
- **å­¦ç¿’ã‚³ã‚¹ãƒˆãŒä½ã„** â€¦ ã€ŒHono ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° + æ‰‹æ›¸ã SSRã€ã® 2 ã¤ã‚’ç†è§£ã™ã‚Œã° OKã€‚  
- **é€Ÿåº¦** â€¦ Hono ã¯ Cloudflare Workers ãƒ™ãƒ³ãƒã§ 40 ä¸‡ ops/sec ã‚¯ãƒ©ã‚¹ã‚’è¨˜éŒ²ã—ã€Express/Fastify ã‚’å¤§ããä¸Šå›ã‚‹ îˆ€citeîˆ‚turn2search0îˆã€‚  

### æ³¨æ„ç‚¹
- ãƒ«ãƒ¼ãƒˆå®šç¾©ã‚‚ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã‚‚ **å®Œå…¨ã«è‡ªå‰**ã€‚Next/Vike ã®ã‚ˆã†ãªã€Œãƒ•ã‚¡ã‚¤ãƒ«ç½®ã„ãŸã‚‰å‹•ãã€ä»•çµ„ã¿ã¯ç„¡ã„ â†’ **TanStack Router ã‚’ãã®ã¾ã¾ä½¿ã†**å‰æãªã‚‰å•é¡Œãªã—ã€‚  
- Hono å´ã§ API ã‚‚åŒå±…ã•ã›ã‚‹ã¨ â€œFat ãƒ¢ãƒãƒªã‚¹â€ ã«ãªã‚‹ã€‚åˆ†é›¢ã™ã‚‹å ´åˆã¯ä»¥ä¸‹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œè¨ã€‚

---

## 3. API ã‚’ â€œåŒå±…â€ ã‹ â€œåˆ†é›¢â€ ã‹ â”€â”€ åˆ¤æ–­ãƒã‚¤ãƒ³ãƒˆ

| åˆ¤æ–­ææ–™ | **åŒå±… (SSR+API åŒä¸€ Hono ãƒ—ãƒ­ã‚»ã‚¹)** | **åˆ†é›¢ (SSR Hono / API åˆ¥ãƒ—ãƒ­ã‚»ã‚¹)** |
|----------|--------------------------------------|---------------------------------------|
| **é–‹ç™ºä½“é¨“** | 1 ã¤ã® `bunx vite dev` ã§å…¨éƒ¨ç«‹ã¡ä¸ŠãŒã‚‹ã€‚ãƒ¢ãƒãƒ¬ãƒãªã‚‰æœ€å°‘ã‚³ãƒãƒ³ãƒ‰ã€‚ | repo ã¯åŒã˜ã§ã‚‚ `apps/web`, `apps/api` ã«åˆ†ã‘ã¦ä¸¦åˆ—èµ·å‹•ã€‚VS Code ã‚¿ã‚¹ã‚¯ãŒå¢—ãˆã‚‹ã€‚ |
| **ãƒ“ãƒ«ãƒ‰ï¼ãƒ‡ãƒ—ãƒ­ã‚¤** | 1 ã‚¤ãƒ¡ãƒ¼ã‚¸ (ä¾‹: Docker) ã§ OKã€‚CI ã‚‚å˜ç´”ã€‚ | ã‚³ãƒ³ãƒ†ãƒŠï¼Function ãŒ 2 ã¤ã€‚CI/CD ãƒ•ãƒ­ãƒ¼ã‚‚ 2 ãƒ©ã‚¤ãƒ³ã€‚ |
| **ã‚¹ã‚±ãƒ¼ãƒ«æˆ¦ç•¥** | ãƒ•ãƒ­ãƒ³ãƒˆé«˜è² è·ã§ API ã‚‚å·»ãè¾¼ã‚€å¯èƒ½æ€§ã‚ã‚Šã€‚ | API ã ã‘ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒ«ã•ã›ã‚‹ç­‰ãã‚ç´°ã‹ã„é‹ç”¨å¯ã€‚ |
| **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£** | åŒä¸€ã‚ªãƒªã‚¸ãƒ³ãªã®ã§ XSRF ãƒˆãƒ¼ã‚¯ãƒ³è¨­è¨ˆãŒæ¥½ã€‚ | API ã‚’ /api.example.com ã«ç½®ãã€WAFãƒ»ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãªã©åˆ¥é€”å¼·åŒ–ã—ã‚„ã™ã„ã€‚ |
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹** | SSR ä¸­ã®ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’ **é–¢æ•°å‘¼ã³å‡ºã—**ã§æ¸ˆã¾ã›ã‚‰ã‚Œã‚‹ â†’ æœ€é€Ÿã€‚ | SSRâ†’HTTPâ†’API ã® â€œ1 ãƒ›ãƒƒãƒ—â€ è¿½åŠ ã€‚ãŸã ã—åŒãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãªã‚‰å®Ÿæ¸¬ 1â€“5 ms ç¨‹åº¦ã€‚ |

> **è¿·ã£ãŸã‚‰æœ€åˆã¯åŒå±…** â†’ å¾Œã§ **API ã ã‘åˆ‡ã‚Šå‡ºã™** ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå®šç•ªã€‚Bun ãƒ—ãƒ­ã‚»ã‚¹ã¯è»½é‡ãªã®ã§ã€ã¾ãšã¯ã‚·ãƒ³ãƒ—ãƒ«ã«å§‹ã‚ã¦ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ãŒå‡ºãŸã‚‰åˆ†é›¢ã§ååˆ†ã§ã™ã€‚

---

## 4. **Vike** ã‚’ä½¿ã‚ãš **Hono + ãƒ—ãƒ©ã‚°ã‚¤ãƒ³**ã ã‘ã§è¡Œãå ´åˆã¨æ¯”ã¹ã¦

|        | **Hono + @hono/vite-dev-server** | **Vike (vite-plugin-ssr)** |
|--------|----------------------------------|----------------------------|
| **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°** | è‡ªç”±ã€‚TanStack Router ã‚’ãã®ã¾ã¾ä½¿ã†ã€‚ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ FileSystem Routingã€‚SPA/SSR/SSG ã‚’ãƒšãƒ¼ã‚¸å˜ä½ã§åˆ‡æ›¿å¯ îˆ€citeîˆ‚turn1search6îˆã€‚ |
| **ãƒ‡ãƒ¼ã‚¿å–å¾—ã®è¦ç´„** | ãªã—ã€‚`React Query` ã‚„ `loader()` ã‚’è‡ªåˆ†ã§è¨­è¨ˆã€‚ | `onBeforeRender` ãƒ•ãƒƒã‚¯ç­‰ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã€‚ |
| **é–‹ç™º DX** | Vite ã® HMR + Hono ã® fetch APIã€‚ | åŒã˜ã Vite HMRã€‚`vike add` ã‚¹ãƒ†ãƒƒãƒ—ã§é †æ¬¡æ©Ÿèƒ½ã‚’å¾Œä»˜ã‘å¯ îˆ€citeîˆ‚turn1search2îˆã€‚ |
| **Bun å¯¾å¿œ** | å…¬å¼ã« â€œalso runs on Bunâ€ ã¨æ˜è¨˜ îˆ€citeîˆ‚turn0search0îˆã€‚ | `vike-server` æ‹¡å¼µã§ Hono/Bun é€£æºãŒæ­£å¼ã‚µãƒãƒ¼ãƒˆã¸ îˆ€citeîˆ‚turn1search7îˆã€‚ |
| **å­¦ç¿’ã‚³ã‚¹ãƒˆ** | React SSR + Hono ã ã‘è¦šãˆã‚Œã°è‰¯ã„ â†’ **æœ€å°**ã€‚ | SSR ã®ãƒ¬ã‚¤ãƒ¤ãŒå¢—ãˆã‚‹åˆ†ç†è§£å¿…è¦ã€‚ãŸã ã—ã‚µãƒ³ãƒ—ãƒ«å¤šæ•° îˆ€citeîˆ‚turn1search1îˆã€‚ |
| **å°†æ¥æ‹¡å¼µ** | ä»•çµ„ã¿ãŒè–„ã„ã®ã§è‡ªç”±åº¦ã¯æœ€å¤§ã€‚<br>é€†ã« i18n, ç”»åƒæœ€é©åŒ–ãªã©ã¯æ‰‹å‹•ã€‚ | Layout/i18n/Streaming/i18n Prefetch ãªã© â€œã‚ã‚‹ã¨å¬‰ã—ã„æ©Ÿèƒ½â€ ãŒæ‹¡å¼µã§æƒã†ã€‚ |

**ã¾ã¨ã‚**  
- **â€œTanStack Router ã‚’ä¸­å¿ƒã«è‡ªå‰è¨­è¨ˆâ€** â†’ Hono + ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ååˆ†ã€‚  
- **â€œNext çš„ãªãƒšãƒ¼ã‚¸å˜ä½ãƒ—ãƒªã‚»ãƒƒãƒˆãŒæ¬²ã—ã„ / SPAâ‡„SSR ã‚’æŸ”è»Ÿã«åˆ‡ã‚Šæ›¿ãˆãŸã„â€** â†’ Vike ã‚‚æ¤œè¨ã€‚  
- ä¸¡è€…ã¯ **ç«¶åˆã¨ã„ã†ã‚ˆã‚Šãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒé•ã†**ï¼š  
  - *Hono* = HTTP ãƒ«ãƒ¼ã‚¿ï¼ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯  
  - *Vike* = â€œSSR å®Ÿè£…ã‚­ãƒƒãƒˆâ€ (ä¸Šã« Hono ã‚’è¼‰ã›ã¦ã‚‚è‰¯ã„)

---

## 5. æ¨å¥¨ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ï¼ˆåŒå±…ãƒ¢ãƒãƒªã‚¹ç‰ˆï¼‰

```bash
# 1. æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
bun create hono my-app
cd my-app

# 2. React & Vite
bun add -D vite react react-dom @types/react @types/react-dom
bun add @hono/vite-dev-server @hono/vite-build @hono/vite-ssg

# 3. vite.config.ts ä¾‹
import { defineConfig } from 'vite'
import honoDev from '@hono/vite-dev-server'

export default defineConfig({
  plugins: [honoDev({ entry: 'src/server.ts', adapter: 'bun' })],
})
```

`src/server.ts`

```ts
import { Hono } from 'hono'
import { renderToReadableStream } from 'react-dom/server'
import App from './App'

const app = new Hono()

// SSR ãƒ«ãƒ¼ãƒˆ
app.get('*', async c => {
  const stream = await renderToReadableStream(<App url={c.req.url} />)
  return new Response(stream, { headers: { 'Content-Type': 'text/html' } })
})

// API ãƒ«ãƒ¼ãƒˆ
app.get('/api/health', c => c.json({ ok: true }))

export default app
```

- **é–‹ç™º**: `bunx vite` â†’ ãƒ–ãƒ©ã‚¦ã‚¶ `http://localhost:5173`  
- **æœ¬ç•ª**: `bunx vite build && bun run dist/server.js`

**å¾Œã§ API ã‚’åˆ†é›¢ã—ãŸããªã£ãŸã‚‰**ã€`apps/api` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚Š Hono ã‚’ã‚³ãƒ”ãƒ¼ â†’ ãƒãƒ¼ãƒˆã‚’å¤‰ãˆã¦èµ·å‹•ã€SSR å´ã¯ `fetch('http://localhost:8787/api/foo')` ã«ç½®ãæ›ãˆã‚‹ã ã‘ã§ç§»è¡Œå¯èƒ½ã§ã™ã€‚

---

### ã•ã„ã”ã«

- **ã€Œã¾ãšã¯ Hono + @hono/vite-dev-server 1 ãƒ—ãƒ­ã‚»ã‚¹ã€ã§å§‹ã‚ã€é‹ç”¨èª²é¡ŒãŒå‡ºãŸã‚‰**  
  1. API ã‚’åˆ¥ãƒ—ãƒ­ã‚»ã‚¹ã«åˆ‡ã‚Šå‡ºã™  
  2. SSR éƒ¨åˆ†ã‚’ Vike/TanStack Start ã¸ä¹—ã›æ›¿ãˆã‚‹  
- **Bun** ã‚’ä½¿ã†ãªã‚‰ã©ã®æ®µéšã§ã‚‚é«˜é€Ÿèµ·å‹•ï¼é«˜ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã‚’äº«å—ã§ãã¾ã™ã€‚  
- SSR ã®åŸºç¤ã¯ *ã€ŒHTML ã‚’ã‚µãƒ¼ãƒãƒ¼ã§ç”Ÿæˆ â†’ é€ä¿¡ â†’ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§æ°´å’Œã€* ã ã‘ã€‚  
  ã©ã“ã§ãƒ‡ãƒ¼ã‚¿å–å¾—ã™ã‚‹ã‹ã‚’æ±ºã‚ã‚‹ã®ãŒè¨­è¨ˆã®è‚ã§ã™ã€‚  

ã“ã‚Œã§ã€Œãªã«ã‹ã‚‰æ‰‹ã‚’ä»˜ã‘ã‚‹ã‹ã€ãŒã‚¤ãƒ¡ãƒ¼ã‚¸ã§ãã‚‹ã¯ãšã§ã™ã€‚ã¾ãšã¯ä¸€ç•ªç°¡å˜ãª **Hono 1 æœ¬æ§‹æˆ** ã‚’å‹•ã‹ã—ã€æ¬¡ã«åˆ†é›¢ãƒ»é«˜åº¦åŒ–ã‚’æ¤œè¨ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/28 12:06:04*

Rimixã¨ã‹Nextjsã®ã‚ˆã†ãªSSRã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã¤ã„ã¦ã‚‚æ•™ãˆã¦æ¬²ã—ã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/28 12:06:21*

---

## ã€ŒSSR å¯¾å¿œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ã®å…¨ä½“åƒ

&gt; \*\*SSRï¼ˆServer-Side Renderingï¼‰ï¼\*\*  
&gt; ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã« \*\*ã‚µãƒ¼ãƒãƒ¼ã§ React ãƒ„ãƒªãƒ¼ã‚’æç”»ã—ã€HTML ã‚’é€ã‚Šè¿”ã™æ–¹å¼\*\*ã€‚  
&gt; SEO ã¨åˆé€Ÿã«å¼·ã„ã€‚æœ€è¿‘ã¯ \*\*ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°\*\*ï¼ˆHTML ã‚’ãƒãƒ£ãƒ³ã‚¯ã§é †æ¬¡é€ä¿¡ï¼‰ã‚„ \*\*React Server Componentsï¼ˆRSCï¼‰\*\* ã¨çµ„ã¿åˆã‚ã›ã€ã•ã‚‰ã«é«˜é€ŸåŒ–ãƒ»JS é‡å‰Šæ¸›ãŒé€²ã‚“ã§ã„ã¾ã™ã€‚

React ç³»ã§ä»£è¡¨çš„ãªã®ãŒ \*\*Next.js\*\* ã¨ \*\*Remix\*\*ã€‚ã“ã“ã§ã¯ 4 ã¤ã®ä¸»è¦ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’æ¯”è¼ƒã—ã€ãã‚Œãã‚Œã® â€œã‚‰ã—ã•â€ ã¨ Bun ã§ã®å‹•ãã‚„ã™ã•ã‚’æ•´ç†ã—ã¾ã™ã€‚

| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | SSR ã®ä½ç½®ã¥ã‘ | ç‰¹å¾´çš„ãªä»•çµ„ã¿ | Bun ã§ã®å‹•ä½œçŠ¶æ³ |
|---|---|---|---|
| \*\*Next.js\*\* | ãƒšãƒ¼ã‚¸å˜ä½ã§ SSR / SSG / ISR ã‚’é¸æŠå¯ï¼ˆãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ï¼‰ | \*App Router\* ã§ \*\*RSC + ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°\*\*ã€API ãƒ«ãƒ¼ãƒˆãƒ»ç”»åƒæœ€é©åŒ–ãªã© â€œå…¨éƒ¨å…¥ã‚Šâ€ | é–‹ç™ºãƒ»æœ¬ç•ªã‚µãƒ¼ãƒã¨ã‚‚ \*\*Node å‰æ\*\*ã€‚Bun å…¬å¼ã‚µãƒãƒ¼ãƒˆãªã—îˆ€citeîˆ‚turn0search2îˆ‚turn0search7îˆ |
| \*\*Remix\*\* | \*\*å¸¸ã« SSR ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\*\*ã€‚å…¨é·ç§»ã§ã‚µãƒ¼ãƒãƒ¼æç”»&nbsp;+&nbsp;HTML ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚° | `loader / action` ã§ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»ãƒ•ã‚©ãƒ¼ãƒ å‡¦ç†ã€\*\*ãƒã‚¹ãƒˆãƒ«ãƒ¼ãƒˆ\*\*&error å¢ƒç•Œã€JS ãªã—ã§ã‚‚å‹•ã\*\*ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–å¼·åŒ–\*\* | Web Fetch API ãƒ™ãƒ¼ã‚¹ã§å¤š runtime å¯¾å¿œã€‚Bun ã§ã‚‚å‹•ããŒ dev ã‚µãƒ¼ãƒã¯ Node å¿…é ˆ (ç¾çŠ¶)îˆ€citeîˆ‚turn5search0îˆ‚turn5search8îˆ‚turn4search8îˆ |
| \*\*TanStack Start\*\* | RSC ãªã—ã§ \*\*SPA â‡† SSR\*\* ã‚’ãƒ«ãƒ¼ãƒˆå˜ä½ã§åˆ‡æ›¿ã€‚æ¨™æº–ã§ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚° | TanStack Router + Query ã¨å¯†çµåˆã€‚`server.preset: "bun"` ã§ \*\*Bun ãƒã‚¤ãƒ†ã‚£ãƒ–å‡ºåŠ›\*\* | \*\*Bun ãƒ—ãƒªã‚»ãƒƒãƒˆã‚ã‚Š\*\*ï¼ˆReact 19+ å¿…é ˆï¼‰ã€‚ç¾åœ¨Î² |
| \*\*Vike (vite-plugin-ssr)\*\* | â€œSSR ã‚­ãƒƒãƒˆâ€ â”€ ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ render API ã ã‘æä¾› | Vite ãƒ™ãƒ¼ã‚¹ã€‚ã‚µãƒ¼ãƒãƒ¼ã¯ \*\*Express / Fastify / Bun.serve\*\* ãªã©è‡ªç”±ã«é¸æŠ | ã‚µãƒ¼ãƒãƒ¼è‡ªç”±ï¼Bun ã¨å¥½ç›¸æ€§ã€‚æ§‹æˆã‚’è‡ªåˆ†ã§çµ„ã‚€å¿…è¦ |

---

## 1. \*\*Next.js\*\*  â”€ ã€ŒSSR ã®ç‹é“ã€  
- \*\*ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰\*\*ï¼šãƒšãƒ¼ã‚¸ã”ã¨ã« SSR / SSG / ISR / CSR ã‚’é¸ã¹ã‚‹ã€‚  
- \*\*App Router\*\* ã§ã¯ \*\*React Server Components\*\* + \*\*ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°\*\* ã‚’æ¨™æº–åŒ–ã—ã€HTML ã‚’ãƒãƒ£ãƒ³ã‚¯é€ä¿¡ã—ã¦ \*\*TTFB çŸ­ç¸®\*\*îˆ€citeîˆ‚turn0search2îˆã€‚  
- API ãƒ«ãƒ¼ãƒˆã‚„ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚‚åŒã˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«æ›¸ã‘ã‚‹ã®ã§ã€ŒSSRï¼‹API åŒå±…ã€ãŒå®¹æ˜“ã€‚  
- ãŸã ã— \*\*å®Ÿè¡Œãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¯ Node ã«å›ºå®š\*\*ã€‚Bun ã§ `next dev` ã‚’ç›´æ¥èµ°ã‚‰ã›ã‚‹ã“ã¨ã¯æœªã‚µãƒãƒ¼ãƒˆîˆ€citeîˆ‚turn1view0îˆã€‚  

&gt; \*\*å‘ã„ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹\*\*  
&gt; - å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ â€œã¨ã‚Šã‚ãˆãšå›°ã‚‰ãªã„â€ å®Ÿç¸¾é‡è¦–  
&gt; - \*\*SSG/ISR\*\* ã§å¤§é‡ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ãŸã„  
&gt; - Vercel å‰æã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’æƒ³å®š

---

## 2. \*\*Remix\*\*  â”€ ã€Œã‚µãƒ¼ãƒãƒ¼ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ & ã‚¦ã‚§ãƒ–æ¨™æº–ã€  
- \*\*SSR ãŒåŸºæœ¬å‹•ä½œ\*\*ã€‚å…¨ãƒšãƒ¼ã‚¸é·ç§»ã§ `loader` ãŒå‹•ãã€React ã‚’ã‚µãƒ¼ãƒãƒ¼æç”»â†’HTML ã‚’\*\*ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°\*\*é€ä¿¡îˆ€citeîˆ‚turn5search0îˆ‚turn5search8îˆã€‚  
- \*\*ãƒã‚¹ãƒˆãƒ«ãƒ¼ãƒˆ\*\*ã«ã‚ˆã‚Šè¦ªå­ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨ãƒ‡ãƒ¼ã‚¿ã‚’ã‚­ãƒ¬ã‚¤ã«åˆ†å‰²ã€‚å„ãƒ«ãƒ¼ãƒˆç‹¬ç«‹ã®ã‚¨ãƒ©ãƒ¼å¢ƒç•Œãƒ»ãƒ­ãƒ¼ãƒ€ãƒ¼ãƒ»ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§ \*\*å±€æ‰€æ›´æ–°\*\*ã€‚  
- \*\*ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–å¼·åŒ–\*\*ï¼šãƒ•ã‚©ãƒ¼ãƒ ã‚„ãƒªãƒ³ã‚¯ã¯æ™®é€šã® `&lt;form&gt; / &lt;a&gt;`ã€‚JS ãŒåˆ‡ã‚Œã¦ã‚‚æœ€ä½é™å‹•ãè¨­è¨ˆã€‚  
- \*\*ãƒ©ãƒ³ã‚¿ã‚¤ãƒ éä¾å­˜\*\*ï¼šFetch API æº–æ‹ ã§ Cloudflare/Deno/Bun ç­‰ã¸å®¹æ˜“ã«ãƒ‡ãƒ—ãƒ­ã‚¤å¯ã€‚ãŸã ã— \*\*å…¬å¼ dev ã‚µãƒ¼ãƒã¯ Node API ã«ä¾å­˜\*\*ã—ã€ç¾çŠ¶ `remix dev` ã¯ Node èµ·å‹•ãŒå¿…è¦îˆ€citeîˆ‚turn4search8îˆã€‚  

&gt; \*\*å‘ã„ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹\*\*  
&gt; - \*\*Nested Routing + HTML ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ\*\*ã‚’æ´»ã‹ã—ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãªã©è¤‡é›‘ UI ã‚’ä½œã‚‹  
&gt; - JS ãŒãªãã¦ã‚‚å‹•ãã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ï¼SEO ã‚’é‡è¦–  
&gt; - Edge / Workers / Bun ãªã©å¤šæ§˜ãªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã„  

---

## 3. \*\*TanStack Start\*\*  â”€ ã€ŒTanStack æµãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã€  
- TanStack Router + Query + Vite + Nitro ãƒ™ãƒ¼ã‚¹ã€‚\*\*ãƒ«ãƒ¼ãƒˆã”ã¨ã« SPA / SSR / ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°\*\*ã‚’é¸æŠã—ã€å–å¾—ãƒ‡ãƒ¼ã‚¿ã¯ Query ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¸è‡ªå‹•æ³¨å…¥ã€‚  
- \*\*`server.preset:"bun"`\*\* ã§ Bun ç”¨ãƒãƒ³ãƒ‰ãƒ«ã‚’ç”Ÿæˆï¼ˆReact 19 å¿…é ˆï¼‰â€”â€” Node ä¾å­˜ã‚’æ’é™¤ã—ãŸ \*\*ãƒã‚¤ãƒ†ã‚£ãƒ– Bun ãƒ‡ãƒ—ãƒ­ã‚¤\*\* ãŒå£²ã‚Šã€‚  
- ã¾ã  Î² ã ãŒã€â€œNext.js ã«ä»£ã‚ã‚‹å‹å®‰å…¨ãªé¸æŠè‚¢â€ ã¨ã—ã¦æ³¨ç›®ã€‚  

---

## 4. \*\*Vike\*\*  â”€ ã€ŒVite Ã— æ‰‹ã®ã²ã‚‰ã‚µã‚¤ã‚º SSRã€  
- Vite ã®ä½ãƒ¬ãƒ™ãƒ« API ã‚’åŒ…ã¿ã€ã€Œãƒšãƒ¼ã‚¸å®šç¾© + `renderPage()`ã€ã ã‘ã§ SSR ã‚’å®Ÿè£…ã€‚  
- ã‚µãƒ¼ãƒãƒ¼ã¯ \*\*å®Œå…¨è‡ªç”±\*\* (Express/Fastify/Hono/Bun.serve/Cloudflare Workersâ€¦)ã€‚  
- è¦ç´„ãŒå°‘ãªã„ã¶ã‚“ \*\*å­¦ç¿’ã‚³ã‚¹ãƒˆã¯ä½ã„ãŒã€è¨­è¨ˆãƒ»ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã¯è‡ªå‰\*\*ã€‚  

---

## 5. \*\*ãã®ä»– React ç³» SSR ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\*\*

| åå‰ | ç‰¹å¾´ |
|---|---|
| \*\*Redwood v2\*\* | GraphQL & Prisma çµ„è¾¼ã€‚API(Lambda)ã¨ Web(SPA/SSR) ã‚’ 1 ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§ç®¡ç†ã€‚ |
| \*\*SolidStart\*\* | è¶…é«˜é€Ÿ DOM ãƒ©ã‚¤ãƒ–ãƒ©ãƒª Solid.js ã® SSR ç”¨ã€‚Vite + Islands ã‚’æ¡ç”¨ã€‚ |
| \*\*Qwik City\*\* | â€œResumabilityâ€ ã§ JS ã»ã¼ã‚¼ãƒ­é…é€ã‚’ç›®æŒ‡ã™ã€‚ã¾ã  RCã€‚ |

ï¼ˆVue ãªã‚‰ \*\*Nuxt 3\*\*ã€Svelte ãªã‚‰ \*\*SvelteKit\*\* ãŒåŒæ§˜ãƒã‚¸ã‚·ãƒ§ãƒ³ï¼‰ã€‚

---

## 6. \*\*ã€ŒSSRã‚µãƒ¼ãƒãƒ¼ã€ã¨ã€ŒAPIã‚µãƒ¼ãƒãƒ¼ã€ã‚’ã©ã†é…ç½®ã™ã‚‹ã‹ï¼Ÿ\*\*  
- \*\*åŒå±…ï¼ˆãƒ¢ãƒãƒªã‚¹ï¼‰\*\*  
  - ãƒ‡ãƒ—ãƒ­ã‚¤ã¨é–‹ç™ºãŒæ¥½ï¼åŒä¸€ãƒ—ãƒ­ã‚»ã‚¹ã§æœ€é€Ÿã€‚  
  - SSR ã²ã¨ã¤éšœå®³ã§ API ã‚‚è½ã¡ã‚‹ã€‚  
- \*\*åˆ†é›¢ï¼ˆSSR â†” API åˆ¥ãƒ—ãƒ­ã‚»ã‚¹ï¼‰\*\*  
  - è² è·åˆ†æ•£ãƒ»ã‚¹ã‚±ãƒ¼ãƒ«ãŒæŸ”è»Ÿã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¢ƒç•Œã‚‚åˆ‡ã‚Šã‚„ã™ã„ã€‚  
  - SSRâ†’API ã®å†…éƒ¨é€šä¿¡ã¯ 1â€“5 ms ç¨‹åº¦ãªã®ã§é€šå¸¸ã¯å•é¡Œã«ãªã‚‰ãªã„îˆ€citeîˆ‚turn0search8îˆã€‚  

&gt; \*\*ã¾ãšã¯åŒå±…\*\* â†’ ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ãŒå‡ºãŸã‚‰åˆ†é›¢ã€ãŒå®šç•ªã§ã™ã€‚

---

## ã¾ã¨ã‚ - ã©ã‚Œã‚’é¸ã¶ï¼Ÿ

| é‡ç‚¹ | æœ€æœ‰åŠ› |
|---|---|
| \*\*å®Ÿç¸¾ãƒ»ç·åˆåŠ›\*\* | \*\*Next.js\*\* |
| \*\*ã‚µãƒ¼ãƒãƒ¼ä¸­å¿ƒï¼ãƒã‚¹ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼Edge\*\* | \*\*Remix\*\* |
| \*\*Bun ãƒã‚¤ãƒ†ã‚£ãƒ– + TanStack å®Œå…¨é€£æº\*\* | \*\*TanStack Start\*\* |
| \*\*è¶…è»½é‡ãƒ»è‡ªç”±è¨­è¨ˆ\*\* | \*\*Vike\*\*ï¼ˆ+ Hono/Bun çµ„ã¿åˆã‚ã›ï¼‰ |

ã‚ãªãŸã®ç¾åœ¨ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆReact + TanStack Queryï¼Routerã€Bun ã‚’å„ªå…ˆï¼‰ã§ã‚ã‚Œã° \*\*Remix ã‹ TanStack Start\*\* ãŒç‰¹ã«è¦ªå’Œæ€§ãŒé«˜ã„é¸æŠè‚¢ã§ã™ã€‚Next.js ã¯ Node ç¸›ã‚Šã‚’è¨±å®¹ã§ãã‚‹ãªã‚‰å®‰å®šã€Vike ã¯è¨­è¨ˆã‚’æ¥½ã—ã¿ãŸã„äººå‘ã‘ â€”â€” å¥½ã¿ã¨è¦ä»¶ã§é¸ã‚“ã§ã¿ã¦ãã ã•ã„ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/28 12:20:23*

RemixãŒè‹¦æ‰‹ãªã“ã¨ã¯ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/28 12:20:39*

### Remix ãŒ \*\*å¾—æ„ã§ãªã„ï¼ç¾æ™‚ç‚¹ã§å¼±ã„\*\* ä¸»ãªãƒã‚¤ãƒ³ãƒˆ

| é …ç›® | è©³ç´° | å…¸å‹çš„ãªå¯¾å‡¦ | å‡ºå…¸ |
|------|------|--------------|------|
| \*\*â‘  é™çš„ã‚µã‚¤ãƒˆ (SSG) ã‚’å¤§é‡ç”Ÿæˆã™ã‚‹ç”¨é€”\*\* | Remix ã¯ â€œå¸¸ã« SSR ãŒå‰æâ€ ã®è¨­è¨ˆã€‚é™çš„ãƒšãƒ¼ã‚¸ã‚’ä¸¸ã”ã¨ HTML ã«æ›¸ãå‡ºã™ãƒ•ãƒ­ãƒ¼ã¯å…¬å¼ã«ã¾ã å®Ÿé¨“çš„æ‰±ã„ã§ã€Next.js ã® `next export` ã‚„ Astro ã®å…¨è‡ªå‹• SSG ã»ã©æ´—ç·´ã•ã‚Œã¦ã„ãªã„ã€‚&lt;br&gt;ãƒãƒ¼ã‚±ï¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å·¨å¤§ã‚µã‚¤ãƒˆã§ã¯ãƒ“ãƒ«ãƒ‰æ™‚é–“ã¨ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°æ§‹æˆãŒèª²é¡Œã«ãªã‚‹ã€‚ | - Remix ã® `remix vite:build --prerender`ï¼ˆå®Ÿé¨“ä¸­ï¼‰&lt;br&gt;- ã‚µã‚¤ãƒˆéƒ¨åˆ†ã ã‘ Astro ã«åˆ†é›¢ | îˆ€citeîˆ‚turn0search0îˆ |
| \*\*â‘¡ React Server Components (RSC) ãŒæœ¬ç•ªå¯¾å¿œå‰\*\* | Remix ãƒãƒ¼ãƒ ã¯ \*ã€ŒRSC ãŒå®‰å®šã—ãŸã‚‰ç°¡å˜ã«çµ±åˆã§ãã‚‹ã€\* ã¨è¨€åŠã—ã¦ã„ã‚‹ãŒã€ç¾åœ¨ã¯ \*\*ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ®µéš\*\*ã€‚å…¬å¼ãƒ‡ãƒ¢ã¯ Parcel ãƒãƒ³ãƒ‰ãƒ©ã‚’ä½¿ã„ Vite å¯¾å¿œã‚’å¾…ã£ã¦ã„ã‚‹çŠ¶æ…‹ã€‚Next.js ã®ã‚ˆã†ãªæœ¬ç•ªã‚µãƒãƒ¼ãƒˆã¯ã¾ã ã€‚ | - RSC ã‚’ä½¿ã„ãŸã„å ´åˆã¯ Next 14+ ã‚’é¸æŠ&lt;br&gt;- Remix ã¯å¾“æ¥ã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚° SSR ã‚’åˆ©ç”¨ | îˆ€citeîˆ‚turn0search2îˆ‚turn0search6îˆ |
| \*\*â‘¢ ç”»åƒæœ€é©åŒ–ãŒã‚³ã‚¢æ©Ÿèƒ½ã«ç„¡ã„\*\* | Next ã® `&lt;Image&gt;` ã®ã‚ˆã†ãªãƒ“ãƒ«ãƒˆã‚¤ãƒ³æœ€é©åŒ–ãŒç„¡ãã€\*\*æ‰‹å‹• or ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£\*\*ï¼ˆä¾‹: `remix-image`, Unpicï¼‰ã§å¯¾å¿œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ | `remix-image` / CDN ç”»åƒå¤‰æ›ã‚µãƒ¼ãƒ“ã‚¹ã‚’å°å…¥ | îˆ€citeîˆ‚turn0search3îˆ‚turn0search7îˆ |
| \*\*â‘£ Bun ãƒã‚¤ãƒ†ã‚£ãƒ–ã®é–‹ç™ºã‚µãƒ¼ãƒãŒã¾ã ç„¡ã„\*\* | Remix ã® `remix dev` ã¯ Node API ã«ä¾å­˜ã€‚Bun ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã‚„æœ¬ç•ªã‚µãƒ¼ãƒå®Ÿè¡Œã¯å¯èƒ½ã§ã‚‚ã€\*\*é–‹ç™ºä¸­ã¯ Node ã§ dev ã‚µãƒ¼ãƒã‚’èµ°ã‚‰ã›ã‚‹\*\*å¿…è¦ãŒã‚ã‚‹ã€‚ | - Node ã§ dev â‡’ Bun ã§æœ¬ç•ª&lt;br&gt;- ã‚‚ã—ãã¯ community ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (`bun run dev`) ã§ä¸¡æ–¹ä½µç”¨ | îˆ€citeîˆ‚turn1search0îˆ |
| \*\*â‘¤ ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ è¦æ¨¡ï¼ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ•°ãŒ Next ã‚ˆã‚Šå°ã•ã„\*\* | å…¬å¼ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒãƒ¼ã‚±ãƒƒãƒˆãŒç„¡ãã€i18nãƒ»ç”»åƒãƒ»CMS é€£æºãªã©ã¯ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é ¼ã‚Šã€‚&lt;br&gt;è¦æ¨¡ãŒå¤§ãã„ã»ã© â€œè»Šè¼ªã®å†ç™ºæ˜â€ ãŒå¢—ãˆãŒã¡ã€‚ | OSS ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„è‡ªå‰å®Ÿè£…ã§è£œå®Œ | ï¼ˆä¸€èˆ¬è«–ï¼‰ |
| \*\*â‘¥ ãƒ«ãƒ¼ãƒˆã”ã¨ã« `loader`/`action` ã‚’æ›¸ãæ‰‹é–“\*\* | ãƒšãƒ¼ã‚¸ãŒå¢—ãˆã‚‹ã»ã© boilerplate ãŒå¢—åŠ ã€‚ã€Œã¡ã‚‡ã£ã¨ã—ãŸé™çš„ãƒšãƒ¼ã‚¸ã€ã§ã‚‚æœ€ä½é™ã® `loader()` ãŒå¿…è¦ã«ãªã‚‹ã‚±ãƒ¼ã‚¹ãŒã‚ã‚‹ã€‚ | å…±é€šãƒ˜ãƒ«ãƒ‘ãƒ¼åŒ–ãƒ»ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ | ï¼ˆé–‹ç™ºè€…çµŒé¨“è«‡ï¼‰ |
| \*\*â‘¦ ISRï¼ˆIncremental Static Regenerationï¼‰ã®ã‚ˆã†ãªä»•çµ„ã¿ãŒç„¡ã„\*\* | \*ã€Œãƒ“ãƒ«ãƒ‰å¾Œã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã ã‘å·®ã—æ›¿ãˆã‚‹ã€\* ãƒ¢ãƒ‡ãƒ«ã¯æŒã£ã¦ãŠã‚‰ãšã€æ¬¡å–„ç­–ã¯ã‚¨ãƒƒã‚¸ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‹ãƒ˜ãƒƒãƒ€ãƒ¼åˆ¶å¾¡ã¨ãªã‚‹ã€‚ | CDN/Edge ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã« `Cache-Control` ã§å¯¾å¿œ | â€” |

&gt; \*\*è¦ã™ã‚‹ã«\*\* Remix ã¯ã€Œã‚µãƒ¼ãƒãƒ¼ã§æ¯å›æç”»ã—ã¦ HTML ã‚’æµã—è¾¼ã‚€ã€è¨­è¨ˆãŒãƒ–ãƒ¬ãšã«å¼·ã¿ã§ã™ãŒã€  
&gt; - \*\*å®Œå…¨é™çš„å‡ºåŠ›ã‚„ RSC ãƒ™ãƒ¼ã‚¹ã® JS å‰Šæ¸›\*\*  
&gt; - \*\*ç”»åƒï¼åˆ†æãªã©â€œå‘¨è¾º DXâ€ ã‚’ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰ã§æ¸ˆã¾ã›ã‚‹\*\*  
&gt; ã¨ã„ã†é ˜åŸŸã§ã¯ Next.js ãªã©ã«ä¸€æ­©åŠã³ã¾ã›ã‚“ã€‚  
&gt; Bun é–‹ç™ºä½“é¨“ã‚‚ç¾çŠ¶ Node ä¾å­˜ãŒæ®‹ã‚‹ãŸã‚ã€\*\*â€œBun ãƒã‚¤ãƒ†ã‚£ãƒ– Ã— ãƒ•ãƒ«æ „é¤Šãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯â€\*\* ã‚’æ±‚ã‚ã‚‹ãªã‚‰ Î² ã§ã™ãŒ \*\*TanStack Start\*\* ãŒå…ˆè¡Œã—ã¦ã„ã¾ã™ã€‚

ã“ã†ã—ãŸå¼±ç‚¹ãŒæ¥­å‹™è¦ä»¶ã«åˆºã•ã‚‰ãªã‘ã‚Œã° Remix ã¯å¼·åŠ›ã§ã™ãŒã€  
- \*\*å¤§é‡é™çš„ãƒšãƒ¼ã‚¸\*\*  
- \*\*RSC ã«ã‚ˆã‚‹ JS å‰Šæ¸›ãŒå¿…é ˆ\*\*  
- \*\*ç”»åƒæœ€é©åŒ–ã‚’è‡ªå‹•ã§ã‚„ã‚ŠãŸã„\*\*  
ãªã‚‰ Next/Astro/Start + ç”»åƒãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®æ§‹æˆã‚’æ¤œè¨ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/28 12:22:32*

HonoXã¨ã„ã†é¸æŠè‚¢ã¯ãªã„ã®ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/28 12:23:08*

### HonoX ã¯ â€œã‚ã‚Šã¾ã™â€ â€” ã—ã‹ã‚‚ **Hono + Vite ã®å…¬å¼ãƒ¡ã‚¿-ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**

|               | **@hono/vite-dev-server** ã ã‘ | **Hono X** |
|---------------|-----------------------------|------------|
| ã‚¹ã‚³ãƒ¼ãƒ—      | Vite ã® dev/build ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¨ Hono ã‚’â€œã¤ãªãâ€ã ã‘ã€‚ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚„ãƒ¬ãƒ³ãƒ€ãƒ©ã¯è‡ªå‰ã§è¨­è¨ˆ | **Next.js ãƒ©ã‚¤ã‚¯ãªä¸Šä½ãƒ¬ã‚¤ãƒ¤**ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ»SSRãƒ»Islands Hydration ãªã©ã‚’ä¸¸ã”ã¨æä¾›ï¼‰ |
| ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°  | TanStack Router ãªã©â€œå¥½ãã«â€çµ„ã‚€ | `app/routes/**/*.tsx` ã‚’ç½®ã‘ã° URL ã¨è‡ªå‹•å¯¾å¿œï¼ˆNext.js ã¨åŒã˜æ€æƒ³ï¼‰îˆ€citeîˆ‚turn1view0îˆ |
| SSR/HTMLç”Ÿæˆ  | `renderToReadableStream()` ã‚’è‡ªåˆ†ã§å‘¼ã¶ | `createRoute()` ã¨ `_renderer.tsx` ã§å®£è¨€çš„ã«è¨˜è¿°ã€‚**é«˜é€Ÿ SSR** ã¯å†…éƒ¨ã§ Hono ãŒæ‹…å½“îˆ€citeîˆ‚turn1view0îˆ |
| ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ JS | è‡ªåˆ†ã§ Vite è¨­å®š | **Islands Hydration** ãŒæ¨™æº–ã€‚å³¶ä»¥å¤–ã¯ JS 0 byte ã§é…ä¿¡îˆ€citeîˆ‚turn1view0îˆ |
| SSG           | Hono ã®æ‰‹å‹• SSG ãƒ˜ãƒ«ãƒ‘ã‚’ä½¿ã† | `@hono/vite-ssg` ã§å…¨ãƒšãƒ¼ã‚¸é™çš„åŒ–ã‚‚ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰îˆ€citeîˆ‚turn5view0îˆ |
| Bun å¯¾å¿œ      | Bun ã§ devï¼æœ¬ç•ª OK | `@hono/vite-build/bun` ã§ **ãƒã‚¤ãƒ†ã‚£ãƒ– Bun ãƒãƒ³ãƒ‰ãƒ«**ãŒç”Ÿæˆå¯îˆ€citeîˆ‚turn1view0îˆ |
| å®‰å®šåº¦        | Hono æœ¬ä½“ã¯ v4+ ã§å®‰å®š | **Î±ç‰ˆï¼ˆbreaking ã‚ã‚Šï¼‰**îˆ€citeîˆ‚turn1view0îˆ |

---

## HonoX ã® **ä¸»ãªç‰¹å¾´**

* **ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**ï¼š`app/routes/merch/[...slug].tsx` ãªã© Next.js ã¨åŒã˜å‘½åè¦å‰‡ îˆ€citeîˆ‚turn1view0îˆ  
* **è¶…é«˜é€Ÿ SSR**ï¼šHono ã® RegExpRouter ã¨ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã§ TTFB ãŒæ¥µå°  
* **Islands Hydration**ï¼šå¿…è¦ãªå³¶ã ã‘ JS ã‚’é€ã‚Šã€æ®‹ã‚Šã¯é™çš„ HTML îˆ€citeîˆ‚turn1view0îˆ  
* **BYOR (Bring Your Own Renderer)**ï¼šæ¨™æº– JSX ã®ã»ã‹ **React/Preact/Solid** ã‚‚å…¬å¼ renderer ãŒã‚ã‚Šã€hydrate æ–¹æ³•ã‚‚ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯ îˆ€citeîˆ‚turn1view0îˆ  
* **Vite ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ä¸€ä½“å‹**ï¼š`honox/vite` ã§ãƒ“ãƒ«ãƒ‰ã€`@hono/vite-dev-server` ã§é–‹ç™ºã‚µãƒ¼ãƒã€`@hono/vite-build/*` ã§ Nodeãƒ»Bunãƒ»Cloudflare ãªã©ã¸å‡ºåŠ› îˆ€citeîˆ‚turn5view0îˆ  
* **CLI ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**ï¼š`npm create hono@latest` â†’ `x-basic` ã‚’é¸ã¶ã¨é››å½¢ç”Ÿæˆ îˆ€citeîˆ‚turn1view0îˆ  

> Bytes Newsletter ã§ã‚‚ã€Œ**Next.js ã«è¿‘ã„ DX** ã‚’ Hono ç³»ã§å®Ÿç¾ã™ã‚‹å¸ƒçŸ³ã€ã¨ç´¹ä»‹ã•ã‚Œã€æ³¨ç›®åº¦æ€¥ä¸Šæ˜‡ä¸­ï¼ˆstars 2,000+ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ 400% å¢—ï¼‰îˆ€citeîˆ‚turn2view0îˆã€‚

---

## ã„ã¤ **HonoX** ã‚’é¸ã¶ã¨è‰¯ã„ã‹ï¼Ÿ

| ã‚·ãƒŠãƒªã‚ª | è©•ä¾¡ |
|----------|------|
| **Bun ãƒã‚¤ãƒ†ã‚£ãƒ–ã§â€œNext.js çš„â€ DXã‚’å¾—ãŸã„** | **â—** `@hono/vite-build/bun` ã§å˜ä¸€ãƒã‚¤ãƒŠãƒªã€‚Node ä¾å­˜ãŒçš†ç„¡îˆ€citeîˆ‚turn1view0îˆ |
| **ãƒ•ã‚¡ã‚¤ãƒ«ã ã‘ç½®ã‘ã°ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã—ã¦ã»ã—ã„** | **â—** Next ã¨åŒã˜æ„Ÿè¦šã§å­¦ç¿’ã‚³ã‚¹ãƒˆå° |
| **Islands/éƒ¨åˆ†ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã§ JS é‡ã‚’æ¥µé™ã¾ã§å‰Šã‚‹** | **â—** Islands ãŒæ¨™æº–æ©Ÿèƒ½ |
| **ã¾ã ã‚¢ãƒ«ãƒ•ã‚¡ã¯æ€–ã„ï¼æ—¢ã« TanStack Router ã‚’ã‚¬ãƒƒãƒ„ãƒªæ›¸ã„ã¦ã„ã‚‹** | **â–³** â†’ ã„ã¾ã® `Hono + @hono/vite-dev-server` ã‚’ã‚­ãƒ¼ãƒ— or Vike/TanStack Start ã‚’æ¤œè¨ |
| **å·¨å¤§ CMS ã‚„ãƒ–ãƒ­ã‚°ã‚’ SSG ã ã‘ã§é‡ç”£** | **â–³** SSG ã¯å‡ºæ¥ã‚‹ãŒ Next/Astro ã®ã»ã†ãŒæˆç†Ÿ |

---

## æ¡ç”¨åˆ¤æ–­ã®ãƒ’ãƒ³ãƒˆ

1. **æœ€é€Ÿã§å‹•ããƒ—ãƒ­ãƒˆã‚’è©¦ã™ãªã‚‰**  
   ```bash
   npm create hono@latest   # ãƒ†ãƒ³ãƒ—ãƒ¬é¸æŠã§ x-basic
   bunx vite                # é–‹ç™ºã‚µãƒ¼ãƒå³èµ·å‹•
   ```
2. **æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’ç§»è¡Œã™ã‚‹å ´åˆ**  
   * ãƒ«ãƒ¼ãƒˆ JSX/TSX ã‚’ `app/routes` ã¸ç§»å‹•  
   * API ã ã‘æ®‹ã™ãªã‚‰ Hono ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ export ã—ã¦åŒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®ï¼ˆ`app/routes/api/user.ts` ãªã©ï¼‰ã€‚  
3. **å®‰å®šé‹ç”¨ãŒæœ€é‡è¦ãªã‚‰** ã¾ã  **Î±ç‰ˆ**ãªã®ã§ **@hono/vite-dev-server + è‡ªå‰è¨­è¨ˆ** ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€å°†æ¥ HonoX ã¸æ®µéšç§»è¡Œã™ã‚‹ã®ãŒå®‰å…¨ã€‚  

---

### ã¾ã¨ã‚

* **HonoX = Hono + Vite ã‚’æŸã­ã‚‹ â€œNext.js ãƒ©ã‚¤ã‚¯â€ ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯æ **ã€‚  
* **Bun ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**ã§å‹•ã‹ã—ãŸã„ï¼Hono ã®é–‹ç™ºä½“é¨“ã‚’ä¿ã£ãŸã¾ã¾ Next çš„ DX ãŒæ¬²ã—ã„ãªã‚‰ **å¼·åŠ›ãªé¸æŠè‚¢**ã€‚  
* ãŸã ã— **Î±ç‰ˆã§ç ´å£Šçš„å¤‰æ›´ã‚ã‚Š**ã€‚æœ¬ç•ªå°å…¥ã¯ãƒªã‚¹ã‚¯ã‚’ç¹”ã‚Šè¾¼ã¿ã€**PoC â†’ å¾ã€…ã«ç½®ãæ›ãˆ**ãŒç¾å®Ÿçš„ã§ã™ã€‚  

> **çµè«–**ï¼š  
> ã€ŒHono ã®è¶…è»½é‡ã• + Next ã®ä¾¿åˆ©ã• + Bun ãƒã‚¤ãƒ†ã‚£ãƒ–ã€ã‚’ä¸€æ°—ã«å–ã‚ŠãŸã„ãªã‚‰ **HonoX** ã‚’è¿½ã†ä¾¡å€¤å¤§ã€‚  
> é€†ã«â€œå£Šã‚Œã«ãã•â€ã‚’æœ€å„ªå…ˆã™ã‚‹ç¾å ´ã§ã¯ã€ä»Šã¯ **@hono/vite-dev-server** ã‚„ **Vike/TanStack Start** ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã€HonoX ãŒ Î²/RC ã«ãªã‚‹é ƒã«æ¤œè¨ã™ã‚‹ã®ãŒãŠã™ã™ã‚ã§ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/28 12:23:33*

HonoXã¨ã„ã†é¸æŠè‚¢ã¯ãªã„ã®ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/28 12:23:38*

### HonoX ã¯ã‚ã‚Šã¾ã™ã€€â€” Hono + Vite ã‚’æŸã­ãŸ â€œNext.js é¢¨â€ ãƒ¡ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

|                       | \*\*@hono/vite-dev-server\*\* ã ã‘ | \*\*HonoX\*\* |
|-----------------------|-----------------------------|------------|
| ç›®çš„                  | Hono ã‚’ Vite ã® dev/build ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«æ¥ç¶šã™ã‚‹æœ€å°ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ | \*\*ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼SSRï¼Hydration ã¾ã§å…¨éƒ¨å…¥ã‚Š\*\*ã®ä¸Šä½ãƒ¬ã‚¤ãƒ¤ |
| ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°          | è‡ªå‰ï¼ˆä¾‹ï¼šTanStack Router ã‚’ä½¿ã†ï¼‰ | `app/routes/\*\*/\*.tsx` ã‚’ç½®ãã ã‘ã§ URL ã¨è‡ªå‹•å¯¾å¿œï¼ˆNext ã¨åŒã˜æ€æƒ³ï¼‰îˆ€citeîˆ‚turn0search0îˆ |
| SSR & ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°   | `renderToReadableStream()` ã‚’æ‰‹ã§å‘¼ã¶ | `createRoute()` ã¨ `\_renderer.tsx` ã ã‘ã§å®£è¨€çš„ã«è¨­å®šã€‚è¶…é«˜é€Ÿ SSR ã¯å†…éƒ¨ã§ Hono ãŒæ‹…å½“îˆ€citeîˆ‚turn0search0îˆ |
| Islands Hydration     | ãªã—ï¼ˆè‡ªåˆ†ã§ Vite è¨­å®šï¼‰       | \*\*Islands ãŒæ¨™æº–è£…å‚™\*\*ï¼šå³¶ä»¥å¤–ã¯ JS 0 byte é…ä¿¡îˆ€citeîˆ‚turn0search0îˆ |
| SSG                   | Hono ã®ãƒ˜ãƒ«ãƒ‘ã§æ‰‹å‹•            | `@hono/vite-ssg` ã¨ `honox/vite` ã§ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰é™çš„ç”Ÿæˆîˆ€citeîˆ‚turn0search0îˆ |
| Bun ã¨ã®ç›¸æ€§          | dev ã‚‚æœ¬ç•ªã‚‚ OK               | `@hono/vite-build/bun` ãŒ \*\*Bun ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒãƒ³ãƒ‰ãƒ«\*\*ã‚’ç”Ÿæˆ îˆ€citeîˆ‚turn0search4îˆ |
| å®‰å®šåº¦                | æœ¬ä½“ã¯ v4 ã§å®‰å®š              | \*\*Î±ç‰ˆ\*\*ï¼ˆBreaking å¤‰æ›´ã‚ã‚Šï¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ä¸­ï¼‰îˆ€citeîˆ‚turn0search3îˆ |

---

#### HonoX ã®ä¸»ãªç‰¹å¾´

1. \*\*ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\*\*  
   `app/routes/blog/\[id\].tsx` â†’ `/blog/123` ã¸è‡ªå‹•ãƒãƒƒãƒ”ãƒ³ã‚°ã€‚ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚‚ `app/middleware/\*.ts` ã«é…ç½®ã™ã‚‹ã ã‘ã€‚

2. \*\*è¶…é«˜é€Ÿ SSR + ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°\*\*  
   Hono ã® RegExpRouter ï¼‹ `ReadableStream` ã§åˆæœŸ HTML ã‚’å³æ™‚é€å‡ºã€‚TTFB ã‚’æ¥µå°åŒ–ã€‚

3. \*\*Islands Hydration æ¨™æº–\*\*  
   JSX ä¸­ã§ `&lt;Island client:load&gt;` ã¨æ›¸ãã ã‘ã€‚ä¸è¦ãª JS ã‚’é€ã‚‰ãªã„ãŸã‚ãƒãƒ³ãƒ‰ãƒ«ãŒæœ€å°ã€‚

4. \*\*Vite ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ä¸€ä½“å‹\*\*  
   - é–‹ç™º: `bunx vite`ï¼ˆ`honox/vite` + `@hono/vite-dev-server` ãŒå†…éƒ¨èµ·å‹•ï¼‰  
   - æœ¬ç•ª: `@hono/vite-build/node|bun|cloudflare` ã§ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ãƒãƒ³ãƒ‰ãƒ«ã‚’ç”Ÿæˆã€‚  
   - \*\*Bun\*\* ã§ã¯å˜ä¸€ãƒã‚¤ãƒŠãƒªï¼‹è¶…é«˜é€Ÿèµ·å‹•ã€‚

5. \*\*ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’é¸ã°ãªã„\*\*  
   Node/Bun/Cloudflare Workers/Lambda ãªã©ã€Hono ãŒå‹•ãå ´æ‰€ãªã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤å¯ã€‚

---

### ã„ã¤ HonoX ã‚’é¸ã¶ã‹

| æ¬²ã—ã„ã‚‚ã® | HonoX ã®é©åˆåº¦ |
|------------|---------------|
| \*\*Next.js ãƒ©ã‚¤ã‚¯ãª DX\*\* ã‚’ Bun ãƒã‚¤ãƒ†ã‚£ãƒ–ã§ | â˜…â˜…â˜…â˜…â˜… |
| ãƒ•ã‚¡ã‚¤ãƒ«ã ã‘ç½®ã‘ã°ãƒ«ãƒ¼ãƒˆãŒç”Ÿãˆã‚‹ä¾¿åˆ©ã• | â˜…â˜…â˜…â˜…â˜… |
| Islands/SSG ã§ JS ã‚’æ¥µé™ã¾ã§å‰Šã‚ŠãŸã„ | â˜…â˜…â˜…â˜…â˜† |
| ã„ã¾ Î²/Î± ã¯æ€–ã„ã€å®‰å®šæœ€å„ªå…ˆ        | â˜…â˜…â˜†â˜†â˜† ï¼ˆ@hono/vite-dev-server ã‚„ Vike/TanStack Start ãŒç„¡é›£ï¼‰ |
| æ—¢ã« TanStack Router ã®ã‚³ãƒ¼ãƒ‰ãŒå¤§é‡ | â˜…â˜…â˜†â˜†â˜† ï¼ˆè‡ªå‰ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ§‹æˆã¨è¡çªã™ã‚‹å¯èƒ½æ€§ï¼‰ |

&gt; \*\*å®Ÿå‹™ tip\*\*  
&gt; 1. \*\*PoC\*\* ã‚’ `npm create hono@latest` â†’ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ `x-basic` ã§ä½œæˆã—ã€æ•°ãƒšãƒ¼ã‚¸å®Ÿè£…ã—ã¦ã¿ã‚‹ã€‚  
&gt; 2. ãƒ•ã‚£ãƒƒãƒˆæ„ŸãŒè‰¯ã‘ã‚Œã° Î±â†’Î² ç§»è¡Œã‚’è¿½ã„ã€ç ´å£Šçš„å¤‰æ›´ãŒè½ã¡ç€ã„ãŸæ™‚ç‚¹ã§æœ¬ç•ªå°å…¥ã€‚  
&gt; 3. æ—¢å­˜ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã§å®‰å®šç¨¼åƒãŒæ¬²ã—ã„å ´åˆã¯ã€ã¾ãš \*\*@hono/vite-dev-server + è‡ªå‰ SSR\*\* ã§ç¢ºç«‹ â†’ å¾Œã‹ã‚‰ HonoX ã«ç½®ãæ›ãˆã‚‹ã€Œæ®µéšç§»è¡Œã€ãŒå®‰å…¨ã€‚

---

### ã¾ã¨ã‚

- \*\*HonoX ã¯ã€ŒHono Ã— Vite Ã— Islandsã€= Bun ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãª Next.js é¢¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\*\* ã§ã€  
  \*\*ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° + é«˜é€Ÿ SSR + SSG\*\* ã‚’ãƒ¯ãƒ³ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§æä¾›ã—ã¾ã™ã€‚  
- ãŸã ã— \*\*ã¾ã  Î±ç‰ˆ\*\*ã€‚ä»•æ§˜å¤‰å‹•ã‚„ä¸è¶³ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¨±å®¹ã§ãã‚‹ PoCï¼æ–°è¦é–‹ç™ºãªã‚‰å¼·åŠ›ã€  
  æ—¢å­˜å¤§å‹æ¡ˆä»¶ã‚„ä¿å®ˆé‡è¦–ãªã‚‰ \*\*@hono/vite-dev-server\*\* ã‹ \*\*Vike / TanStack Start\*\* ã§å®‰å®šã‚’å–ã‚Šã€  
  HonoX ãŒå®‰å®šç‰ˆï¼ˆÎ²â†’RCâ†’v1ï¼‰ã«ãªã£ã¦ã‹ã‚‰ç§»è¡Œã™ã‚‹ã®ãŒç¾å®Ÿçš„ãªé¸æŠè‚¢ã§ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/28 12:25:16*

Next jsã§TanStack Queryã® hooksã¨ã¯ç›¸æ€§æ‚ªã„ã®ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/28 12:25:21*

### çµè«–  
**TanStack Query (v5) ã¨ Next.js ã¯ã€Œç›¸æ€§ãŒæ‚ªã„ã€ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚**  
ãŸã ã— **ä½¿ã„æ–¹ã‚’é–“é•ãˆã‚‹ã¨** é‡è¤‡ãƒ•ã‚§ãƒƒãƒã‚„ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãšã‚ŒãŒèµ·ãã‚„ã™ã„ã€RSCï¼ˆReact Server Componentsï¼‰ã¨ã®è²¬å‹™åˆ†æ‹…ã‚’èª¤è§£ã—ã‚„ã™ã„â€•â€•ã¨ã„ã† â€œè½ã¨ã—ç©´â€ ãŒã„ãã¤ã‹ã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã§ãƒã‚¤ãƒ³ãƒˆã‚’æ•´ç†ã—ã¾ã™ã€‚

---

## 1. ãƒ«ãƒ¼ã‚¿ãƒ¼åˆ¥ã®å‰æ

| Next.js ã®ãƒ¢ãƒ¼ãƒ‰ | ä½¿ãˆã‚‹å ´æ‰€ | æ³¨æ„ç‚¹ |
|-----------------|-----------|--------|
| **App Router**ï¼ˆ`app/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰ | *ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ*å´ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã« `useQuery` ã‚’æ›¸ã<br>ã‚µãƒ¼ãƒãƒ¼å´ã¯ **hook ä½¿ç”¨ä¸å¯** | - RSC å´ã§ `fetch()` ã—ãŸçµæœã‚’ `initialData` ã‚„ `prefetchQuery` ã§æ¸¡ã™ã¨é‡è¤‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é˜²ã’ã‚‹ îˆ€citeîˆ‚turn0search10îˆ |
| **Pages Router**ï¼ˆ`pages/`ï¼‰ | `getServerSideProps / getStaticProps` å†…ã§ `prefetchQuery` â†’ `dehydrate` | v5 ã§ã‚‚å¾“æ¥ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ãã®ã¾ã¾æœ‰åŠ¹ îˆ€citeîˆ‚turn0search2îˆ |

---

## 2. ã‚ˆãã‚ã‚‹ã€Œç›¸æ€§ãŒæ‚ªã„ã€ã¨è¨€ã‚ã‚Œã‚‹åŸå› ã¨å¯¾ç­–

| ç—‡çŠ¶ | åŸå›  | å¯¾ç­– |
|------|------|------|
| **åˆå›ã«åŒã˜ API ãŒäºŒé‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆ** | - ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸¡æ–¹ã§ `useQuery` ãŒèµ°ã‚‹<br>- `initialData` ã‚„ `dehydrate` ãŒæ¸¡ã£ã¦ã„ãªã„ | - App Router: RSC ã§å–å¾— â†’ `initialData` ã«ã‚»ãƒƒãƒˆ<br>- Pages Router: `queryClient.prefetchQuery()` â†’ `dehydrate()` â†’ `<HydrationBoundary>` ã§åŒ…ã‚€ îˆ€citeîˆ‚turn0search1îˆ |
| **ã€Œhydration mismatchã€ã®è­¦å‘Š** | `dehydrate` å¾Œã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚­ãƒ¼ãŒä¸ä¸€è‡´ | ã‚¯ã‚¨ãƒªã‚­ãƒ¼ã€`select` ã§ã®æ•´å½¢ã€æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãªã© **ã‚µãƒ¼ãƒï¼ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§åŒã˜çµæœ** ã«ãªã‚‹ã‚ˆã†çµ±ä¸€ |
| **ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯**ï¼ˆé–‹ç™ºä¸­ã« Query ãŒæºœã¾ã‚‹ï¼‰ | QueryClient ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆå˜ä½ã§ç ´æ£„ã›ãš **é•·å¯¿å‘½ã®ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³** ã«ã—ã¦ã„ã‚‹ | `const queryClient = getQueryClient()` ã‚’ **ãƒãƒ³ãƒ‰ãƒ©å†…ã§æ¯å›ç”Ÿæˆ** ã—ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆçµ‚äº†å¾Œã« GC ã•ã‚Œã‚‹è¨­è¨ˆã«ã™ã‚‹ |
| **RSC ã ã‘ã§è‰¯ã„ã®ã§ã¯ï¼Ÿã¨æ··ä¹±** | App Routerã§ã¯ã€Œã‚µãƒ¼ãƒãƒ¼ã§å…¨éƒ¨ `fetch` ã™ã‚Œã° Query ã„ã‚‰ãªã„ï¼Ÿã€ã¨æ„Ÿã˜ã‚‹ | - **å…±æœ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼å†æ¤œè¨¼ãƒ»æ›´æ–°** ã‚’ã—ãŸã„ãªã‚‰ Query ã‚’ä½µç”¨<br>- ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‚„ãƒŸãƒ¥ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ Query ãŒå¾—æ„ |
| **Bun ã§ã® SSR æ™‚ã« Node API ä¾å­˜è­¦å‘Š** | `node:buffer` ãªã©ã‚’å‚ç…§ã™ã‚‹æ—§ã‚³ãƒ¼ãƒ‰ or polyfill | TanStack Query v5 ã¯ fetch API ãƒ™ãƒ¼ã‚¹ã§ **Bun ã§ã‚‚å‹•ä½œç¢ºèªæ¸ˆã¿**ã€‚å¤ã„ v4 ã® polyfill ãŒæ®‹ã£ã¦ã„ãªã„ã‹ç¢ºèª îˆ€citeîˆ‚turn0search0îˆ |

---

## 3. Next.js Ã— TanStack Query â€œé‰„æ¿â€ å®Ÿè£…ãƒ•ãƒ­ãƒ¼

### Pages Routerä¾‹ï¼ˆå¾“æ¥ï¼‰

```tsx
// pages/index.tsx
import { dehydrate, QueryClient, useQuery } from '@tanstack/react-query'

export async function getServerSideProps() {
  const qc = new QueryClient()
  await qc.prefetchQuery(['posts'], fetchPosts)
  return { props: { dehydratedState: dehydrate(qc) } }
}

export default function Page() {
  const { data } = useQuery({ queryKey: ['posts'], queryFn: fetchPosts })
  return <PostsList posts={data} />
}
```

### App Routerä¾‹ï¼ˆRSC + Clientï¼‰

```tsx
// app/posts/page.tsx  â† RSC
import Posts from './Posts'
import { fetchPosts } from '@/lib/api'

export default async function Page() {
  const data = await fetchPosts()
  return <Posts initialData={data} />
}

// app/posts/Posts.tsx  â† 'use client'
'use client'
import { HydrationBoundary, QueryClient, QueryClientProvider, useQuery }
  from '@tanstack/react-query'

export default function Posts({ initialData }) {
  const qc = new QueryClient()
  return (
    <QueryClientProvider client={qc}>
      <HydrationBoundary state={qc.getQueryData(['posts'])}>
        <Inner initialData={initialData} />
      </HydrationBoundary>
    </QueryClientProvider>
  )
}

function Inner({ initialData }) {
  const { data } = useQuery({
    queryKey: ['posts'],
    queryFn: fetchPosts,
    initialData,
  })
  ...
}
```

> v5 ã‹ã‚‰ `HydrationBoundary` ãŒå…¬å¼ã«è¿½åŠ ã•ã‚Œã€App Routerã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã¨ã‚‚ä¸¡ç«‹ã—ã‚„ã™ããªã‚Šã¾ã—ãŸ îˆ€citeîˆ‚turn0search0îˆ

---

## 4. â€œç›¸æ€§è‰¯ãä»˜ãåˆã†â€ ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

1. **ã‚¯ã‚¨ãƒªã‚­ãƒ¼ã‚’å³å¯†ã«ç®¡ç†**  
   - RSCâ†’Client ã§åŒã˜ã‚­ãƒ¼ãƒ»ã‚¹ã‚­ãƒ¼ãƒã«ã™ã‚‹  
2. **QueryClient ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆå¢ƒç•Œã§ä½œã‚Šæ›¿ãˆã‚‹**  
   - App Router ã§ã‚‚ Pages ã§ã‚‚ *æ¯å› new*  
3. **Prefetch or initialData ã§é‡è¤‡ãƒ•ã‚§ãƒƒãƒé˜²æ­¢**  
4. **React 19 / Streaming ã‚’ä½¿ã†å ´åˆã¯ v5 ã‚’é¸æŠ**  
   - `errorBoundary`ãƒ»`suspense` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæ”¹è‰¯  
5. **ç”»åƒæœ€é©åŒ–ãƒ»RSC ã®ã¿ã§ååˆ†ãªç”»é¢**ã¯ Next å´ API ã‚‚æ¤œè¨  
   - *ã™ã¹ã¦* Query ã§ãƒ©ãƒƒãƒ—ã™ã‚‹ã¨éå‰°è¨­è¨ˆã«ãªã‚‹ã‚±ãƒ¼ã‚¹ã‚‚

---

### ã¾ã¨ã‚

- **ç›¸æ€§ã¯æ‚ªããªã„**ã€‚æ­£ã—ãä½¿ãˆã° **SSRãƒ»ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ»RSC** ã¾ã§ã‚«ãƒãƒ¼ã§ãã‚‹ã€‚  
- èª¤ç”¨ãƒã‚¤ãƒ³ãƒˆã¯ **ã€Œã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®è²¬å‹™æ··åœ¨ã€** ã¨ **ã€Œãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†ã®æ¼ã‚Œã€**ã€‚  
- v5 + `HydrationBoundary` ã‚’ä½¿ã„ã€**prefetchâ†’dehydrateâ†’hydrate** ã®ä¸‰æ®µæ§‹ãˆã‚’å®ˆã‚Œã° Next.js 13/14ï¼ˆApp Routerï¼‰ã§ã‚‚å¿«é©ã«å‹•ãã€‚  

> **è¦ã™ã‚‹ã«**ï¼šNext.js ãŒæä¾›ã™ã‚‹ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æˆ¦ç•¥ã‚’ç†è§£ã—ãŸã†ãˆã§ã€**TanStack Query ã‚’ã€Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ãƒŸãƒ¥ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®ãŸã‚ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ã¨ä½ç½®ä»˜ã‘ã‚‹**ã¨ä¸¡è€…ã¯ã†ã¾ãå…±å­˜ã—ã¾ã™ã€‚  

---

**å‚è€ƒ**  
- TanStack Query å…¬å¼ *Server Rendering & Hydration*â€‚ã‚¬ã‚¤ãƒ‰ îˆ€citeîˆ‚turn0search1îˆ  
- åŒ *Advanced Server Rendering (Next.js App Router)*â€‚ã‚¬ã‚¤ãƒ‰ îˆ€citeîˆ‚turn0search0îˆ  
- GitHub è­°è«–ã€ŒNext.js App Router ã§ã® Hydration Boundary å•é¡Œã€ îˆ€citeîˆ‚turn0search5îˆ  
- å®Ÿè£…ä¾‹ãƒªãƒã‚¸ãƒˆãƒª (Next 14 + TanStack Query v5) îˆ€citeîˆ‚turn0search8îˆ

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/28 12:28:36*

ã“ã‚Œã¯ã©ã†ã„ã†æ©Ÿèƒ½ã ã‚ã†ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/28 12:28:37*

### ã€ŒReact 19 / Streamingã€ã£ã¦ä½•ï¼Ÿ

1. \*\*React 19ï¼ˆæ¬¡æœŸãƒ¡ã‚¸ãƒ£ãƒ¼ç‰ˆ Reactï¼‰\*\*  
   - React 18 ã® â€œConcurrent Featuresâ€ ã‚’ã•ã‚‰ã«ç£¨ãã€\*\*ã‚µãƒ¼ãƒãƒ¼å´ã§æç”»ã—ãŸ HTML ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒ ã§é€ã‚‹ API ãŒå¼·åŒ–\*\*ã•ã‚Œã¦ã„ã¾ã™ã€‚  
   - `react-dom/server` ã« \*\*`renderToReadableStream()`\*\* ãªã©ãŒè¿½åŠ ã•ã‚Œã€Node ã‚„ Bunã€Edge Runtime ã‹ã‚‰ \*\*ãƒãƒ£ãƒ³ã‚¯å˜ä½ã§ HTML ã‚’å³æ™‚ flush\*\* ã—ã‚„ã™ããªã‚Šã¾ã—ãŸã€‚  
   - Next.js (App Router) ã‚‚å†…éƒ¨ã§ React 19 ã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚° API ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚

2. \*\*Streaming SSRï¼ˆã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°æç”»ï¼‰\*\*  
   - å¾“æ¥ã® â€œå…¨éƒ¨ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° â†’ å®Œæˆ HTML ã‚’ä¸€æ‹¬é€ä¿¡â€ ã¨é•ã„ã€\*\*æº–å‚™ãŒã§ããŸç®‡æ‰€ã‹ã‚‰é †æ¬¡ãƒ–ãƒ©ã‚¦ã‚¶ã¸æµã™\*\*æ–¹å¼ã€‚  
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒšãƒ¼ã‚¸ã®â€œéª¨æ ¼â€ã‚’ã™ãã«è¦‹ã‚‰ã‚Œã€é‡ã„ãƒ‘ãƒ¼ãƒ„ï¼ˆç”»åƒãƒ»ãƒ‡ãƒ¼ã‚¿å–å¾—ä¸­ã®ãƒªã‚¹ãƒˆãªã©ï¼‰ã¯å¾Œã‹ã‚‰åŸ‹ã¾ã‚‹ã€‚  
   - TTFBï¼ˆæœ€åˆã®ãƒã‚¤ãƒˆï¼‰çŸ­ç¸®ã€LCP æ”¹å–„ã€ãã—ã¦ \*\*React Suspense\*\* ã¨çµ„ã¿åˆã‚ã›ã¦ â€œèª­ã¿è¾¼ã¿ã‚¹ã‚±ãƒ«ãƒˆãƒ³â€ ã‚’è‡ªå‹•ã§æŒ¿å…¥ã§ãã‚‹ã®ãŒãƒ¡ãƒªãƒƒãƒˆã€‚

3. \*\*TanStack Query v5 ãŒæ¨å¥¨ã•ã‚Œã‚‹ç†ç”±\*\*  
   - v5 ã¯ \*\*`HydrationBoundary`\*\* ã‚’æä¾›ã—ã€React 19 ã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ä¸­ã« \*\*ã‚µãƒ¼ãƒãƒ¼ãŒæŒã¤ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¸é€æ¬¡æ³¨å…¥\*\*å¯èƒ½ã€‚  
   - ã“ã‚Œã«ã‚ˆã‚Šã€Œã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒåŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’äºŒé‡å–å¾—ã—ã¦ã—ã¾ã†ã€å•é¡Œã‚’è§£æ±ºã—ã¤ã¤ã€Suspense ã¨ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªã‚‚æ­£ã—ãæ©Ÿèƒ½ã—ã¾ã™ã€‚

&gt; \*\*è¦ã™ã‚‹ã«\*\*  
&gt; - \*\*React 19\*\* ã¯ â€œã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚° SSR ã‚’æœ¬æ ¼æ¡ç”¨ã—ãŸ Reactâ€ ã¨ã„ã†ä½ç½®ã¥ã‘ã€‚  
&gt; - \*\*Streaming\*\* ã¯ HTML ã‚’æ®µéšçš„ã«é€ã‚‹ä»•çµ„ã¿ã§ã€åˆé€Ÿã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’ä¸Šã’ã‚‹ã€‚  
&gt; - TanStack Query v5 ã¯ãã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã¨ç›¸æ€§ãŒè‰¯ã„ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã„ã‚‹â€•â€•ã“ã‚ŒãŒã€ŒReact 19 / Streaming ã‚’ä½¿ã†å ´åˆã¯ v5 ã‚’é¸æŠã€ã¨æ›¸ã„ãŸç†ç”±ã§ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/28 12:29:28*

å®Ÿè£…ã¯ã©ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/28 12:29:45*

ä»¥ä¸‹ã¯ **ã€ŒReact 19 + TanStack Query v5 ã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚° SSRã€** ã‚’  
å®Ÿéš›ã«çµ„ã‚€ã¨ãã®æœ€å°æ§‹æˆã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚ã€€

---

## 1 Next.js (App Router) ã§ã®å®Ÿè£…

```
my-app/
â””â”€ app/
   â”œâ”€ layout.tsx   â† âœ¨å…¨ãƒšãƒ¼ã‚¸å…±é€šã§ QueryClient/Hydration ã‚’å¼µã‚‹
   â”œâ”€ posts/
   â”‚   â”œâ”€ page.tsx       â† ğŸŒ±ã€ˆServer Componentã€‰ãƒ‡ãƒ¼ã‚¿ã‚’å…ˆã«å–ã‚‹
   â”‚   â””â”€ Posts.tsx      â† ğŸ–¥ ã€ˆClient Componentã€‰useQuery ã§æ°´å’Œ
   â””â”€ providers.tsx      â† QueryClientProvider å…±é€šåŒ–
```

### 1-1 `app/providers.tsx`

```tsx
'use client'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { HydrationBoundary } from '@tanstack/react-query'
import { ReactNode } from 'react'

export default function Providers({
  children,
  dehydratedState,
}: {
  children: ReactNode
  dehydratedState: unknown
}) {
  const client = new QueryClient()
  return (
    <QueryClientProvider client={client}>
      {/* ã‚µãƒ¼ãƒãƒ¼å´ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’æ³¨å…¥ */}
      <HydrationBoundary state={dehydratedState}>
        {children}
      </HydrationBoundary>
    </QueryClientProvider>
  )
}
```

### 1-2 `app/layout.tsx`

```tsx
import Providers from './providers'
import './globals.css'

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="ja">
      <body>
        {/* â˜… Server Component ã ãŒ children ã‚’ Providers ã§åŒ…ã‚€ */}
        <Providers dehydratedState={null}>{children}</Providers>
      </body>
    </html>
  )
}
```

### 1-3 `app/posts/page.tsx` â€” **Server Component**

```tsx
import { fetchPosts } from '@/lib/api'
import Posts from './Posts'
import { dehydrate, QueryClient } from '@tanstack/react-query'

export default async function Page() {
  const qc = new QueryClient()

  // ã‚µãƒ¼ãƒãƒ¼ã§å…ˆã«ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥
  await qc.prefetchQuery({ queryKey: ['posts'], queryFn: fetchPosts })

  return (
    // Providers ã® dehydratedState ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ãã®ã¾ã¾æ¸¡ã™
    <Posts dehydratedState={dehydrate(qc)} />
  )
}
```

### 1-4 `app/posts/Posts.tsx` â€” **Client Component**

```tsx
'use client'
import { useQuery } from '@tanstack/react-query'
import { fetchPosts } from '@/lib/api'

export default function Posts() {
  const { data, isPending } = useQuery({
    queryKey: ['posts'],
    queryFn: fetchPosts,      // â˜… ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§åŒã˜ QKãƒ»é–¢æ•°
    suspense: true,           // React 19 Suspense + Streaming
  })

  if (isPending) return <p>Loading...</p>
  return (
    <ul>{data.map(p => <li key={p.id}>{p.title}</li>)}</ul>
  )
}
```

**ãƒã‚¤ãƒ³ãƒˆ**

1. ã‚µãƒ¼ãƒãƒ¼å´ã§ `prefetchQuery â†’ dehydrate`  
   â†“  
   ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã® `useQuery` ã¯ **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å³å‚ç…§**ã—ã€äºŒé‡ãƒ•ã‚§ãƒƒãƒã—ãªã„ã€‚îˆ€citeîˆ‚turn0search0îˆ  
2. `HydrationBoundary` ãŒ Streaming SSR ä¸­ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’é€æ¬¡æ³¨å…¥ã€‚  
3. ã“ã‚Œã ã‘ã§ **React 19 ã® `renderToReadableStream` + åˆé€ŸçŸ­ç¸®** ã‚’äº«å—ã§ãã¾ã™ã€‚  

> Next.js å´ã®å†…éƒ¨ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å®Ÿè£…ã¯ React 19 API ã‚’ç¶™æ‰¿ã€‚ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’è‡ªåˆ†ã§æ›¸ãå¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚  
> è©³ç´°ã¯å…¬å¼ Advanced SSR ã‚¬ã‚¤ãƒ‰ã§ã‚‚åŒã˜æµã‚Œã‚’æ¨å¥¨ã—ã¦ã„ã¾ã™ã€‚îˆ€citeîˆ‚turn0search1îˆ

---

## 2 Bun + Hono ã§ã€Œè‡ªå‰ Streaming SSRã€ã‚’ã‚„ã‚‹å ´åˆ

```ts
// server.ts (Bun)
import { Hono } from 'hono'
import { renderToReadableStream } from 'react-dom/server'
import { QueryClient, dehydrate } from '@tanstack/react-query'
import App from './App'            // ãƒ«ãƒ¼ãƒˆ React App
import { fetchPosts } from './lib/api'

const app = new Hono()

app.get('*', async c => {
  const qc = new QueryClient()
  await qc.prefetchQuery({ queryKey: ['posts'], queryFn: fetchPosts })

  // ğŸŒŠ HTML ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒ ã§é€ã‚Šå‡ºã™
  const stream = await renderToReadableStream(
    <App dehydratedState={dehydrate(qc)} url={c.req.url} />
  )

  return new Response(stream, {
    headers: { 'Content-Type': 'text/html; charset=utf-8' },
  })
})

export default app                 // Bun.serve() ãŒè‡ªå‹•ã§èª­ã¿è¾¼ã‚€
```

- **Hono** ã¯ Fetch API æº–æ‹ ãªã®ã§ `renderToReadableStream()` ã®å‡ºåŠ›ã‚’ãã®ã¾ã¾ `Response` ã«æ¸¡ã™ã ã‘ã€‚  
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¯ Next ã¨åŒã˜ã `HydrationBoundary` ã§æ°´å’Œã€‚  
- Bun ã® HTTP ã‚µãƒ¼ãƒãƒ¼æ€§èƒ½ + ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã§ **TTFB ãŒæ¥µå°** ã«ãªã‚Šã¾ã™ï¼ˆHono ãŒ 40 ä¸‡ req/s è¶…ã®ãƒ™ãƒ³ãƒçµæœï¼‰ã€‚îˆ€citeîˆ‚turn0search5îˆ  

---

## 3 ãƒ¯ãƒ³ãƒã‚¤ãƒ³ãƒˆè¨­è¨ˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ ğŸ“

| ãƒã‚§ãƒƒã‚¯é …ç›® | Why |
|--------------|-----|
| **QueryKey ã‚’ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§çµ¶å¯¾ã«ä¸€è‡´** | 1 byte ã§ã‚‚é•ã†ã¨äºŒé‡ãƒ•ã‚§ãƒƒãƒ |
| **QueryClient ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆå˜ä½ã§ new** | ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢ |
| **`HydrationBoundary` ã§ dehydrate çµæœã‚’åŒ…ã‚€** | Streaming æ™‚ã‚‚é †åºä¿è¨¼ |
| **`suspense:true` ãŒå‰æ**ï¼ˆApp Routerï¼‰ | `<Suspense>` + ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã§ UX å‘ä¸Š |
| **React 19 ã‚’ä½¿ç”¨** | `renderToReadableStream` ãŒæ­£å¼ API |

---

### ã¾ã¨ã‚

- **Next.js (App Router)** ãªã‚‰ `prefetch â†’ dehydrate â†’ HydrationBoundary` ã® 3 ã‚¹ãƒ†ãƒƒãƒ—ã§ **TanStack Query v5 ã¨å®Œç’§ã«é€£æº**ã€‚  
- **Bun + Hono** ã§ã‚‚ `renderToReadableStream()` ã¨åŒã˜æ‰‹é †ã§å®Ÿè£…ã§ãã€Next ã«ä¾å­˜ã—ãªã„è¶…è»½é‡æ§‹æˆãŒå®Ÿç¾ã—ã¾ã™ã€‚  
- ã©ã¡ã‚‰ã®ã‚±ãƒ¼ã‚¹ã§ã‚‚ **ã‚µãƒ¼ãƒãƒ¼ã§å–å¾—ã—ãŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¸ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«å¼•ãç¶™ã**ã®ãŒè‚ã€‚  

ã“ã‚Œã§ã€ŒReact 19 + Streaming + TanStack Query v5ã€ã®å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒæ´ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚è©¦ã—ã¦ã¿ã¦ãã ã•ã„ï¼

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/29 10:28:08*

RimixãŒWebæ¨™æº–ã ã‘ã©bunã§devã§ããªã„ã¨ã¯ã©ã†ã„ã†ã“ã¨ãªã®ã‹ï¼Ÿ
ãƒ“ãƒ«ãƒ‰ã¯ã§ãã‚‹ã®ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/29 10:28:33*

### â“ã€ŒRemix ã¯ Web æ¨™æº–ãªã®ã« Bun ã§ *dev* ã§ããªã„ã€ã¨ã¯ï¼Ÿ

| ãƒ•ã‚§ãƒ¼ã‚º | ä½•ãŒå‹•ãï¼Ÿ | Bun ã§ã®çŠ¶æ³ |
|---------|-----------|--------------|
| **é–‹ç™º (`remix dev`)** | ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦– + HMR + ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•ã‚’è¡Œã† **é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ CLI**ï¼ˆ`@remix-run/dev`ï¼‰ | Node ã®å†…éƒ¨ APIï¼ˆ`module`, `fs.watch`, `vm` ãªã©ï¼‰ã«ã¾ã ä¾å­˜ã—ã¦ãŠã‚Š **Bun å˜ä½“ã§ã¯å‹•ã‹ãªã„**ã€‚å…¬å¼ã‚¬ã‚¤ãƒ‰ã‚‚ã€Œ`remix dev` ã¯ Node ã§å®Ÿè¡Œã•ã‚Œã‚‹ã€ã¨æ˜è¨˜ îˆ€citeîˆ‚turn1view0îˆ |
| **ãƒ“ãƒ«ãƒ‰ (`remix build`)** | â‘  ãƒ«ãƒ¼ãƒˆ/ãƒ«ãƒ¼ãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è§£æã—ã¦<br>â‘¡ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ»ã‚µãƒ¼ãƒãƒ¼ãƒãƒ³ãƒ‰ãƒ«ã‚’ç”Ÿæˆ | `remix build` è‡ªä½“ã¯ Node ä¾å­˜ã ãŒã€**`bun run build` ã§å‘¼ã³å‡ºã™ã“ã¨ã¯å¯èƒ½**ï¼ˆBun ãŒ Node ã‚’ãƒ©ãƒƒãƒ—ã—ã¦å®Ÿè¡Œï¼‰ã€‚ç”Ÿæˆç‰©ã¯ç´”ç²‹ãª JS/CSS/HTML ãªã®ã§ãƒ©ãƒ³ã‚¿ã‚¤ãƒ éä¾å­˜ |
| **æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼** | ä½œã£ãŸ JS ãƒãƒ³ãƒ‰ãƒ«ã‚’ `Request â†’ Response` ã¸å¤‰æ›ã™ã‚‹ **Adapter** | `@remix-run/node` ä»¥å¤–ã« **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è£½ Bun Adapter** ãŒå­˜åœ¨ã—ã€`Bun.serve()` ã§ãƒã‚¤ãƒ†ã‚£ãƒ–ã«å‹•ã‹ã›ã‚‹ îˆ€citeîˆ‚turn2search3îˆã€‚å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚‚ã€ŒRemix ã¯ Bun ã‚’å«ã‚€å„ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¸ãƒ‡ãƒ—ãƒ­ã‚¤å¯ã€ã¨è¨˜è¿° îˆ€citeîˆ‚turn2search1îˆ |

> **ã¤ã¾ã‚Š**  
> - **é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã ã‘**ãŒ Node å°‚ç”¨ã§æ®‹ã£ã¦ã„ã‚‹  
> - **ãƒ“ãƒ«ãƒ‰ã¨æœ¬ç•ªå®Ÿè¡Œ**ã¯ Bun ã§ã‚‚å¯èƒ½ï¼ˆã¾ãŸã¯æ—¢ã«å‹•ã„ã¦ã„ã‚‹ã‚‚ã®ãŒã‚ã‚‹ï¼‰

---

### ğŸ› ï¸ Bun ã§å‹•ã‹ã™æ‰‹é †ï¼ˆæœ€å°ä¾‹ï¼‰

#### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

```bash
bun create remix   # ä¾å­˜é–¢ä¿‚ã¯ bun install
```

#### 2. é–‹ç™º

```jsonc
// package.json
"scripts": {
  "dev": "remix dev"   // â† ä¸­èº«ã¯ Node ä¾å­˜
}

bun run dev            // å®Ÿè³ª Node ãŒå‹•ã
```

#### 3. æœ¬ç•ªç”¨ãƒ“ãƒ«ãƒ‰

```bash
bun run build      # â† remix build ã‚’ Node ã§å®Ÿè¡Œ
```

#### 4. Bun ãƒã‚¤ãƒ†ã‚£ãƒ–æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼

```ts
// server.ts
import { createRequestHandler } from "remix-bun";   // community adapter
import * as build from "./build/server.js";

Bun.serve({
  port: 3000,
  fetch: createRequestHandler({ build, mode: "production" })
});
```

```jsonc
// package.json
"scripts": {
  "start:bun": "bun run server.ts"
}
```

ã“ã‚Œã§ **dev ã ã‘ Nodeã€build & æœ¬ç•ªã¯ Bun** ã¨ã„ã†æ§‹æˆãŒå®Œæˆã—ã¾ã™ã€‚

---

### â— ã‚ˆãã‚ã‚‹ç–‘å•

| Q | A |
|---|---|
| **ã€ŒWeb æ¨™æº–ã€ãªã®ã« Node ä¾å­˜ãªã®ï¼Ÿ** | æœ¬ç•ªãƒ©ãƒ³ã‚¿ã‚¤ãƒ éƒ¨åˆ†ï¼ˆ`Request/Response` ã§å‹•ãå±¤ï¼‰ã¯ç¢ºã‹ã« Web æ¨™æº–ã€‚ãŸã ã— *é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ CLI* ã¯ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ã‚„ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ã‚’è¡Œã†éƒ½åˆã§ 20 å¹´ä»¥ä¸Šè‚²ã£ãŸ **Node ç”Ÿæ…‹ç³»ã®ãƒ„ãƒ¼ãƒ«ï¼ˆesbuild/chokidar ç­‰ï¼‰** ã‚’ä½¿ã£ã¦ã„ã‚‹ã€‚ãã®éƒ¨åˆ†ãŒã¾ã  Bun ã§äº’æ›ä¸è¶³ã€‚ |
| **ãƒ“ãƒ«ãƒ‰æ™‚ã«ã‚‚ Node ã‚’æ¶ˆã›ãªã„ï¼Ÿ** | å…¬å¼ CLI ã¯ Node è£½ãªã®ã§å®Œå…¨æ’é™¤ã¯ç¾çŠ¶ä¸å¯ã€‚ãŸã ã—ãƒ“ãƒ«ãƒ‰ã¯ CI ã§ 1 å›å®Ÿè¡Œã™ã‚‹ã ã‘ãªã®ã§ã€Œæœ¬ç•ªã¯å®Œå…¨ Bunã€ã®æ§‹æˆã§å®Ÿå®³ã¯ã»ã¼ç„¡ã„ã€‚ |
| **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãŒæ—¢ã« â€œBun ã ã‘ã§ devâ€ ã‚’å‹•ã‹ã—ã¦ã„ã‚‹ä¾‹ãŒã‚ã‚‹ã®ã§ã¯ï¼Ÿ** | ã‚ã‚Šã¾ã™ï¼ˆä¾‹: `bun-remix-example`ï¼‰îˆ€citeîˆ‚turn0search1îˆã€‚ãŸã ã—å†…éƒ¨ã§ Node CLI ã‚’ spawn ã—ãŸã‚Šã€æœªå®Ÿè£… API ã‚’ polyfill ã—ãŸã‚Šã™ã‚‹æš«å®šç­–ãªã®ã§ **å…¬å¼ã‚µãƒãƒ¼ãƒˆã¨ã¯åˆ¥**ã€‚ |

---

### ğŸš§ ä»Šå¾Œã©ã†ãªã‚‹ï¼Ÿ

- **Remix v2/vite/compiler ã®ç§»è¡Œ**ãŒé€²ã‚ã°ã€dev ã‚µãƒ¼ãƒãƒ¼ã‚‚ Vite ãƒ™ãƒ¼ã‚¹ã«ãªã‚Š Bun äº’æ›ãŒé«˜ã¾ã‚‹è¦‹è¾¼ã¿ã€‚  
- Bun å´ã‚‚ **Node API å®Ÿè£…ç‡ã‚’æ¯ãƒªãƒªãƒ¼ã‚¹å‘ä¸Š**ã•ã›ã¦ã„ã‚‹ãŸã‚ã€å…¬å¼ã« â€œBun only devâ€ ãŒå‹•ãæ—¥ã¯é ããªã„ã¨è¦‹ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

---

## ã¾ã¨ã‚

1. Remix ã¯ **æœ¬ç•ªãƒ©ãƒ³ã‚¿ã‚¤ãƒ ï¼Web æ¨™æº–**ãªã®ã§ **Bun ãƒ“ãƒ«ãƒ‰ï¼Bun ã‚µãƒ¼ãƒãƒ¼ã¯å•é¡Œãªã—**ã€‚  
2. ãŸã ã— **é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ CLI ã¯ Node ä¾å­˜** â†’ ç¾çŠ¶ã€Œdev ã ã‘ Nodeã€ã§æŠ˜ã‚Šåˆã„ã‚’ã¤ã‘ã‚‹ã®ãŒç¾å®Ÿçš„ã€‚  
3. ã™ã§ã«ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ç‰ˆ Adapter ãŒã‚ã‚Šã€æœ¬ç•ªã‚’ Bun ãƒã‚¤ãƒ†ã‚£ãƒ–ã§èµ°ã‚‰ã›ã‚‹ã“ã¨ã¯å®Ÿè¨¼æ¸ˆã¿ã€‚  
4. å°†æ¥çš„ã«ã¯å…¬å¼ãƒ„ãƒ¼ãƒ«ãƒã‚§ãƒ¼ãƒ³ã‚‚ Vite ï¼‹ Bun å¯¾å¿œãŒé€²ã‚€ãŸã‚ã€**â€œdev ã‚‚æœ¬ç•ªã‚‚å®Œå…¨ Bunâ€** ãŒè¦‹ãˆã¦ãã¦ã„ã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/29 10:30:43*

å–ã‚‹ãªã‚‹ã¨å®Œå…¨bunã§ã‚„ã‚ŠãŸã„å ´åˆã¯ã©ã†ãªã‚‹ã®ã‹ï¼Ÿ
ã¾ãŸãã“ã¾ã§å•é¡Œãªã„ã‹ã‚‰åˆ¥ã«ä¹—ã‚Šæ›ãˆãªã„æ–¹ãŒã„ã„ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/29 10:31:03*

## ã€Œå®Œå…¨ Bun é‹ç”¨ã€ã‚’ç‹™ã†ãªã‚‰ â€• Remix ç¾çŠ¶ã¾ã¨ã‚

| ãƒ•ã‚§ãƒ¼ã‚º | ç¾çŠ¶ã®å®Ÿè£… | Bun å°å…¥å¯å¦ | å‚™è€ƒ |
|---------|-----------|--------------|------|
| \*\*é–‹ç™º (`remix dev`)\*\* | `@remix-run/dev` ãŒ Node ã®å†…éƒ¨ APIï¼ˆ`fs.watch`ãƒ»`vm`ãƒ»`module` ãªã©ï¼‰ã«ä¾å­˜ | \*\*ä¸å¯\*\*ï¼ˆNode ãŒå¿…é ˆï¼‰îˆ€citeîˆ‚turn1view0îˆ | \*bun run dev\* ã§èµ·å‹•ã—ã¦ã‚‚å†…éƒ¨ã§ Node ã‚’ fork ã—ã¦ã„ã‚‹ã ã‘ |
| \*\*ãƒ“ãƒ«ãƒ‰ (`remix build`)\*\* | ãƒãƒ³ãƒ‰ãƒ©ã¯ esbuild + Node ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | \*\*å¯\*\*ï¼ˆ`bun run build` ã§å‹•ãï¼‰ | ãƒãƒªãƒ•ã‚£ãƒ«ãŒè¦ã‚‹ API ã¯ã»ã¼ç„¡ã„ |
| \*\*æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼\*\* | `createRequestHandler` ã‚’ä»»æ„ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã«æ¸¡ã™ | \*\*å¯\*\*ï¼ˆ`remix-bun` ãªã©ã® Adapter ã§ `Bun.serve`ï¼‰îˆ€citeîˆ‚turn2view0îˆ | 42â˜… ã® `bun-remix` ä¾‹ã§ã¯ \*bun run start\* ã§ HMR ä»˜ãé‹ç”¨ã‚‚å®Ÿè¨¼æ¸ˆã¿ îˆ€citeîˆ‚turn4view0îˆ |

---

### A. \*\*å®Œå…¨ Bun é–‹ç™º\*\*ã‚’ã©ã†ã—ã¦ã‚‚å®Ÿç¾ã—ãŸã„å ´åˆ

| æ–¹æ³• | ã‚„ã‚‹ã“ã¨ | ãƒªã‚¹ã‚¯ |
|------|----------|-------|
| \*\*â‘  å…¬å¼ CLI ã‚’ Node ã®ã¾ã¾å‘¼ã³å‡ºã—\*\* | `bun run dev` ã§ Node ã‚’ spawn&lt;br&gt;â†’ \*ã€Œå®Ÿè³ª Node devã€\* ã ãŒé–‹ç™ºã‚³ãƒãƒ³ãƒ‰ã¯ 1 æœ¬ | Node ãŒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å®Œå…¨ã«ã¯æ¶ˆãˆãªã„ |
| \*\*â‘¡ community è£½ dev ãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ä½¿ã†\*\*&lt;br&gt;(ä¾‹ `bun-remix`) | Bun ã§ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–â†’å¤‰æ›´ãŒã‚ã‚Œã°&lt;br&gt;`remix build --watch` ã‚’å†å®Ÿè¡Œã—ã¤ã¤ HMR | ãƒ©ãƒƒãƒ‘ãƒ¼ãŒå€‹äººãƒ¡ãƒ³ãƒ†ï¼Breaking ã«è¿½éšå¿…é ˆ |
| \*\*â‘¢ Remix ã® Vite ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ç‰ˆï¼ˆFuture Flagï¼‰ã«ç§»è¡Œ\*\* | `remix config vite` ã‚’è©¦é¨“çš„ã«æœ‰åŠ¹åŒ–&lt;br&gt;â†’ Vite ã®ã»ã†ãŒ Node API ä¾å­˜ãŒå°‘ãªãã€Bun å¯¾å¿œãŒé€²ã‚€è¦‹è¾¼ã¿ îˆ€citeîˆ‚turn3search0îˆ | ã¾ã  \*\*Î²\*\*ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³äº’æ›ãƒ»å…¬å¼ã‚µãƒãƒ¼ãƒˆãŒä¸è¶³ |

&gt; \*\*è¦ã™ã‚‹ã«\*\*ï¼š  
&gt; \*ä»Šã“ã®ç¬é–“\* ã« â€œ100 % Bun ã ã‘â€ ã§ Remix ã‚’å›ã™æ­£å¼ãƒ«ãƒ¼ãƒˆã¯ãªã„ã€‚dev ã ã‘ã¯ Node ã‚’æ®‹ã™ or community ãƒ©ãƒƒãƒ‘ãƒ¼ã§é ‘å¼µã‚‹ã€ã®äºŒæŠã§ã™ã€‚

---

### B. \*\*ã€Œãã“ã¾ã§å•é¡Œãªã„ã€ãªã‚‰ä¹—ã‚Šæ›ãˆãªãã¦è‰¯ã„ç†ç”±\*\*

1. \*\*Node ã¯ dev ç”¨ã« 1 ãƒ—ãƒ­ã‚»ã‚¹å‹•ãã ã‘\*\*  
   - ãƒãƒ³ãƒ‰ãƒ«ã¯ esbuildã€è¶…è»½é‡ã€‚  
   - ãƒ“ãƒ«ãƒ‰ãƒ»æœ¬ç•ªã¯ Bun ãƒã‚¤ãƒ†ã‚£ãƒ–ã«å‡ºæ¥ã‚‹ã®ã§é‹ç”¨ã‚³ã‚¹ãƒˆã¯ã»ã¼å¤‰ã‚ã‚‰ãªã„ã€‚

2. \*\*Remix å›ºæœ‰ã®å¼·ã¿ã‚’ç¶­æŒ\*\*  
   - ãƒã‚¹ãƒˆãƒ«ãƒ¼ãƒˆ & `loader/action` ã® DX  
   - \*\*ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–å¼·åŒ–\*\*ï¼ˆJS ã‚ªãƒ•ã§ã‚‚å‹•ãï¼‰  
   - React Router v7 ã¨ã®äº’æ›ï¼è±Šå¯Œãªãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«

3. \*\*å…¬å¼ãŒ Vite åŒ–ã‚’è¡¨æ˜\*\*ã—ã¦ãŠã‚Šã€  
   Node ä¾å­˜ã¯å¹´å†…ï½æ¥å¹´ä¸­ã«è–„ã¾ã‚‹å¯èƒ½æ€§å¤§ã€‚

---

### C. \*\*ãã‚Œã§ã‚‚ã€ŒAll Bunã€ã‚’æœ€å„ªå…ˆã—ãŸã„å ´åˆã®åˆ¥è·¯ç·š\*\*

| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | ç‰¹å¾´ | Bun çŠ¶æ³ |
|---|---|---|
| \*\*HonoX\*\* | Next ãƒ©ã‚¤ã‚¯ DX + Islands + Hono | `@hono/vite-build/bun` ã§ dev ã‚‚æœ¬ç•ªã‚‚ Bun ãƒã‚¤ãƒ†ã‚£ãƒ–ï¼ˆãŸã ã— Î±ç‰ˆï¼‰ |
| \*\*TanStack Start\*\* | Router/Query ã¨ä¸€ä½“åŒ–ã€å‹å®‰å…¨ | `server.preset: "bun"` ã‚’å…¬å¼ã‚µãƒãƒ¼ãƒˆï¼ˆÎ²ï¼‰ |
| \*\*Vike (vite-plugin-ssr)\*\* | â€œSSR ã‚­ãƒƒãƒˆâ€ ï¹£ ã‚µãƒ¼ãƒãƒ¼ã‚’è‡ªç”±ã«é¸æŠ | `Bun.serve()` ä¾‹å¤šæ•°ã€å®‰å®š |
| \*\*Astro\*\* | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç‰¹åŒ–ã€JS 0 é…ä¿¡ | Bun ã§ SSR å¯ï¼ˆä¸€éƒ¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¦ç¢ºèªï¼‰ |

&gt; ğŸ‘‰ \*\*æ–°è¦æ¡ˆä»¶ã§ Bun ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ\*\*ãªã‚‰ \*\*TanStack Start\*\* or \*\*HonoX\*\* ãŒä¸€ç•ªæ‰‹ã€‚  
&gt; æ—¢å­˜ Remix ã‚’ \*ã‚ã–ã‚ã–\* ä¹—ã‚Šæ›ãˆã‚‹ã‚³ã‚¹ãƒˆã¯é«˜ã„ãŸã‚ã€\*\*Node ä½µç”¨ã§æ§˜å­è¦‹\*\*ãŒç¾å®Ÿçš„ã§ã™ã€‚

---

## âœ… çµè«–

- \*\*ç¾çŠ¶\*\*ï¼šRemix ã¯ \*dev ã ã‘ Node\* ãŒå¿…é ˆã€‚ãƒ“ãƒ«ãƒ‰ï¼†æœ¬ç•ªã¯ Bun ã§ OKã€‚  
- \*\*å›°ã‚‰ãªã„ãªã‚‰\*\* â€”â€” ãã®ã¾ã¾ Remix + Node dev + Bun æœ¬ç•ªã§ååˆ†ã€‚  
- \*\*100 % Bun ã¸ã®ã“ã ã‚ã‚Š\*\*ãŒå¼·ã„ï¼æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãªã‚‰  
  \*\*TanStack Startãƒ»HonoXãƒ»Vike\*\* ãªã© â€œBun ãƒã‚¤ãƒ†ã‚£ãƒ–â€ ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’æ¤œè¨ã€‚  
- \*\*å…¬å¼ã® Vite ç§»è¡ŒãŒé€²ã‚ã°\*\* Remix ã‚‚ dev ã‚’å«ã‚ã¦ Bun ã§å‹•ãæœªæ¥ãŒè¦‹ãˆã¦ã„ã‚‹ã®ã§ã€  
  \*ä»Šã™ãã®å¤§è¦æ¨¡ç§»è¡Œ\* ã¯ã‚³ã‚¹ãƒ‘ãŒä½ã‚ã€ã¨ã„ã†ã®ãŒç¾æ™‚ç‚¹ã®ãƒãƒ©ãƒ³ã‚¹æ„Ÿã§ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/29 10:33:29*

Astroã«ã¤ã„ã¦ã‚‚ã†å°‘ã—çŸ¥ã‚ŠãŸã„ ã©ã†ã„ã†ç‰¹å¾´ãŒã‚ã‚‹ã®ã‹ï¼Ÿ
Webæ¨™æº–ã‹ï¼Ÿ
Rimixã®Webæ¨™æº–ã«æƒ¹ã‹ã‚Œã¦ã„ã‚‹

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/29 10:33:34*

### Astro ã®ã‚³ã‚¢æ€æƒ³ â€” \*\*ã€ŒHTML ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ & ã‚¼ãƒ­ JS by defaultã€\*\*

| è¦³ç‚¹ | Astro ã®ç‰¹å¾´ | å…¸æ‹  |
|---|---|---|
| \*\*0 JavaScript é…ä¿¡\*\* | ã™ã¹ã¦ã® UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã¾ãš HTML/CSS ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã€ä¸è¦ãª JS ã¯è‡ªå‹•ã§å‰¥ãŒã•ã‚Œã‚‹ã€‚ | îˆ€citeîˆ‚turn0search0îˆ |
| \*\*Islands Architecture\*\* | ãƒšãƒ¼ã‚¸å…¨ä½“ã¯é™çš„ HTMLã€‚å¿…è¦ãªç®‡æ‰€ã ã‘ã€Œå³¶ã€ã¨ã—ã¦ React/Vue/Svelte ãªã©ã‚’ \*\*éƒ¨åˆ†æ°´å’Œ\*\*ã€‚å³¶ä»¥å¤–ã¯ JS 0 byteã€‚ | îˆ€citeîˆ‚turn0search9îˆ |
| \*\*UI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜\*\* | 1 ã¤ã®ãƒšãƒ¼ã‚¸ã§ React + Solid + Vue ã‚’æ··åœ¨ã•ã›ã¦ã‚‚ OKã€‚ | îˆ€citeîˆ‚turn0search3îˆ |
| \*\*Markdown / MDX ãƒã‚¤ãƒ†ã‚£ãƒ–\*\* | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é§†å‹•ã‚µã‚¤ãƒˆå‘ã‘ã« \*\*Content Collections\*\*ãƒ»MDX çµ±åˆã‚’æä¾›ã€‚å‹å®‰å…¨ã«ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‚’å–å¾—ã€‚ | îˆ€citeîˆ‚turn0search2îˆ‚turn0search5îˆ |
| \*\*ãƒ‡ãƒ¼ã‚¿å–å¾—\*\* | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ `fetch()`ï¼ˆWeb æ¨™æº–ï¼‰ã‚’ãã®ã¾ã¾ä½¿ç”¨ã€‚ | îˆ€citeîˆ‚turn0search4îˆ |
| \*\*ã‚µãƒ¼ãƒãƒ¼ãƒ©ãƒ³ã‚¿ã‚¤ãƒ éä¾å­˜\*\* | Node / Deno / Bun / Cloudflare Workers ç­‰ã¸ã® \*\*Adapter æ–¹å¼\*\*ã€‚å†…éƒ¨ã¯ `Request` / `Response` æ¨™æº–ã§çµ±ä¸€ã€‚ | îˆ€citeîˆ‚turn0search1îˆ |
| \*\*ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«\*\* | Vite ãƒ™ãƒ¼ã‚¹ã§è¶…é«˜é€Ÿ HMRã€‚ | â€” |
| \*\*é™çš„å‡ºåŠ› & SSR\*\* | `astro build` ã§å®Œå…¨é™çš„ã‚µã‚¤ãƒˆã‚‚ã€`astro build --server`ï¼‹å„ç¨® Adapter ã§ SSR ã‚‚é¸æŠå¯ã€‚ | â€” |

---

## ã€ŒWeb æ¨™æº–ã€ã¨è¨€ãˆã‚‹ãƒã‚¤ãƒ³ãƒˆ

| æ¯”è¼ƒ | \*\*Astro\*\* | \*\*Remix\*\* |
|------|-----------|-----------|
| \*\*HTTP API\*\* | `Request` / `Response` ã‚’ãã®ã¾ã¾ä½¿ç”¨ã€‚Adapter ãŒç‹¬è‡ª API ã‚’æ¨™æº–å½¢ã¸å¤‰æ›ã€‚ | åŒã˜ã `fetch` äº’æ›ã€‚ |
| \*\*ãƒ‡ãƒ¼ã‚¿å–å¾—\*\* | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã©ã¡ã‚‰ã‚‚ `fetch()` ä½¿ç”¨ã€‚ | `loader()` / `action()` ã‚‚ Fetch äº’æ›ã§è¿”å´ã€‚ |
| \*\*ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å®£è¨€\*\* | `src/pages/\*.astro` ã‚„ `src/pages/api/\*.ts` (= Edge Function) â€•é™çš„ãªâ€œãƒ•ã‚¡ã‚¤ãƒ«ï¼ãƒ«ãƒ¼ãƒˆâ€è¦ç´„ã€‚ | React Router ã‚’ä½¿ã£ãŸ \*\*å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\*\*ï¼ˆPages ç‰ˆï¼‰/ ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ (App Router) |
| \*\*å®Ÿè¡Œãƒ©ãƒ³ã‚¿ã‚¤ãƒ \*\* | Node / Deno / Bun / Workers â€• Adapter ã‚’é¸ã¶ã ã‘ã€‚ | å…¬å¼ã¯ Node Adapterã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ Bunã€‚ |
| \*\*JS é‡ã®æ‰±ã„\*\* | \*\*0 JS ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\*\*ã€‚å¿…è¦éƒ¨ã ã‘å³¶ã¨ã—ã¦ opt-inã€‚ | ãƒ•ãƒ« React Hydrationã€‚RSC ã§ JS å‰Šæ¸›ã‚’ç›®æŒ‡ã™ãŒã¾ã é™å®šçš„ã€‚ |

&gt; \*\*ã¾ã¨ã‚ã‚‹ã¨\*\*ï¼š  
&gt; - Remix ã¯ã€Œã™ã¹ã¦ã‚’ React ã§æç”»ã—ã¤ã¤ Web æ¨™æº– Request/Response ã§å‹•ãã€ã€‚  
&gt; - Astro ã¯ã€Œã¾ãšé™çš„ HTMLï¼ˆWeb æœ¬æ¥ã®å§¿ï¼‰ã‚’å‡ºã—ã€ã»ã‚“ã®ä¸€éƒ¨ã«ã ã‘ JS ã‚’æµã—è¾¼ã‚€ã€ã€‚  
&gt; \*\*ã©ã¡ã‚‰ã‚‚â€œWeb æ¨™æº–â€ã ãŒã€ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒçœŸé€†\*\* ã§ã™ã€‚

---

## Astro ãŒå‘ããƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹

| ã‚·ãƒŠãƒªã‚ª | ç†ç”± |
|---|---|
| \*\*ãƒ–ãƒ­ã‚° / ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ / ãƒãƒ¼ã‚±ãƒšãƒ¼ã‚¸ / EC ã‚«ã‚¿ãƒ­ã‚°\*\* | Markdownï¼‹MDX ã® \*\*Content Collections\*\* ã¨ 0 JS é…ä¿¡ãŒé«˜é€Ÿãƒ»SEO æœ€é©ã€‚ |
| \*\*ãƒãƒ«ãƒãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯æ··åœ¨ã‚µã‚¤ãƒˆ\*\* | æ—¢å­˜ React ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’å·®ã—è¾¼ã¿ã¤ã¤ã€æ–°è¦ã¯åŸºæœ¬ HTML ã§æ›¸ã‘ã‚‹ã€‚ |
| \*\*é™çš„ã‚µã‚¤ãƒˆ + ä¸€éƒ¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–\*\* | æ”¯æ‰•ã„ãƒ•ã‚©ãƒ¼ãƒ ã‚„ãƒãƒ£ãƒƒãƒˆãªã© \*\*å³¶ã«é™å®š\*\*ã—ã¦ JS ã‚’é€ã‚Œã‚‹ã€‚ |
| \*\*Bun ã§ SSR é…ä¿¡\*\* | `@astrojs/adapter-bun` ã§ãƒã‚¤ãƒ†ã‚£ãƒ– HTTP/H3 ã‚µãƒ¼ãƒãƒ¼ã‚’ç”Ÿæˆã€‚ |

---

## é€†ã« Astro ãŒä¸å¾—æ„ãªå ´é¢

| ã‚±ãƒ¼ã‚¹ | èª¬æ˜ |
|---|---|
| \*\*å¤§è¦æ¨¡ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ SPA\*\* | ã»ã¼å…¨éƒ¨ãŒ React/Vue ã®å³¶ã«ãªã‚‹ã¨ Astro ã®å¼·ã¿ï¼ˆJS å‰Šæ¸›ï¼‰ãŒè–„ã‚Œã‚‹ã€‚ |
| \*\*è¤‡é›‘ãªãƒ«ãƒ¼ãƒˆé–“çŠ¶æ…‹å…±æœ‰\*\* | Islands ã¯å„å³¶ãŒç‹¬ç«‹ Hydrationã€‚å¤§è¦æ¨¡ã‚¢ãƒ—ãƒªçŠ¶æ…‹ã¯ Remix/TanStack ã®ã»ã†ãŒè¨­è¨ˆã—ã‚„ã™ã„ã€‚ |

---

## Bun ã¨ã®é–¢ä¿‚

- \*\*é–‹ç™º (`astro dev`)\*\*ï¼šBun ã§ã‚‚èµ·å‹•å¯ï¼ˆ`bunx astro dev`ï¼‰ã€‚HMR ã‚‚å‹•ä½œå ±å‘Šã‚ã‚Šã€‚  
- \*\*ãƒ“ãƒ«ãƒ‰ & SSR æœ¬ç•ª\*\*ï¼š`astro build` + `adapter-bun` ã§å˜ä¸€ Bun ã‚µãƒ¼ãƒãƒ¼ã‚’ç”Ÿæˆã— `bun run` ã§å³é…ä¿¡ã€‚  
  ï¼Šä¸€éƒ¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒ Node API ã«ä¾å­˜ã—ã¦ã„ã‚‹å ´åˆã¯æ³¨æ„ï¼ˆIssue #6807 ãªã©ï¼‰îˆ€citeîˆ‚turn0search7îˆã€‚

---

### ã¾ã¨ã‚ ï¼ Remix ã® â€œWeb æ¨™æº–â€ ã«æƒ¹ã‹ã‚Œã‚‹æ–¹ã¸

- \*\*Remix\*\*ï¼šå¸¸æ™‚ SSR + React Routerã€‚ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‚‚ã€Œæ™®é€šã® `&lt;form&gt;`ã€ã§å‹•ã \*\*å¼·ã„ã‚¦ã‚§ãƒ–äº’æ›\*\*ã€‚  
  - ã§ã‚‚åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚ã« React JS ã‚’ \*\*å¿…ãš\*\* é…ä¿¡ã€‚  
  - dev ã¯ã¾ã  Node ä¾å­˜ã€‚  
- \*\*Astro\*\*ï¼šHTML ã‚’ç¬¬ä¸€ç´šã¨ã— \*\*JS ã‚’ opt-in\*\* ã™ã‚‹éæ¿€æ´¾ â€œWeb æ¨™æº–â€ æ´¾ã€‚  
  - UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯å¥½ãã«é¸æŠãƒ»æ··åœ¨å¯ã€‚  
  - Bunãƒ»Edgeãƒ»é™çš„ã‚µã‚¤ãƒˆâ€¦ã©ã“ã§ã‚‚å‹•ãã€‚  

&gt; \*\*ã€ŒHTML/SEOãƒ»é€Ÿåº¦ã€ã‚’æœ€å„ªå…ˆ\*\* â†’ \*\*Astro\*\*  
&gt; \*\*ã€ŒReact ã‚¢ãƒ—ãƒªã¨ã—ã¦ã®é–‹ç™ºä½“é¨“ã€\*\* â†’ \*\*Remix / Next / TanStack Start\*\*  

ä¸¡è€…ã®å“²å­¦ã‚’æ¯”ã¹ã¦ã€è‡ªåˆ†ã®ã‚µã‚¤ãƒˆãŒã€Œ\*\*ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ or ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¸»å°\*\*ã€ã‹ã€Œ\*\*UIã‚¢ãƒ—ãƒªä¸»å°\*\*ã€ã‹ã§é¸ã¶ã¨å¤±æ•—ã—ã¾ã›ã‚“ã€‚

---
