# iOSã§S3ã¸ã®CSVã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

æ—¥ä»˜: 2023-05-08

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2023/5/8 16:03:39*

https://github.com/aws-amplify/aws-sdk-ios ä½¿ã„æ–¹ã“ã‚Œã§ã€S3ã¸ã®csvã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã£ã¦ã©ã†ã‚„ã‚‹ã®ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2023/5/8 16:03:47*

AWS SDK for iOSã‚’ä½¿ç”¨ã—ã¦S3ã¸ã®CSVã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚’è¡Œã†ã«ã¯ã€ä»¥ä¸‹ã®æ‰‹é †ã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

1. AWS SDK for iOSã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
   ã“ã®ãƒªãƒ³ã‚¯ã‹ã‚‰AWS SDK for iOSã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«çµ±åˆã—ã¾ã™ã€‚
   https://aws.amazon.com/jp/sdk-for-ios/

2. Amazon S3ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚
   AWS SDK for iOSã‚’ä½¿ç”¨ã—ã¦ã€Amazon S3ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚
   ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

   ```swift
   import AWSS3

   let credentialsProvider = AWSCognitoCredentialsProvider(regionType: .USEast1, identityPoolId: "YOUR_IDENTITY_POOL_ID")
   let configuration = AWSServiceConfiguration(region: .USEast1, credentialsProvider: credentialsProvider)
   AWSServiceManager.default().defaultServiceConfiguration = configuration

   let s3 = AWSS3.default()
   ```

3. CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚
   CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ã€ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ•°ã«ä¿å­˜ã—ã¾ã™ã€‚
   ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

   ```swift
   let fileURL = URL(fileURLWithPath: "path/to/csv/file.csv")
   var csvData = Data()

   do {
       csvData = try Data(contentsOf: fileURL)
   } catch {
       print("Error loading CSV file: \(error.localizedDescription)")
       return
   }
   ```

4. S3ã«CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚
   AWSS3TransferUtilityã‚’ä½¿ç”¨ã—ã¦ã€CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’S3ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚
   ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

   ```swift
   let expression = AWSS3TransferUtilityUploadExpression()
   expression.progressBlock = { (task, progress) in
       // ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®é€²æ—çŠ¶æ³ã‚’è¿½è·¡ã™ã‚‹ãŸã‚ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
   }

   let transferUtility = AWSS3TransferUtility.default()

   transferUtility.uploadData(csvData, bucket: "YOUR_S3_BUCKET_NAME", key: "path/to/destination/file.csv", contentType: "text/csv", expression: expression) { (task, error) in
       if let error = error {
           print("Error uploading CSV file: \(error.localizedDescription)")
           return
       }

       // ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãŒæˆåŠŸã—ãŸå ´åˆã®å‡¦ç†
   }
   ```

ä»¥ä¸ŠãŒã€AWS SDK for iOSã‚’ä½¿ç”¨ã—ã¦S3ã«CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãŸã‚ã®æ‰‹é †ã§ã™ã€‚å¿…è¦ã«å¿œã˜ã¦ã€å„ã‚¹ãƒ†ãƒƒãƒ—ã®ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«çµ±åˆã—ã¦ã€å¿…è¦ãªå¤‰æ›´ã‚’åŠ ãˆã¦ãã ã•ã„ã€‚

---
