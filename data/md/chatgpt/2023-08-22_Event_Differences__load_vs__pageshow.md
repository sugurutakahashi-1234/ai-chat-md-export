# Event Differences: load vs. pageshow

日付: 2023-08-22

---

## 👤 ユーザー
*2023/8/22 14:07:28*

window.addEventListener()での"load"と"pageshow"の違いを教えて欲しい。

---

## 🤖 アシスタント
*2023/8/22 14:08:20*

`window.addEventListener()` は、特定のイベントが発生した際に関数や指定した動作を実行するためのメソッドです。ここでの `"load"` と `"pageshow"` は、異なるイベントを指すので、それぞれの違いを説明します。

1. \*\*"load" イベント\*\*:
    - このイベントは、ページ全体のロードが完了したときに発火します。これには、外部スクリプトや画像、スタイルシートなどの全てのリソースの読み込みが含まれます。
    - もしページに大量のリソースや大きな画像が含まれている場合、"load" イベントの発火までに時間がかかることがあります。

2. \*\*"pageshow" イベント\*\*:
    - このイベントは、ページがユーザーに表示される度に発火します。これには、ページの初回ロードだけでなく、バックボタンやフォワードボタンを使用したページ遷移も含まれます。
    - "pageshow" イベントには `event.persisted` というプロパティがあります。これはページがバックフォワードキャッシュ (BFCache) から取得された場合に `true` となります。BFCacheはブラウザがページを速く表示するための最適化の一部で、完全にリロードすることなくページを表示することができます。

\*\*どちらを使うべきか?\*\*:
- もしページの全リソースの読み込みが完了した後に何らかの動作を実行したい場合は、"load" イベントを使用すると良いでしょう。
- ページが表示されるたびに何らかの動作を実行したい、またはBFCacheからのページ読み込みを考慮したい場合は、"pageshow" イベントを使用すると良いでしょう。

それぞれの用途に応じて適切なイベントを選択することが重要です。

---
