# Xcode スクリプト設定エラー

Date: 2024-04-04

---

## 👤 User
*2024-04-04 18:09:08*

Xcodeの run scriptで以下のコードを実行したい

swift run --package-path "$(SRCROOT)/DISampleAppPackage" mint run mockolo -s "$(SRCROOT)/DISampleAppPackage/Sources" -d "$(SRCROOT)/DISampleAppPackage/Sources/Presentation/Domain/Entity/Mocks.swift" --custom-imports DomainLayer Combine -x Images Strings --mock-final

ただ、SRCROOT が定義されていないみたいらしい。どうやって設定するのか？

---

## 🤖 Assistant
*2024-04-04 18:10:06*

`SRCROOT`はXcodeプロジェクトで使用される環境変数の一つで、プロジェクトのソースファイルが格納されているディレクトリのパスを参照します。`run script`フェーズでこの変数が未定義の場合、それはおそらくスクリプトがXcodeのビルドプロセスの一部として実行されていないことを意味します。しかし、通常、`run script`フェーズ内では`SRCROOT`と他の多くの環境変数が自動的に設定されます。

`SRCROOT`が未定義という問題に対処する方法は以下の通りです：

1. **スクリプトが正しい場所にあるか確認する：** Xcodeの`Build Phases`タブの中の`Run Script`セクションにスクリプトを追加していることを確認してください。そうでない場合、`SRCROOT`などの環境変数は利用できません。

2. **手動で`SRCROOT`を設定する：** 環境変数`SRCROOT`が必要なスクリプトを外部から実行する場合（例えば、ターミナルから直接実行する場合）、`SRCROOT`を手動で設定する必要があります。これを行う一つの方法は、スクリプトの実行前に環境変数をエクスポートすることです：

   ```shell
   export SRCROOT="/path/to/your/xcodeproj/folder"
   ```

   このコマンドを実行した後、スクリプトを実行できます。パスはあなたのプロジェクトの実際の場所に置き換えてください。

3. **Xcodeプロジェクト内で直接`SRCROOT`を参照する：** もし`run script`フェーズで`SRCROOT`がうまく機能しない場合は、スクリプトの中で直接Xcodeプロジェクトのパスをハードコードする方法もありますが、これは推奨されません。なぜなら、プロジェクトの場所が変わるとスクリプトも更新する必要があるからです。

4. **Xcodeの設定を確認する：** `SRCROOT`は通常自動的に設定されますが、何らかの理由で問題が発生している場合は、Xcodeのプロジェクト設定を見直して、ビルド設定が正しく構成されていることを確認してください。

上記のステップを試しても問題が解決しない場合は、Xcodeプロジェクトの設定が原因である可能性があります。プロジェクトのビルド設定を見直し、必要に応じてXcodeのサポートフォーラムやドキュメントで追加の助けを求めることを検討してください。

---
