# Xcode Pre-action 機能説明

Date: 2024-10-16

---

## 👤 User
*2024-10-16 17:26:03*

Xcode &gt; Scheme &gt; Build &gt; Pre-action とは

---

## 🤖 Assistant
*2024-10-16 17:26:17*

Xcode のスキーム設定にある「Build &gt; Pre-action」は、ビルドプロセスが始まる前に実行されるスクリプトやアクションを定義できる機能です。これにより、ビルドの前に必要なカスタム処理を自動化することができます。

例えば、ビルド前に環境変数を設定したり、特定の準備スクリプトを実行する場合などに使用します。

**設定方法**:
1. Xcode のメニューバーから「Product &gt; Scheme &gt; Edit Scheme...」を選択。
2. 左側の「Build」を選択。
3. 右側の「Pre-actions」セクションに移動。
4. 「+」ボタンを押して、新しいスクリプトやアクションを追加。

スクリプトは、シェルスクリプトとして指定することができ、プロジェクトの状況に応じて柔軟にカスタマイズが可能です。

**使用例**:
- ビルド前に一時ファイルやキャッシュを削除するスクリプトの実行。
- Git から最新のリビジョン番号を取得してアプリに埋め込む。
- 特定の環境設定に基づいてフラグを切り替える。

ビルドの前に実行されるため、プロジェクトのコンディションや設定を整える処理に最適です。

---

## 👤 User
*2024-10-16 17:26:33*

ビルドのたびに毎回走るのか？

---

## 🤖 Assistant
*2024-10-16 17:26:44*

「Build &gt; Pre-action」に設定したスクリプトやアクションは、**ビルドのたびに毎回実行されます**。つまり、Xcodeでプロジェクトをビルドするたびに、Pre-actionで定義した処理が必ず実行されます。

このため、ビルドごとに必ず必要な初期化や前準備がある場合に役立ちますが、頻繁に不要な処理を行うとビルド時間が長くなることがあります。そのため、必要に応じて条件付きで処理を実行するようなスクリプトを組むのが良い場合もあります。例えば、ある特定のファイルやディレクトリの変更があった場合にのみ処理を実行するなど、効率的にPre-actionを使うことができます。

ビルド時の頻度をコントロールしたい場合、スクリプト内で状態を確認して処理を分岐させることも可能です。

---
