# TabView アイコン 大きく

日付: 2024-08-22

---

## 👤 ユーザー
*2024/8/22 15:48:46*

SwiftUIのtabvieｗでアイコン大きくしてを上にはみ出させる方法

---

## 🤖 アシスタント
*2024/8/22 15:48:56*

SwiftUIの`TabView`でアイコンを大きくし、タブバーの上にはみ出させるには、以下のようなカスタムビューを使って実現できます。この例では、`ZStack`を使って、タブアイコンをタブバーの上に配置しています。

```swift
import SwiftUI

struct ContentView: View {
    var body: some View {
        TabView {
            Text("Home View")
                .tabItem {
                    ZStack {
                        // This Image will be the icon that "pops out" above the TabView
                        Image(systemName: "house.fill")
                            .resizable()
                            .aspectRatio(contentMode: .fit)
                            .frame(width: 50, height: 50)
                            .offset(y: -15) // Adjust this value to control how much it pops out
                        
                        // Hidden image to keep the tab space
                        Image(systemName: "house.fill")
                            .opacity(0)
                    }
                    Text("Home")
                }
            
            Text("Settings View")
                .tabItem {
                    Image(systemName: "gear")
                    Text("Settings")
                }
        }
    }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        ContentView()
    }
}
```

### 解説:
- `ZStack`の中で、2つの`Image`を配置しています。1つ目のアイコンはタブバーの上にはみ出させるアイコンで、`offset`を使用して位置を調整します。2つ目の`Image`は透明にして、タブスペースを確保するためのものです。
- `resizable()`と`aspectRatio(contentMode: .fit)`でアイコンのサイズとアスペクト比を調整し、`frame`で大きさを指定します。

この方法で、タブアイコンを通常のタブバーのサイズを超えて表示することができます。

---

## 👤 ユーザー
*2024/8/22 15:51:33*

全然はみ出しているように見えない

---

## 🤖 アシスタント
*2024/8/22 15:52:07*

`TabView` の構造上、タブバーのアイコンをタブバーの外にはみ出させるのは標準の `TabView` では難しいです。そのため、カスタムな実装でタブバーを模倣する必要があります。以下に、タブバーを手動で作成し、アイコンがはみ出すようにカスタマイズする方法を示します。

```swift
import SwiftUI

struct ContentView: View {
    @State private var selectedIndex = 0
    
    var body: some View {
        VStack {
            Spacer()
            ZStack {
                switch selectedIndex {
                case 0:
                    Text("Home View")
                        .frame(maxWidth: .infinity, maxHeight: .infinity)
                        .background(Color.white)
                case 1:
                    Text("Settings View")
                        .frame(maxWidth: .infinity, maxHeight: .infinity)
                        .background(Color.white)
                default:
                    Text("Profile View")
                        .frame(maxWidth: .infinity, maxHeight: .infinity)
                        .background(Color.white)
                }
            }
            
            CustomTabBar(selectedIndex: $selectedIndex)
        }
        .edgesIgnoringSafeArea(.bottom)
    }
}

struct CustomTabBar: View {
    @Binding var selectedIndex: Int
    
    var body: some View {
        HStack {
            Spacer()
            
            Button(action: {
                selectedIndex = 0
            }) {
                VStack {
                    Image(systemName: "house.fill")
                        .resizable()
                        .frame(width: 50, height: 50)
                        .offset(y: selectedIndex == 0 ? -20 : 0)
                        .foregroundColor(selectedIndex == 0 ? .blue : .gray)
                    
                    Text("Home")
                        .foregroundColor(selectedIndex == 0 ? .blue : .gray)
                }
            }
            .frame(maxWidth: .infinity)
            
            Spacer()
            
            Button(action: {
                selectedIndex = 1
            }) {
                VStack {
                    Image(systemName: "gear")
                        .resizable()
                        .frame(width: 50, height: 50)
                        .offset(y: selectedIndex == 1 ? -20 : 0)
                        .foregroundColor(selectedIndex == 1 ? .blue : .gray)
                    
                    Text("Settings")
                        .foregroundColor(selectedIndex == 1 ? .blue : .gray)
                }
            }
            .frame(maxWidth: .infinity)
            
            Spacer()
        }
        .padding(.vertical, 10)
        .background(Color.white)
        .clipShape(Capsule())
        .shadow(radius: 5)
    }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        ContentView()
    }
}
```

### 解説:
- **CustomTabBar**: `TabView` の代わりに、カスタムのタブバーを作成しています。各タブは `Button` で表現され、選択されたタブのアイコンを `offset` を使って上にはみ出させています。
- **`Spacer()`** を使って、タブのボタン間のスペースを均等にしています。
- **`VStack`** でアイコンとテキストを縦に並べています。アイコンの `offset` を `-20` にすることで、タブバーの上にアイコンがはみ出すようにしています。
- **`edgesIgnoringSafeArea(.bottom)`** を使って、タブバーがデバイスの下部のセーフエリアを無視して表示されるようにしています。

これにより、タブのアイコンがタブバーの上にしっかりとはみ出すように見せることができます。

---

## 👤 ユーザー
*2024/8/22 15:53:03*

家の屋根のパーツが上の方が表現されていない

---

## 🤖 アシスタント
*2024/8/22 15:53:37*

アイコンの上部がタブバーからはみ出して見えるようにするためには、`ZStack` を使って、アイコンの一部がタブバーの上に表示されるようにレイアウトを調整する必要があります。以下に、修正したコードを示します。

```swift
import SwiftUI

struct ContentView: View {
    @State private var selectedIndex = 0
    
    var body: some View {
        VStack {
            Spacer()
            ZStack {
                switch selectedIndex {
                case 0:
                    Text("Home View")
                        .frame(maxWidth: .infinity, maxHeight: .infinity)
                        .background(Color.white)
                case 1:
                    Text("Settings View")
                        .frame(maxWidth: .infinity, maxHeight: .infinity)
                        .background(Color.white)
                default:
                    Text("Profile View")
                        .frame(maxWidth: .infinity, maxHeight: .infinity)
                        .background(Color.white)
                }
            }
            
            ZStack {
                CustomTabBar(selectedIndex: $selectedIndex)
                
                HStack {
                    Spacer()
                    if selectedIndex == 0 {
                        Image(systemName: "house.fill")
                            .resizable()
                            .frame(width: 50, height: 50)
                            .offset(y: -25) // アイコンを上にオフセットして表示
                    } else if selectedIndex == 1 {
                        Image(systemName: "gear")
                            .resizable()
                            .frame(width: 50, height: 50)
                            .offset(y: -25) // アイコンを上にオフセットして表示
                    }
                    Spacer()
                }
            }
        }
        .edgesIgnoringSafeArea(.bottom)
    }
}

struct CustomTabBar: View {
    @Binding var selectedIndex: Int
    
    var body: some View {
        HStack {
            Button(action: {
                selectedIndex = 0
            }) {
                VStack {
                    Text("Home")
                        .foregroundColor(selectedIndex == 0 ? .blue : .gray)
                }
            }
            .frame(maxWidth: .infinity)
            
            Button(action: {
                selectedIndex = 1
            }) {
                VStack {
                    Text("Settings")
                        .foregroundColor(selectedIndex == 1 ? .blue : .gray)
                }
            }
            .frame(maxWidth: .infinity)
        }
        .padding(.vertical, 10)
        .background(Color.white)
        .clipShape(Capsule())
        .shadow(radius: 5)
    }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        ContentView()
    }
}
```

### 改善ポイント:
- **`ZStack` の使用**: `CustomTabBar` の上にアイコンを `ZStack` で重ねて表示し、アイコンの上部がタブバーの上に表示されるようにしました。
- **`offset(y: -25)`**: アイコンを `y` 軸で負の値にオフセットすることで、タブバーの上に浮かび上がらせています。この値を調整することで、アイコンがどれだけはみ出すかを制御できます。

これにより、アイコンがタブバーの上にしっかりとはみ出し、屋根のパーツが欠けることなく表示されるはずです。

---
