# SwiftUI 背景色設定

Date: 2023-05-25

---

## 👤 User
*2023-05-26 03:00:42*

SwiftUIで全画面共通の背景色を設定したい

---

## 🤖 Assistant
*2023-05-26 03:01:10*

SwiftUIで全画面共通の背景色を設定するには、以下の手順に従ってください。

1. 最初に、アプリの最外部のビューが背景色を持つようにします。以下にサンプルコードを示します。

```swift
import SwiftUI

struct ContentView: View {
    var body: some View {
        ZStack {
            Color.red.ignoresSafeArea() // 背景色を赤に設定します。ご希望に応じて変更してください。

            // 他のすべてのビューはここに追加します。
            Text("Hello, World!")
        }
    }
}
```

2. `.ignoresSafeArea()` を使用することで、ビューがセーフエリアを無視し、画面全体を覆うことができます。

3. そして、`ZStack` 内に他のビューを配置することで、その上にコンテンツを重ねることができます。この場合、`Text("Hello, World!")`がその役割を果たしています。

この方法で、SwiftUIアプリの全画面共通の背景色を設定することができます。色を変更するには、`Color.red` の部分を任意の色に変更します。例えば、青色にするには `Color.blue` とします。

---

## 👤 User
*2023-05-26 03:06:57*

Listがあると背景ができおうされないの？

---

## 🤖 Assistant
*2023-05-26 03:07:35*

ListはUITableViewのSwiftUIバージョンで、デフォルトでは自身の背景が白色に設定されています。したがって、単純に背景色を設定しただけではListがその上に描画されてしまいます。

Listの背景色を変更するためには、以下のような方法があります。

```swift
import SwiftUI

struct ContentView: View {
    var body: some View {
        ZStack {
            Color.red.ignoresSafeArea() // 背景色を赤に設定します。

            List {
                ForEach(0..<5) { item in
                    Text("Item \(item)")
                }
                .listRowBackground(Color.clear)
            }
            .background(Color.clear)
        }
    }
}
```

上記のコードでは、まずZStackを使用して全体の背景色を設定し、その上にListを配置しています。List自体の背景色とList内の各行（listRow）の背景色を透明に設定しています。

この方法で、Listが存在する場合でも全画面共通の背景色を設定することができます。

ただし、この方法は一部のビュー（例えば、NavigationViewやTabView）では期待通りに動作しないことがあります。それらのビューを使用する場合は、ビューの背景色を個別に設定するか、またはビューのレイアウトやスタイルを変更するなどの追加的な対策が必要になる場合があります。

---
