# ÁîªÂÉèÂàá„ÇäÊõø„ÅàÂÆüË£ÖÊñπÊ≥ï

Êó•‰ªò: 2025-01-10

---

## üë§ „É¶„Éº„Ç∂„Éº
*2025/1/10 17:48:29*

{
  "content\_type": "image\_asset\_pointer",
  "asset\_pointer": "file-service://file-Rxdmj2947XdTkzJarHZSbJ",
  "size\_bytes": 46440,
  "width": 349,
  "height": 457,
  "fovea": null,
  "metadata": {
    "dalle": null,
    "gizmo": null,
    "generation": null,
    "container\_pixel\_height": null,
    "container\_pixel\_width": null,
    "emu\_omit\_glimpse\_image": null,
    "emu\_patches\_override": null,
    "sanitized": true,
    "asset\_pointer\_link": null,
    "watermarked\_asset\_pointer": null
  }
}
{
  "content\_type": "image\_asset\_pointer",
  "asset\_pointer": "file-service://file-Fvw9FgiGr8es3kiQKzjcv1",
  "size\_bytes": 87328,
  "width": 424,
  "height": 550,
  "fovea": null,
  "metadata": {
    "dalle": null,
    "gizmo": null,
    "generation": null,
    "container\_pixel\_height": null,
    "container\_pixel\_width": null,
    "emu\_omit\_glimpse\_image": null,
    "emu\_patches\_override": null,
    "sanitized": true,
    "asset\_pointer\_link": null,
    "watermarked\_asset\_pointer": null
  }
}
‰ªä„ÅÆÂÆüË£Ö„ÅØ1ÊûöÁõÆ„Åß„ÅÇ„Çã„ÄÇ
2ÊûöÁõÆ„ÅÆÁîªÂÉè„ÅÆ„Çà„ÅÜ„Å´„Åó„Å¶„ÄÅÁèæÂú®„ÅØadminPhotoUrl„ÅÆÁîªÂÉè„Åó„ÅãË°®Á§∫„Åó„Å¶„ÅÑ„Å™„ÅÑ„ÅÆ„ÇíspotPhotos„ÅÆÈÖçÂàó„ÅÆÊï∞„Å†„ÅëÁîªÂÉè„ÇíÂàá„ÇäÊõø„Åà„Çâ„Çå„Çã„Çà„ÅÜ„Å´„Åó„Åü„ÅÑ„ÄÇ
„Å©„ÅÜ„Åó„Åü„Çâ„Çà„ÅÑ„ÅãÔºü

import 'package:flutter/material.dart';
import 'package:flutter\_hooks/flutter\_hooks.dart';
import 'package:go\_router/go\_router.dart';
import 'package:hooks\_riverpod/hooks\_riverpod.dart';
import 'package:intl/intl.dart';
import 'package:snpit\_guild\_app/domain/screen.dart';
import 'package:snpit\_guild\_app/infrastructure/snapit\_guild\_api/snapit\_guild\_api.openapi.dart';
import 'package:snpit\_guild\_app/presentation/design\_token/color\_pallet.dart';
import 'package:snpit\_guild\_app/presentation/design\_token/color\_token.dart';
import 'package:snpit\_guild\_app/presentation/entities/extensions/spot\_detail\_dto\_rarity\_x.dart';
import 'package:snpit\_guild\_app/presentation/providers/api\_client/guilds/get\_guild\_info.dart';
import 'package:snpit\_guild\_app/presentation/providers/api\_client/spots/get\_spot\_detail\_info.dart';
import 'package:snpit\_guild\_app/presentation/providers/show\_spot\_list.dart';

class OurSpotDetailPage extends HookConsumerWidget {
  const OurSpotDetailPage({super.key, required this.spotId});
  final String spotId;

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final myGuildName =
        ref.watch(getMyGuildNotifierProvider).value?.guildName ?? 'Unknown';
    final showSpotList = ref.watch(showSpotListNotifierProvider);
    final spotDetailState = ref.watch(getSpotDetailNotifierProvider);

    useEffect(
      () {
        Future.microtask(() {
          ref
              .read(getSpotDetailNotifierProvider.notifier)
              .getSpotDetail(spotId);
        });
        return null;
      },
      \[\],
    );

    return Scaffold(
      appBar: AppBar(
        // SpotList ÁîªÈù¢„Åã„Çâ„ÅÆÈÅ∑ÁßªÊôÇ„ÅÆ„ÅøÊàª„Çã„Éú„Çø„É≥„ÇíË°®Á§∫
        leading: showSpotList
            ? IconButton(
                icon: const Icon(Icons.arrow\_back),
                onPressed: () {
                  Navigator.pop(context);
                },
              )
            : null,
        title: const Text('Our spot'),
        actions: \[
          IconButton(
            icon: const Icon(Icons.close),
            onPressed: () {
              // „Éú„Éà„É†„Ç∑„Éº„ÉàÂÖ®‰Ωì„ÇíÈñâ„Åò„Çã
              Navigator.of(context, rootNavigator: true).pop();
            },
          ),
        \],
      ),
      body: spotDetailState.when(
        loading: () {
          return const Center(child: CircularProgressIndicator());
        },
        error: (err, stack) {
          return Center(
            child: Text('Error: $err'),
          );
        },
        data: (spotDetail) {
          if (spotDetail == null) {
            return const Center(child: Text('No data'));
          }

          final adminPhotoUrl = () {
            final photos = spotDetail.spotPhotos ?? \[\];
            final adminPhotos = photos.where(
              (photo) =&gt; photo.photoType == SpotPhotoDTOPhotoType.ADMIN\_PHOTOS,
            );
            return adminPhotos.isNotEmpty ? adminPhotos.first.photoUrl : null;
          }();

          final autoIncomeLabel = spotDetail.autoIncome != null
              ? '${NumberFormat('#,###').format(spotDetail.autoIncome)} STP'
              : '0 STP';
          final rarityLabel = spotDetail.rarity?.label ?? '';
          final rarityColor = spotDetail.rarity?.color ?? ColorToken.border;

          final items = \[
            Padding(
              padding: const EdgeInsets.symmetric(horizontal: 16),
              child: Row(
                mainAxisAlignment: MainAxisAlignment.spaceBetween,
                children: \[
                  const Text(
                    'Production output',
                    style: TextStyle(fontSize: 14),
                  ),
                  Column(
                    mainAxisAlignment: MainAxisAlignment.center,
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: \[
                      Text(
                        autoIncomeLabel,
                        style: const TextStyle(fontSize: 14),
                      ),
                      const SizedBox(height: 4),
                      const Text(
                        'every 24 hours',
                        style: TextStyle(
                          fontSize: 12,
                          color: ColorToken.border,
                        ),
                      ),
                    \],
                  ),
                  CircleAvatar(
                    backgroundColor: ColorPallet.gray1000,
                    child: Text(
                      rarityLabel,
                      style: TextStyle(
                        fontSize: 18,
                        color: rarityColor,
                      ),
                    ),
                  ),
                \],
              ),
            ),
            ListTile(
              contentPadding: const EdgeInsets.symmetric(horizontal: 16),
              title: const Text(
                'Holder',
                style: TextStyle(fontSize: 14),
              ),
              trailing: Row(
                mainAxisSize: MainAxisSize.min,
                children: \[
                  Text(
                    myGuildName,
                    style: const TextStyle(
                      fontSize: 14,
                    ),
                  ),
                \],
              ),
            ),
          \];

          return SingleChildScrollView(
            padding: const EdgeInsets.all(16),
            child: Column(
              children: \[
                DecoratedBox(
                  decoration: BoxDecoration(
                    border: Border.all(
                      color: ColorPallet.green500,
                      width: 3,
                    ),
                    borderRadius: BorderRadius.circular(8),
                  ),
                  child: Padding(
                    padding: const EdgeInsets.all(3),
                    child: ClipRRect(
                      borderRadius: BorderRadius.circular(8),
                      child: adminPhotoUrl != null
                          ? Image.network(
                              adminPhotoUrl,
                              height: 160,
                              width: 160,
                              fit: BoxFit.cover,
                              errorBuilder: (context, error, stackTrace) {
                                return const ColoredBox(
                                  color: ColorToken.bgDark,
                                  child: Icon(
                                    Icons.broken\_image\_outlined,
                                    size: 192,
                                    color: ColorToken.text,
                                  ),
                                );
                              },
                            )
                          : const ColoredBox(
                              color: ColorToken.bgDark,
                              child: Icon(
                                Icons.hide\_image\_outlined,
                                size: 192,
                                color: ColorToken.text,
                              ),
                            ),
                    ),
                  ),
                ),
                const SizedBox(height: 32),
                DecoratedBox(
                  decoration: BoxDecoration(
                    color: ColorToken.bg,
                    borderRadius: BorderRadius.circular(8),
                    border: Border.all(
                      color: ColorToken.border,
                      width: 0.5,
                    ),
                  ),
                  child: SizedBox(
                    height: 88,
                    child: Material(
                      color: Colors.transparent,
                      child: InkWell(
                        onTap: () {
                          context.push(Screen.flagList.path);
                        },
                        child: const Padding(
                          padding: EdgeInsets.symmetric(horizontal: 16),
                          child: Row(
                            children: \[
                              CircleAvatar(
                                backgroundColor: ColorPallet.green500,
                                child: Icon(
                                  Icons.flag,
                                  color: ColorPallet.green100,
                                ),
                              ),
                              SizedBox(width: 16),
                              Column(
                                mainAxisAlignment: MainAxisAlignment.center,
                                crossAxisAlignment: CrossAxisAlignment.start,
                                children: \[
                                  Text(
                                    'No flag',
                                    style: TextStyle(
                                      fontSize: 14,
                                      fontWeight: FontWeight.bold,
                                    ),
                                  ),
                                  SizedBox(height: 4),
                                  Text(
                                    'Flag and defend your spot against'
                                    '\\nenemy attacks!',
                                    style: TextStyle(
                                      fontSize: 12,
                                    ),
                                  ),
                                \],
                              ),
                              Spacer(),
                              Icon(
                                Icons.arrow\_forward,
                                size: 24,
                                color: ColorToken.text,
                              ),
                            \],
                          ),
                        ),
                      ),
                    ),
                  ),
                ),
                const SizedBox(height: 16),
                DecoratedBox(
                  decoration: BoxDecoration(
                    color: ColorToken.bg,
                    borderRadius: BorderRadius.circular(8),
                    border: Border.all(
                      color: ColorToken.border,
                      width: 0.5,
                    ),
                  ),
                  // ListView.separated() „ÅßÂÆüË£Ö„Åô„Çã„Å®ÊúÄÂæå„ÅÆË¶ÅÁ¥†„Å´Ë¨é„ÅÆ‰ΩôÁôΩ„ÅåÁîü„Åò„Åü„Åü„ÇÅ Column „ÅßÂÆüË£Ö
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: List.generate(
                      items.length,
                      (index) =&gt; Column(
                        children: \[
                          SizedBox(
                            height: 64,
                            child: Center(child: items\[index\]),
                          ),
                          if (index &lt; items.length - 1)
                            Container(
                              height: 0.5,
                              color: ColorToken.border,
                            ),
                        \],
                      ),
                    ),
                  ),
                ),
                const SizedBox(height: 32),
              \],
            ),
          );
        },
      ),
    );
  }
}

---

## ü§ñ „Ç¢„Ç∑„Çπ„Çø„É≥„Éà
*2025/1/10 17:49:28*

ÁèæÂú®„ÅÆ„Ç≥„Éº„Éâ„Åß„ÅØ„ÄÅ**„ÄåAdminPhotoUrl„Çí1Êûö„Å†„ÅëË°®Á§∫„Äç**„Åó„Å¶„ÅÑ„Çã„Åü„ÇÅ„ÄÅË§áÊï∞„ÅÆÁîªÂÉè„ÇíÂàá„ÇäÊõø„Åà„Å¶Ë°®Á§∫„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åô„Çã„Å´„ÅØ„ÄÅ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å™ÂÆüË£Ö„ÇíË°å„ÅÜ„ÅÆ„Åå‰∏ÄËà¨ÁöÑ„Åß„Åô„ÄÇ

1. „Åæ„Åö„ÄÅË°®Á§∫„Åó„Åü„ÅÑÁîªÂÉè„ÅÆ„É™„Çπ„Éà„Çí‰Ωú„ÇãÔºà‰æã: „Åô„Åπ„Å¶„ÅÆ spotPhotos „ÇÇ„Åó„Åè„ÅØÁÆ°ÁêÜËÄÖÁî®ÁîªÂÉè„Å†„Åë„ÄÅ„Å™„Å©Ôºâ„ÄÇ
2. ‰Ωú„Å£„Åü„É™„Çπ„Éà„Çí **PageView** „ÇÑ **Carousel („Çµ„Éº„Éâ„Éë„Éº„ÉÜ„Ç£„Éë„ÉÉ„Ç±„Éº„Ç∏)** Á≠â„ÅßË°®Á§∫„Åô„Çã„ÄÇ

---

## ÂÆüË£Ö‰æã1: PageView.builder „Çí‰ΩøÁî®„Åô„ÇãÂ†¥Âêà

```dart
// ‚ë† spotPhotosÈÖçÂàó„Åã„ÇâË°®Á§∫„Åó„Åü„ÅÑÁîªÂÉèURL„É™„Çπ„Éà„ÇíÊäú„ÅçÂá∫„Åô
final photos = (spotDetail.spotPhotos ?? [])
    // „ÇÇ„Åó "ADMIN_PHOTOS" „ÅÆ„Åø„ÇíË°®Á§∫„Åó„Åü„ÅÑ„Å™„Çâ„Éï„Ç£„É´„Çø„ÇíÂÖ•„Çå„Çã
    .where((photo) => photo.photoType == SpotPhotoDTOPhotoType.ADMIN_PHOTOS)
    .map((photo) => photo.photoUrl)
    .where((url) => url != null && url.isNotEmpty)
    .toList();

// ‚ë° PageView„ÅßË§áÊï∞ÁîªÂÉè„Çí„Çπ„ÉØ„Ç§„ÉóÂàá„ÇäÊõø„ÅàË°®Á§∫„Åô„Çã
child: photos.isNotEmpty
    ? SizedBox(
        height: 200, // „ÅäÂ•Ω„Åø„ÅÆÈ´ò„Åï„Å´Ë™øÊï¥
        child: PageView.builder(
          itemCount: photos.length,
          itemBuilder: (context, index) {
            final url = photos[index];
            return Image.network(
              url,
              fit: BoxFit.cover,
              errorBuilder: (context, error, stackTrace) {
                return const ColoredBox(
                  color: ColorToken.bgDark,
                  child: Icon(
                    Icons.broken_image_outlined,
                    size: 192,
                    color: ColorToken.text,
                  ),
                );
              },
            );
          },
        ),
      )
    : const ColoredBox(
        color: ColorToken.bgDark,
        child: Icon(
          Icons.hide_image_outlined,
          size: 192,
          color: ColorToken.text,
        ),
      ),
```

### Ë£úË∂≥: PageView „ÅÆ„Ç§„É≥„Ç∏„Ç±„Éº„Çø„Çí‰ªò„Åë„Åü„ÅÑÂ†¥Âêà
`PageView` „ÅÆÁèæÂú®„Éö„Éº„Ç∏„Çí `useState` „ÇÑ `PageController` „ÅßÁÆ°ÁêÜ„Åó„Å¶„ÄÅ`DotsIndicator` „ÇÑËá™Ââç„ÅÆ„Éâ„ÉÉ„ÉàUI„ÇíË°®Á§∫„Åô„ÇãÊñπÊ≥ï„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ

```dart
final pageController = usePageController(); 
final currentPage = useState(0);

SizedBox(
  height: 200,
  child: PageView.builder(
    controller: pageController,
    itemCount: photos.length,
    onPageChanged: (index) {
      currentPage.value = index;
    },
    itemBuilder: (context, index) => ...
  ),
);

// „Éâ„ÉÉ„ÉàÁ≠â„ÇíË°®Á§∫
Row(
  mainAxisAlignment: MainAxisAlignment.center,
  children: List.generate(photos.length, (index) {
    final isActive = currentPage.value == index;
    return Container(
      margin: const EdgeInsets.all(4),
      width: isActive ? 8 : 6,
      height: isActive ? 8 : 6,
      decoration: BoxDecoration(
        shape: BoxShape.circle,
        color: isActive ? Colors.white : Colors.grey,
      ),
    );
  }),
)
```

---

## ÂÆüË£Ö‰æã2: carousel_slider „Éë„ÉÉ„Ç±„Éº„Ç∏„Çí‰ΩøÁî®„Åô„ÇãÂ†¥Âêà

Flutter „Åß„Åä„Å™„Åò„Åø„ÅÆ [carousel_slider](https://pub.dev/packages/carousel_slider) „Éë„ÉÉ„Ç±„Éº„Ç∏„Çí‰Ωø„Å£„Å¶„ÇÇ„Åã„Çì„Åü„Çì„Å´ÂÆüË£Ö„Åß„Åç„Åæ„Åô„ÄÇ

`pubspec.yaml` „Åß

```yaml
dependencies:
  carousel_slider: ^4.2.0
```

„ÅÆ„Çà„ÅÜ„Å´ËøΩÂä†„Åó„Å¶„Ç§„É≥„Çπ„Éà„Éº„É´„Åó„ÄÅ‰∏ãË®ò„ÅÆ„Çà„ÅÜ„Å´Êõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ

```dart
import 'package:carousel_slider/carousel_slider.dart';

final photos = (spotDetail.spotPhotos ?? [])
    .map((photo) => photo.photoUrl)
    .where((url) => url != null && url.isNotEmpty)
    .toList();

child: photos.isNotEmpty
    ? CarouselSlider(
        options: CarouselOptions(
          height: 200,       // È´ò„ÅïÊåáÂÆö
          autoPlay: false,   // Ëá™ÂãïÂÜçÁîü„Åï„Åõ„Åü„ÅÑ„Å™„Çâtrue„Å´
          enlargeCenterPage: true, 
        ),
        items: photos.map((url) {
          return Builder(
            builder: (BuildContext context) {
              return Image.network(
                url,
                fit: BoxFit.cover,
                errorBuilder: (context, error, stackTrace) {
                  return const ColoredBox(
                    color: ColorToken.bgDark,
                    child: Icon(
                      Icons.broken_image_outlined,
                      size: 192,
                      color: ColorToken.text,
                    ),
                  );
                },
              );
            },
          );
        }).toList(),
      )
    : const ColoredBox(
        color: ColorToken.bgDark,
        child: Icon(
          Icons.hide_image_outlined,
          size: 192,
          color: ColorToken.text,
        ),
      ),
```

---

### „Åæ„Å®„ÇÅ

- **Ë§áÊï∞Êûö„ÅÆÁîªÂÉè„ÇíË°®Á§∫**„Åó„Åü„ÅÑÂ†¥Âêà„ÅØ„ÄÅÂçò‰∏Ä„ÅÆ `Image.network` „Åß„ÅØ„Å™„Åè„ÄÅ  
  `ListView`, `PageView`, `carousel_slider` „Å™„Å©„ÅÆ **„É™„Çπ„ÉàË°®Á§∫**„ÇÑ **„Ç´„É´„Éº„Çª„É´Ë°®Á§∫**„Çí‰Ωø„ÅÜ„ÄÇ
- `spotPhotos` „ÅÆÈÖçÂàó„Åã„ÇâÂøÖË¶Å„Å™ÁîªÂÉèURL„Å†„Åë„ÇíÊäú„ÅçÂá∫„Åó„ÄÅ„Åù„Çå„Çí UI ÂÅ¥„Åß„É´„Éº„ÉóÁîüÊàê„Åô„Çã„Å†„Åë„ÅßOK„ÄÇ

„Åì„ÅÆ„Çà„ÅÜ„Å´„ÄÅ**ÂÖÉ„ÅÆ `adminPhotoUrl` „ÇíÂçò‰∏ÄË°®Á§∫„Åô„ÇãÊñπÊ≥ï**„Åã„Çâ„ÄÅ**Ë§áÊï∞„ÅÆÁîªÂÉèURL„Çí„É™„Çπ„Éà„ÇÑ„Ç´„É´„Éº„Çª„É´„ÅßÂàá„ÇäÊõø„ÅàÂèØËÉΩ„Å´„Åô„Çã**„Åì„Å®„Åß„ÄÅ2ÊûöÁõÆ„ÅÆÁîªÂÉè„ÅÆ„Çà„ÅÜ„Å™UI„ÇíÂÜçÁèæ„Åß„Åç„Åæ„Åô„ÄÇ

---

## üë§ „É¶„Éº„Ç∂„Éº
*2025/1/10 17:51:10*

„Éâ„ÉÉ„Éà„ÇíË°®Á§∫„Åó„Åü„ÅÑ„ÅÆ„Å†„Åë„Çå„Å©„ÇÇPageView„Å®carousel\_slider„ÅÆ„Å©„Å°„Çâ„ÅåËâØ„ÅÑ„ÅãÔºü

---

## ü§ñ „Ç¢„Ç∑„Çπ„Çø„É≥„Éà
*2025/1/10 17:51:36*

„Å©„Å°„Çâ„ÇÇ‰∏ÄÈï∑‰∏ÄÁü≠„Åå„ÅÇ„Çã„ÅÆ„Åß„ÄÅ„ÉÅ„Éº„É†„ÅÆÊñπÈáù„ÇÑËá™Áî±Â∫¶„ÉªÂÆüË£Ö„ÅÆÁ∞°Êòì„Åï„Å™„Å©„ÇíË∏è„Åæ„Åà„Å¶ÈÅ∏„Å∂„Å®„Çà„ÅÑ„Åß„Åó„Çá„ÅÜ„ÄÇ‰∏ª„Å™ÊØîËºÉ„Éù„Ç§„É≥„Éà„Å®„Åó„Å¶„ÅØ„ÄÅ‰ª•‰∏ã„ÅåÊåô„Åí„Çâ„Çå„Åæ„Åô„ÄÇ

---

## 1. \*\*PageView + Áã¨Ëá™Ôºà„Åæ„Åü„ÅØÂà•„Éë„ÉÉ„Ç±„Éº„Ç∏Ôºâ„ÅÆ„Éâ„ÉÉ„ÉàË°®Á§∫\*\*

### „É°„É™„ÉÉ„Éà
- \*\*‰ΩôË®à„Å™„Éë„ÉÉ„Ç±„Éº„Ç∏ËøΩÂä†„Åå‰∏çË¶Å\*\*  
  FlutterÊ®ôÊ∫ñ„ÅÆ`PageView`„Å†„Åë„Åß„Çπ„É©„Ç§„ÉÄ„Éº„ÇíÂÆüË£Ö„Åß„Åç„Çã„ÅÆ„Åß„ÄÅÂ§ñÈÉ®‰æùÂ≠ò„ÅåÂ¢ó„Åà„Å™„ÅÑ„ÄÇ
- \*\*ÊüîËªü„Å™„Ç´„Çπ„Çø„Éû„Ç§„Ç∫\*\*  
  `PageController`„ÄÅ`onPageChanged`„Å™„Å©„ÅÆ‰ªïÁµÑ„Åø„Çí‰Ωø„Å£„Å¶„ÄÅËá™Áî±Ëá™Âú®„Å´„Éâ„ÉÉ„Éà„ÇÑ‰ªñ„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÇíÊßãÁØâ„Åß„Åç„Çã„ÄÇ

### „Éá„É°„É™„ÉÉ„Éà
- \*\*Â§öÂ∞ë„Ç≥„Éº„ÉâÈáè„ÅåÂ¢ó„Åà„Çã\*\*  
  „Éâ„ÉÉ„ÉàË°®Á§∫„É≠„Ç∏„ÉÉ„ÇØÔºàÁèæÂú®„ÅÆ„Éö„Éº„Ç∏„ÇíÁõ£Ë¶ñ„ÄÅ„Éâ„ÉÉ„ÉàÊï∞„Å†„ÅëWidgetÁîüÊàê„ÄÅ„Ç¢„ÇØ„ÉÜ„Ç£„ÉñÁä∂ÊÖã„ÅÆÂàáÊõø„Å™„Å©Ôºâ„ÇíËá™ÂàÜ„ÅßÊõ∏„ÅèÂøÖË¶Å„Åå„ÅÇ„Çã„ÄÇ
- \*\*„Éë„É©„É°„Éº„ÇøÔºà„Ç™„Éó„Ç∑„Éß„É≥ÔºâÁÆ°ÁêÜ„ÇÇËá™Âäõ\*\*  
  `autoPlay`„Å™„Å©„ÅÆÊ©üËÉΩ„ÇíÂÆüË£Ö„Åó„Åü„ÅÑÂ†¥Âêà„ÅØ„ÄÅ`Timer`„Å™„Å©„ÅßËá™ÂàÜ„Åß‰ªïÁµÑ„Åø„ÇíÁµÑ„Åæ„Å™„ÅÑ„Å®„ÅÑ„Åë„Å™„ÅÑ„ÄÇ

---

## 2. \*\*carousel\_slider „Éë„ÉÉ„Ç±„Éº„Ç∏\*\*

### „É°„É™„ÉÉ„Éà
- \*\*„Ç´„É≥„Çø„É≥„Å´ÂÆüË£Ö„Åß„Åç„Çã\*\*  
  `CarouselOptions` „ÇíÊåáÂÆö„Åô„Çã„Å†„Åë„Åß„ÄÅËá™ÂãïÂÜçÁîü(`autoPlay`)„Éª„É´„Éº„Éó„Éª„Çø„ÉÉ„Éó„Ç§„Éô„É≥„Éà„Å™„Å©Â§öÊ©üËÉΩ„ÇíÁ∞°Âçò„Å´‰Ωø„Åà„Çã„ÄÇ
- \*\*„Éì„É´„Éà„Ç§„É≥„Åæ„Åü„ÅØ„Çµ„É≥„Éó„É´„Åß„Éâ„ÉÉ„Éà„Çí‰ªò„Åë„ÇÑ„Åô„ÅÑ\*\*  
  `carousel\_slider` „Å´„ÅØ„ÄÅÁ∞°Âçò„Å™„Éâ„ÉÉ„Éà„ÅÆ„Ç§„É≥„Ç∏„Ç±„Éº„Çø„ÇÑ„Éö„Éº„Ç∏Êï∞„ÅÆË°®Á§∫„Çµ„É≥„Éó„É´„ÅåÂÖÖÂÆü„Åó„Å¶„ÅÑ„Çã„ÄÇ
- \*\*„É°„É≥„ÉÜ„Éä„É≥„Çπ„Åï„Çå„Å¶„ÅÑ„Çã‰∫∫Ê∞ó„Éë„ÉÉ„Ç±„Éº„Ç∏\*\*  
  Flutter„ÅÆÂÆöÁï™„Éë„ÉÉ„Ç±„Éº„Ç∏„ÅÆ„Å≤„Å®„Å§„Å™„ÅÆ„Åß„ÄÅÊÉÖÂ†±„ÅåÂ§ö„Åè‰Ωø„ÅÑ„ÇÑ„Åô„ÅÑ„ÄÇ

### „Éá„É°„É™„ÉÉ„Éà
- \*\*Â§ñÈÉ®„Éë„ÉÉ„Ç±„Éº„Ç∏„Å∏„ÅÆ‰æùÂ≠ò\*\*  
  „Éê„Éº„Ç∏„Éß„É≥„Ç¢„ÉÉ„ÉóÁ≠â„Åß‰∫íÊèõÊÄß„ÅÆÂïèÈ°å„ÅåËµ∑„Åç„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çã„ÄÇ
- \*\*Ê•µÁ´Ø„Å™„Ç´„Çπ„Çø„Éû„Ç§„Ç∫„Å´„ÅØÂêë„Åã„Å™„ÅÑ\*\*  
  „Éá„Éï„Ç©„É´„Éà„ÅÆÊ©üËÉΩ„ÅßË∂≥„Çä„ÇãÂàÜ„Å´„ÅØËâØ„ÅÑ„Åå„ÄÅÁ¥∞„Åã„ÅÑÊåôÂãï„ÅÆ„Ç≥„É≥„Éà„É≠„Éº„É´„ÅåÂøÖË¶Å„Å™Â†¥Âêà„ÅØÂ∞ë„ÅóÂõû„ÇäÈÅì„Å´„Å™„Çã„Åì„Å®„ÇÇ„ÄÇ

---

## „Åæ„Å®„ÇÅ

- \*\*Ëá™ÂàÜ„ÅßÁ¥∞„Åã„ÅèÂà∂Âæ°„Åó„Åü„ÅÑ\*\*„ÄÅ„ÅÇ„Çã„ÅÑ„ÅØ \*\*Â§ñÈÉ®„Éë„ÉÉ„Ç±„Éº„Ç∏„ÅÆ‰æùÂ≠ò„ÇíÂ¢ó„ÇÑ„Åó„Åü„Åè„Å™„ÅÑ\*\* ‚Üí \*\*`PageView`\*\* Ôºã `PageController` + „ÅäÂ•Ω„Åø„ÅÆ„Éâ„ÉÉ„ÉàË°®Á§∫(‰æã: `smooth\_page\_indicator` „Å™„Å©)  
- \*\*„Å®„Å´„Åã„Åè„É©„ÇØ„Å´„Çπ„É©„Ç§„ÉâË°®Á§∫„Å®„Éâ„ÉÉ„Éà„ÇíÂÆüË£Ö„Åó„Åü„ÅÑ\*\* ‚Üí \*\*`carousel\_slider`\*\*  

„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆË¶Å‰ª∂„ÇÑ„ÉÅ„Éº„É†„ÅÆÂóúÂ•Ω„Å´„ÇÇÂ∑¶Âè≥„Åï„Çå„Åæ„Åô„Åå„ÄÅ„Äå„ÇÑ„Çä„Åü„ÅÑ„Åì„Å®„ÅåÈÄöÂ∏∏„ÅÆ„Çπ„É©„Ç§„ÉÄ„ÉºÔºã„Éâ„ÉÉ„ÉàË°®Á§∫„ÅßÂçÅÂàÜ„Äç„Å™„Çâ `carousel\_slider` „ÅÆÊñπ„ÅåÂ∞éÂÖ•„ÅåÊâãËªΩ„Åß„Åô„ÄÇÈÄÜ„Å´„ÄÅ\*\*„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÇÑ„Éâ„ÉÉ„Éà„ÅÆÊåôÂãï„Å™„Å©„ÇíÂæÆË™øÊï¥„Åó„Åü„ÅÑÂ†¥Âêà\*\*„ÅØ„ÄÅÊ®ôÊ∫ñ„ÅÆ `PageView` „Çí‰Ωø„Å£„ÅüÊñπ„ÅåÊüîËªü„Å´ÂØæÂøú„Åó„ÇÑ„Åô„ÅÑ„Åß„Åó„Çá„ÅÜ„ÄÇ

---

## üë§ „É¶„Éº„Ç∂„Éº
*2025/1/10 17:52:04*

{
  "content\_type": "image\_asset\_pointer",
  "asset\_pointer": "file-service://file-GdH7UNqvAC35UNJchsM5iQ",
  "size\_bytes": 64069,
  "width": 233,
  "height": 247,
  "fovea": null,
  "metadata": {
    "dalle": null,
    "gizmo": null,
    "generation": null,
    "container\_pixel\_height": null,
    "container\_pixel\_width": null,
    "emu\_omit\_glimpse\_image": null,
    "emu\_patches\_override": null,
    "sanitized": true,
    "asset\_pointer\_link": null,
    "watermarked\_asset\_pointer": null
  }
}
carousel\_slider „Åß„Éâ„ÉÉ„Éà„ÇíÂê´„ÇÅ„Å¶ÂÆüË£Ö„Åó„Å¶„Åª„Åó„ÅÑ„ÄÇ

---

## ü§ñ „Ç¢„Ç∑„Çπ„Çø„É≥„Éà
*2025/1/10 17:53:11*

‰ª•‰∏ã„ÅØ„ÄÅ**`carousel_slider`** „Éë„ÉÉ„Ç±„Éº„Ç∏„Çí‰Ωø„Å£„Å¶„ÄÅ**„Éâ„ÉÉ„Éà‰ªò„Åç**„ÅÆ„Ç´„É´„Éº„Çª„É´„Çπ„É©„Ç§„ÉÄ„Éº„ÇíÂÆüË£Ö„Åô„Çã„Çµ„É≥„Éó„É´„Ç≥„Éº„Éâ„Åß„Åô„ÄÇ  
„Åì„ÅÆ‰æã„Åß„ÅØ„Äå`spotPhotos` „ÅÆÁîªÂÉè„Çí„Çπ„ÉØ„Ç§„ÉóÂàá„ÇäÊõø„ÅàÔºãÁîªÈù¢‰∏ã„Å´„Éâ„ÉÉ„ÉàË°®Á§∫„Äç„Åô„ÇãÂÆüË£Ö„Å´„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ  
Ôºà„Ç´„Çπ„Çø„Éû„Ç§„Ç∫‰æã„Å®„Åó„Å¶Ëá™ÂãïÂÜçÁîü(`autoPlay`)„ÇíÊúâÂäπ„Å´„Åó„Åü„Çä„ÄÅ„Éâ„ÉÉ„Éà„ÅÆËâ≤„ÇÑÂ§ß„Åç„Åï„ÇÇËá™Áî±„Å´Â§âÊõ¥„Åß„Åç„Åæ„Åô„ÄÇÔºâ

```dart
import 'package:flutter/material.dart';
import 'package:flutter_hooks/flutter_hooks.dart';
import 'package:carousel_slider/carousel_slider.dart';
// „Åù„ÅÆ‰ªñ„ÄÅColorToken, ColorPallet„Å™„Å©„ÅÆimport...

class CarouselWithDotsSample extends HookWidget {
  const CarouselWithDotsSample({Key? key, required this.spotPhotos})
      : super(key: key);

  final List<String> spotPhotos;

  @override
  Widget build(BuildContext context) {
    // ÁèæÂú®„ÅÆ„Éö„Éº„Ç∏„ÇíÁÆ°ÁêÜ„Åô„Çã„Åü„ÇÅ„ÅÆState
    final currentIndex = useState(0);

    // ÁîªÂÉèURL„ÅåÁ©∫„ÅÆÂ†¥Âêà„Å´„Ç®„É©„Éº„Å´„Å™„Çâ„Å™„ÅÑ„Çà„ÅÜ„Å´„Éï„Ç£„É´„Çø
    final photos = spotPhotos
        .where((url) => url.isNotEmpty)
        .toList();

    // ÁîªÂÉè„Åå1Êûö„ÇÇ„Å™„ÅÑÂ†¥Âêà„ÅÆË°®Á§∫
    if (photos.isEmpty) {
      return const SizedBox(
        height: 200,
        child: ColoredBox(
          color: ColorToken.bgDark,
          child: Center(
            child: Icon(
              Icons.hide_image_outlined,
              size: 48,
              color: ColorToken.text,
            ),
          ),
        ),
      );
    }

    return Column(
      mainAxisSize: MainAxisSize.min,
      children: [
        // „Çπ„É©„Ç§„ÉÄ„ÉºÊú¨‰Ωì
        CarouselSlider(
          items: photos.map((url) {
            return Builder(
              builder: (BuildContext context) {
                return Image.network(
                  url,
                  fit: BoxFit.cover,
                  errorBuilder: (context, error, stackTrace) {
                    return const ColoredBox(
                      color: ColorToken.bgDark,
                      child: Icon(
                        Icons.broken_image_outlined,
                        size: 48,
                        color: ColorToken.text,
                      ),
                    );
                  },
                );
              },
            );
          }).toList(),
          options: CarouselOptions(
            height: 200,             // „ÅäÂ•Ω„Åø„ÅÆÈ´ò„Åï„Å´
            autoPlay: false,         // Ëá™ÂãïÂÜçÁîü„Åô„ÇãÂ†¥Âêà„ÅØtrue
            enlargeCenterPage: true, // „Çª„É≥„Çø„É™„É≥„Ç∞ÔºãÊã°Â§ßË°®Á§∫
            enableInfiniteScroll: photos.length > 1,
            onPageChanged: (index, reason) {
              currentIndex.value = index;
            },
          ),
        ),
        const SizedBox(height: 16),
        // „Éâ„ÉÉ„ÉàË°®Á§∫
        Row(
          mainAxisAlignment: MainAxisAlignment.center,
          children: List.generate(photos.length, (index) {
            final isActive = index == currentIndex.value;
            return AnimatedContainer(
              duration: const Duration(milliseconds: 150),
              margin: const EdgeInsets.symmetric(horizontal: 4),
              width: isActive ? 10 : 8,
              height: isActive ? 10 : 8,
              decoration: BoxDecoration(
                color: isActive ? ColorPallet.green500 : ColorToken.border,
                shape: BoxShape.circle,
              ),
            );
          }),
        ),
      ],
    );
  }
}
```

### ‰Ωø„ÅÑÊñπ„ÅÆ„Ç§„É°„Éº„Ç∏
1. `carousel_slider` „Çí **pubspec.yaml** „Å´ËøΩÂä†
   ```yaml
   dependencies:
     carousel_slider: ^4.2.0  # „Éê„Éº„Ç∏„Éß„É≥„ÅØ‰ªªÊÑè
   ```
2. ‰∏äË®ò„ÅÆ `CarouselWithDotsSample` „Ç¶„Ç£„Ç∏„Çß„ÉÉ„Éà„Å´„ÄÅË°®Á§∫„Åó„Åü„ÅÑÁîªÂÉèURL„É™„Çπ„Éà `spotPhotos` „ÇíÊ∏°„Åó„Å¶‰Ωø„ÅÑ„Åæ„Åô„ÄÇ
3. ÂÖÉ„Ç≥„Éº„Éâ„ÅÆ `adminPhotoUrl` Âçò‰ΩìË°®Á§∫ÈÉ®„ÇíÂ∑Æ„ÅóÊõø„Åà„Çã„Ç§„É°„Éº„Ç∏„Åß„ÄÅ`spotPhotos` „ÅÆÈÖçÂàó„ÇíÁî®ÊÑè„Åó„ÄÅ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´Êõ∏„Åë„Å∞OK„Åß„Åô„ÄÇ

```dart
final photos = (spotDetail.spotPhotos ?? [])
  .where((photo) => photo.photoUrl != null && photo.photoUrl!.isNotEmpty)
  .map((photo) => photo.photoUrl!)
  .toList();

DecoratedBox(
  decoration: BoxDecoration(
    border: Border.all(
      color: ColorPallet.green500,
      width: 3,
    ),
    borderRadius: BorderRadius.circular(8),
  ),
  child: Padding(
    padding: const EdgeInsets.all(3),
    child: ClipRRect(
      borderRadius: BorderRadius.circular(8),
      child: CarouselWithDotsSample(spotPhotos: photos),
    ),
  ),
),
```

„Åì„Çå„Åß**Ë§áÊï∞ÁîªÂÉè„ÅÆ„Çπ„ÉØ„Ç§„ÉóÂàá„ÇäÊõø„ÅàÔºã„Éâ„ÉÉ„ÉàË°®Á§∫**„ÅåÁ∞°Âçò„Å´ÂÆüÁèæ„Åß„Åç„Åæ„Åô„ÄÇÂøÖË¶Å„Å´Âøú„Åò„Å¶„Éë„É©„É°„Éº„Çø„ÇíË™øÊï¥„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

---

## üë§ „É¶„Éº„Ç∂„Éº
*2025/1/10 17:58:02*

{
  "content\_type": "image\_asset\_pointer",
  "asset\_pointer": "file-service://file-SdWNzcMZmRkXVGsarjg4NB",
  "size\_bytes": 36525,
  "width": 329,
  "height": 475,
  "fovea": null,
  "metadata": {
    "dalle": null,
    "gizmo": null,
    "generation": null,
    "container\_pixel\_height": null,
    "container\_pixel\_width": null,
    "emu\_omit\_glimpse\_image": null,
    "emu\_patches\_override": null,
    "sanitized": true,
    "asset\_pointer\_link": null,
    "watermarked\_asset\_pointer": null
  }
}
{
  "content\_type": "image\_asset\_pointer",
  "asset\_pointer": "file-service://file-2iD3Gn7ifFN2Yw5CfUmQ77",
  "size\_bytes": 86951,
  "width": 421,
  "height": 536,
  "fovea": null,
  "metadata": {
    "dalle": null,
    "gizmo": null,
    "generation": null,
    "container\_pixel\_height": null,
    "container\_pixel\_width": null,
    "emu\_omit\_glimpse\_image": null,
    "emu\_patches\_override": null,
    "sanitized": true,
    "asset\_pointer\_link": null,
    "watermarked\_asset\_pointer": null
  }
}
1ÊûöÁõÆ„ÅÆ„Çà„ÅÜ„Å´„Å™„Å£„Å¶„Åó„Åæ„Å£„Åü„ÄÇ
„Éú„Éº„ÉÄ„Éº„Å™„Å©„Åå„ÅÜ„Åæ„ÅèÈÅ©Âøú„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑ„ÄÇ
2ÊûöÁõÆ„ÅÆ„Çà„ÅÜ„Å´„Åó„Å¶Ê¨≤„Åó„ÅÑ„ÄÇ

import 'package:carousel\_slider/carousel\_slider.dart';
import 'package:flutter/material.dart';
import 'package:flutter\_hooks/flutter\_hooks.dart';
import 'package:go\_router/go\_router.dart';
import 'package:hooks\_riverpod/hooks\_riverpod.dart';
import 'package:intl/intl.dart';
import 'package:snpit\_guild\_app/domain/screen.dart';
import 'package:snpit\_guild\_app/infrastructure/snapit\_guild\_api/snapit\_guild\_api.openapi.dart';
import 'package:snpit\_guild\_app/presentation/design\_token/color\_pallet.dart';
import 'package:snpit\_guild\_app/presentation/design\_token/color\_token.dart';
import 'package:snpit\_guild\_app/presentation/entities/extensions/spot\_detail\_dto\_rarity\_x.dart';
import 'package:snpit\_guild\_app/presentation/providers/api\_client/guilds/get\_guild\_info.dart';
import 'package:snpit\_guild\_app/presentation/providers/api\_client/spots/get\_spot\_detail\_info.dart';
import 'package:snpit\_guild\_app/presentation/providers/show\_spot\_list.dart';

class OurSpotDetailPage extends HookConsumerWidget {
  const OurSpotDetailPage({super.key, required this.spotId});
  final String spotId;

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final myGuildName =
        ref.watch(getMyGuildNotifierProvider).value?.guildName ?? 'Unknown';
    final showSpotList = ref.watch(showSpotListNotifierProvider);
    final spotDetailState = ref.watch(getSpotDetailNotifierProvider);

    useEffect(
      () {
        Future.microtask(() {
          ref
              .read(getSpotDetailNotifierProvider.notifier)
              .getSpotDetail(spotId);
        });
        return null;
      },
      \[\],
    );

    return Scaffold(
      appBar: AppBar(
        // SpotList ÁîªÈù¢„Åã„Çâ„ÅÆÈÅ∑ÁßªÊôÇ„ÅÆ„ÅøÊàª„Çã„Éú„Çø„É≥„ÇíË°®Á§∫
        leading: showSpotList
            ? IconButton(
                icon: const Icon(Icons.arrow\_back),
                onPressed: () {
                  Navigator.pop(context);
                },
              )
            : null,
        title: const Text('Our spot'),
        actions: \[
          IconButton(
            icon: const Icon(Icons.close),
            onPressed: () {
              // „Éú„Éà„É†„Ç∑„Éº„ÉàÂÖ®‰Ωì„ÇíÈñâ„Åò„Çã
              Navigator.of(context, rootNavigator: true).pop();
            },
          ),
        \],
      ),
      body: spotDetailState.when(
        loading: () {
          return const Center(child: CircularProgressIndicator());
        },
        error: (err, stack) {
          return Center(
            child: Text('Error: $err'),
          );
        },
        data: (spotDetail) {
          if (spotDetail == null) {
            return const Center(child: Text('No data'));
          }

          final adminPhotoUrl = () {
            final photos = spotDetail.spotPhotos ?? \[\];
            final adminPhotos = photos.where(
              (photo) =&gt; photo.photoType == SpotPhotoDTOPhotoType.ADMIN\_PHOTOS,
            );
            return adminPhotos.isNotEmpty ? adminPhotos.first.photoUrl : null;
          }();

            final spotPhotos = (spotDetail.spotPhotos ?? \[\])
              .where(
              (photo) =&gt; photo.photoUrl != null && photo.photoUrl!.isNotEmpty,
              )
              .map((photo) =&gt; photo.photoUrl!)
              .toList();
            // spotPhotos.addAll(List.from(spotPhotos));
            // spotPhotos.addAll(List.from(spotPhotos));

          final autoIncomeLabel = spotDetail.autoIncome != null
              ? '${NumberFormat('#,###').format(spotDetail.autoIncome)} STP'
              : '0 STP';
          final rarityLabel = spotDetail.rarity?.label ?? '';
          final rarityColor = spotDetail.rarity?.color ?? ColorToken.border;

          final items = \[
            Padding(
              padding: const EdgeInsets.symmetric(horizontal: 16),
              child: Row(
                mainAxisAlignment: MainAxisAlignment.spaceBetween,
                children: \[
                  const Text(
                    'Production output',
                    style: TextStyle(fontSize: 14),
                  ),
                  Column(
                    mainAxisAlignment: MainAxisAlignment.center,
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: \[
                      Text(
                        autoIncomeLabel,
                        style: const TextStyle(fontSize: 14),
                      ),
                      const SizedBox(height: 4),
                      const Text(
                        'every 24 hours',
                        style: TextStyle(
                          fontSize: 12,
                          color: ColorToken.border,
                        ),
                      ),
                    \],
                  ),
                  CircleAvatar(
                    backgroundColor: ColorPallet.gray1000,
                    child: Text(
                      rarityLabel,
                      style: TextStyle(
                        fontSize: 18,
                        color: rarityColor,
                      ),
                    ),
                  ),
                \],
              ),
            ),
            ListTile(
              contentPadding: const EdgeInsets.symmetric(horizontal: 16),
              title: const Text(
                'Holder',
                style: TextStyle(fontSize: 14),
              ),
              trailing: Row(
                mainAxisSize: MainAxisSize.min,
                children: \[
                  Text(
                    myGuildName,
                    style: const TextStyle(
                      fontSize: 14,
                    ),
                  ),
                \],
              ),
            ),
          \];

          return SingleChildScrollView(
            padding: const EdgeInsets.all(16),
            child: Column(
              children: \[
                DecoratedBox(
                  decoration: BoxDecoration(
                    border: Border.all(
                      color: ColorPallet.green500,
                      width: 3,
                    ),
                    borderRadius: BorderRadius.circular(8),
                  ),
                  child: Padding(
                    padding: const EdgeInsets.all(3),
                    child: ClipRRect(
                      borderRadius: BorderRadius.circular(8),
                      child: CarouselWithDotsSample(spotPhotos: spotPhotos),
                    ),
                  ),
                ),
                const SizedBox(height: 32),
                DecoratedBox(
                  decoration: BoxDecoration(
                    color: ColorToken.bg,
                    borderRadius: BorderRadius.circular(8),
                    border: Border.all(
                      color: ColorToken.border,
                      width: 0.5,
                    ),
                  ),
                  child: SizedBox(
                    height: 88,
                    child: Material(
                      color: Colors.transparent,
                      child: InkWell(
                        onTap: () {
                          context.push(Screen.flagList.path);
                        },
                        child: const Padding(
                          padding: EdgeInsets.symmetric(horizontal: 16),
                          child: Row(
                            children: \[
                              CircleAvatar(
                                backgroundColor: ColorPallet.green500,
                                child: Icon(
                                  Icons.flag,
                                  color: ColorPallet.green100,
                                ),
                              ),
                              SizedBox(width: 16),
                              Column(
                                mainAxisAlignment: MainAxisAlignment.center,
                                crossAxisAlignment: CrossAxisAlignment.start,
                                children: \[
                                  Text(
                                    'No flag',
                                    style: TextStyle(
                                      fontSize: 14,
                                      fontWeight: FontWeight.bold,
                                    ),
                                  ),
                                  SizedBox(height: 4),
                                  Text(
                                    'Flag and defend your spot against'
                                    '\\nenemy attacks!',
                                    style: TextStyle(
                                      fontSize: 12,
                                    ),
                                  ),
                                \],
                              ),
                              Spacer(),
                              Icon(
                                Icons.arrow\_forward,
                                size: 24,
                                color: ColorToken.text,
                              ),
                            \],
                          ),
                        ),
                      ),
                    ),
                  ),
                ),
                const SizedBox(height: 16),
                DecoratedBox(
                  decoration: BoxDecoration(
                    color: ColorToken.bg,
                    borderRadius: BorderRadius.circular(8),
                    border: Border.all(
                      color: ColorToken.border,
                      width: 0.5,
                    ),
                  ),
                  // ListView.separated() „ÅßÂÆüË£Ö„Åô„Çã„Å®ÊúÄÂæå„ÅÆË¶ÅÁ¥†„Å´Ë¨é„ÅÆ‰ΩôÁôΩ„ÅåÁîü„Åò„Åü„Åü„ÇÅ Column „ÅßÂÆüË£Ö
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: List.generate(
                      items.length,
                      (index) =&gt; Column(
                        children: \[
                          SizedBox(
                            height: 64,
                            child: Center(child: items\[index\]),
                          ),
                          if (index &lt; items.length - 1)
                            Container(
                              height: 0.5,
                              color: ColorToken.border,
                            ),
                        \],
                      ),
                    ),
                  ),
                ),
                const SizedBox(height: 32),
              \],
            ),
          );
        },
      ),
    );
  }
}

class CarouselWithDotsSample extends HookWidget {
  const CarouselWithDotsSample({Key? key, required this.spotPhotos})
      : super(key: key);

  final List&lt;String&gt; spotPhotos;

  @override
  Widget build(BuildContext context) {
    // ÁèæÂú®„ÅÆ„Éö„Éº„Ç∏„ÇíÁÆ°ÁêÜ„Åô„Çã„Åü„ÇÅ„ÅÆState
    final currentIndex = useState(0);

    // ÁîªÂÉèURL„ÅåÁ©∫„ÅÆÂ†¥Âêà„Å´„Ç®„É©„Éº„Å´„Å™„Çâ„Å™„ÅÑ„Çà„ÅÜ„Å´„Éï„Ç£„É´„Çø
    final photos = spotPhotos.where((url) =&gt; url.isNotEmpty).toList();

    // ÁîªÂÉè„Åå1Êûö„ÇÇ„Å™„ÅÑÂ†¥Âêà„ÅÆË°®Á§∫
    if (photos.isEmpty) {
      return const SizedBox(
        height: 200,
        child: ColoredBox(
          color: ColorToken.bgDark,
          child: Center(
            child: Icon(
              Icons.hide\_image\_outlined,
              size: 48,
              color: ColorToken.text,
            ),
          ),
        ),
      );
    }

    return Column(
      mainAxisSize: MainAxisSize.min,
      children: \[
        // „Çπ„É©„Ç§„ÉÄ„ÉºÊú¨‰Ωì
        CarouselSlider(
          items: photos.map((url) {
            return Builder(
              builder: (BuildContext context) {
                return Image.network(
                  url,
                  fit: BoxFit.cover,
                  errorBuilder: (context, error, stackTrace) {
                    return const ColoredBox(
                      color: ColorToken.bgDark,
                      child: Icon(
                        Icons.broken\_image\_outlined,
                        size: 48,
                        color: ColorToken.text,
                      ),
                    );
                  },
                );
              },
            );
          }).toList(),
          options: CarouselOptions(
            height: 200, // „ÅäÂ•Ω„Åø„ÅÆÈ´ò„Åï„Å´
            autoPlay: false, // Ëá™ÂãïÂÜçÁîü„Åô„ÇãÂ†¥Âêà„ÅØtrue
            enlargeCenterPage: true, // „Çª„É≥„Çø„É™„É≥„Ç∞ÔºãÊã°Â§ßË°®Á§∫
            enableInfiniteScroll: photos.length &gt; 1,
            onPageChanged: (index, reason) {
              currentIndex.value = index;
            },
          ),
        ),
        const SizedBox(height: 16),
        // „Éâ„ÉÉ„ÉàË°®Á§∫
        Row(
          mainAxisAlignment: MainAxisAlignment.center,
          children: List.generate(photos.length, (index) {
            final isActive = index == currentIndex.value;
            return AnimatedContainer(
              duration: const Duration(milliseconds: 150),
              margin: const EdgeInsets.symmetric(horizontal: 4),
              width: isActive ? 10 : 8,
              height: isActive ? 10 : 8,
              decoration: BoxDecoration(
                color: isActive ? ColorPallet.green500 : ColorToken.border,
                shape: BoxShape.circle,
              ),
            );
          }),
        ),
      \],
    );
  }
}

---

## ü§ñ „Ç¢„Ç∑„Çπ„Çø„É≥„Éà
*2025/1/10 17:59:19*

„Äå2ÊûöÁõÆ„ÅÆ„Çà„ÅÜ„Å´„ÄÅÊû†Á∑ö„Å§„Åç„ÅÆÊ≠£ÊñπÂΩ¢„Ç§„É°„Éº„Ç∏„ÅåË§áÊï∞Êûö„Çπ„É©„Ç§„Éâ„Åï„Çå„Çã„ÄçUI„Å´„Åó„Åü„ÅÑÂ†¥Âêà„ÄÅ**CarouselSlider** ÂÅ¥„Åß‰ΩôË®à„Å™‰ΩôÁôΩ„Åå„Åß„Åç„Å™„ÅÑ„Çà„ÅÜ„Å´ **Âõ∫ÂÆö„ÅÆÈ´ò„Åï„ÉªÂπÖ** „ÇÇ„Åó„Åè„ÅØ **„Ç¢„Çπ„Éö„ÇØ„ÉàÊØî** „ÇíÂêà„Çè„Åõ„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ  
‰ª•‰∏ã„ÅÆ„Éù„Ç§„É≥„Éà„ÇíÊäº„Åï„Åà„Çã„Å®„ÄÅ1ÊûöÁõÆ„ÅÆ„Çà„ÅÜ„Å™Èªí„ÅÑÂ∏Ø„ÅåÂÖ•„Çâ„Åö„ÄÅ2ÊûöÁõÆ„ÅÆ„Çà„ÅÜ„Å™Ê≠£ÊñπÂΩ¢„ÅÆÊû†Á∑ö„ÅßÂõ≤„Åæ„Çå„Åü„Ç§„É°„Éº„Ç∏„Åå„Ç´„É´„Éº„Çª„É´Ë°®Á§∫„Åß„Åç„Åæ„Åô„ÄÇ

---

## 1. Êû†Á∑ö„ÇÑËßí‰∏∏„ÅÆÊåáÂÆö„Çí„ÄåÂ§ñÂÅ¥„Ç≥„É≥„ÉÜ„Éä„Äç„Å´

ÁèæÁä∂„Åß„ÅØ„ÄÅÂ§ñÂÅ¥ (`DecoratedBox` + `ClipRRect`) „Å® `CarouselSlider` „ÅåÈáçË§á„Åó„Å¶„ÅÑ„Çã„Åü„ÇÅ„ÄÅÊÄù„Çè„Å¨‰ΩçÁΩÆ„Åß„Çµ„Ç§„Ç∫„ÅåÊ±∫„Åæ„Å£„Å¶„Åó„Åæ„ÅÑ„ÄÅÁîªÂÉè„ÅåÁ∏¶Èï∑„ÉªÊ®™Èï∑„Å´„Å™„Å£„Åü„Çä„ÄÅÈöôÈñì„Åå„Åß„Åç„Åü„Çä„Åó„Åæ„Åô„ÄÇ  
„Åù„ÅÆ„Åü„ÇÅ„ÄÅ

1. **Êû†Á∑ö„ÇÑËßí‰∏∏„ÅØÂ§ñÂÅ¥** (Ë¶™Widget) „ÅßË®≠ÂÆö  
2. **ÁîªÂÉè„ÅÆÊ®™ÂπÖ„ÉªÈ´ò„Åï„ÅÆÂà∂Âæ°„ÅØÂÜÖÂÅ¥** (Â≠êWidget) „ÅßÊòéÁ§∫ÁöÑ„Å´Ë°å„ÅÜ  

„Å®ÂàÜ„Åë„Å¶„ÅÇ„Åí„Çã„Å®„Åç„Çå„ÅÑ„Å´‰ªï‰∏ä„Åå„Çä„Åæ„Åô„ÄÇ

---

## 2. `CarouselOptions` „ÅßÈ´ò„Åï„Åß„ÅØ„Å™„Åè„Ç¢„Çπ„Éö„ÇØ„ÉàÊØî„ÇíÊåáÂÆö„Åô„Çã

`CarouselOptions(height: 200)` „Å†„Å®„ÄÅÁîªÂÉè„Å´„Çà„Å£„Å¶„ÅØ‰∏ä‰∏ã„Å´ÈªíÂ∏Ø(‰ΩôÁôΩ)„Åå„Åß„Åç„Å¶„Åó„Åæ„ÅÜÂ†¥Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ  
„Åù„Åì„Åß„ÄÅ

- `aspectRatio` „Éó„É≠„Éë„ÉÜ„Ç£ÔºàÁ∏¶Ê®™ÊØîÔºâ„ÇíÊåáÂÆö  
- „ÇÇ„Åó„Åè„ÅØÂêÑÁîªÂÉè„Ç¢„Ç§„ÉÜ„É†„Å´ **Âõ∫ÂÆö„Çµ„Ç§„Ç∫** „Çí‰∏é„Åà„Å¶ `fit: BoxFit.cover` „ÅßÂüã„ÇÅ„Çã  

„Å®„ÅÑ„ÅÜ2„Éë„Çø„Éº„É≥„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ**Ê≠£ÊñπÂΩ¢**„Å´„Åó„Åü„ÅÑ„ÅÆ„Åß„ÅÇ„Çå„Å∞ `aspectRatio: 1.0` „Å´„Åó„Å¶„Åø„Çã„ÅÆ„ÅåÁ∞°Âçò„Åß„Åô„ÄÇ

---

### „Çµ„É≥„Éó„É´A: **aspectRatio** „Çí‰Ωø„ÅÜ„Éë„Çø„Éº„É≥

```dart
child: CarouselSlider(
  items: photos.map((url) {
    return Image.network(
      url,
      // Êû†„ÅÆÂÜÖÂÅ¥„Å´Âêà„Çè„Åõ„Å¶„Äå„Å¥„Å£„Åü„ÇäÂ°ó„ÇäÊΩ∞„Åô„Äç„Çà„ÅÜ„Å´
      fit: BoxFit.cover,
      errorBuilder: (context, error, stackTrace) {
        return const ColoredBox(
          color: ColorToken.bgDark,
          child: Icon(
            Icons.broken_image_outlined,
            size: 48,
            color: ColorToken.text,
          ),
        );
      },
    );
  }).toList(),
  options: CarouselOptions(
    aspectRatio: 1.0,       // ‚Üê„Åì„Åì„ÇíËøΩÂä†(Ê≠£ÊñπÂΩ¢)
    enlargeCenterPage: false,
    enableInfiniteScroll: photos.length > 1,
    onPageChanged: (index, reason) {
      currentIndex.value = index;
    },
  ),
)
```

- `aspectRatio: 1.0` „Åß **Ê≠£ÊñπÂΩ¢** „ÅÆÈ†òÂüü„ÇíÁ¢∫‰øù  
- `enlargeCenterPage` „ÅØ `false` „Å´„Åó„Å¶„Åä„Åè„Å®„ÄÅ„Ç∫„Éº„É†ÊºîÂá∫„Åå„Å™„ÅèÂçòÁ¥î„Å™„Ç´„É´„Éº„Çª„É´„Å´„ÄÇ  
- „Åù„Çå„Åß„ÇÇÁîªÈù¢Ê®™ÂπÖ„ÅåÂ∫É„ÅÑÂ†¥Âêà„ÄÅ‰ΩôÁôΩ„ÅåÂá∫„ÇãÂ†¥Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åù„ÅÆÂ†¥Âêà„ÅØ„ÄÅ‰ª•‰∏ã„ÅÆ„ÄåÂõ∫ÂÆö„Çµ„Ç§„Ç∫„Äç„Éë„Çø„Éº„É≥„ÅÆ„Åª„ÅÜ„ÅåÁ¢∫ÂÆü„Åß„Åô„ÄÇ

---

### „Çµ„É≥„Éó„É´B: **ÁîªÂÉè„Ç¢„Ç§„ÉÜ„É†„ÇíÂõ∫ÂÆö„Çµ„Ç§„Ç∫(160x160„Å™„Å©)„ÅßÂåÖ„ÇÄ**„Éë„Çø„Éº„É≥

2ÊûöÁõÆ„ÅÆUI„ÅØ„Äå**160x160„ÅÆÊ≠£ÊñπÂΩ¢**„ÇíÁ∑ëÊû†„ÅßÂõ≤„Çì„Å†„ÇÇ„ÅÆ„Äç„ÇíÊÉ≥ÂÆö„Åó„Å¶„ÅÑ„Çã„Çà„ÅÜ„Å™„ÅÆ„Åß„ÄÅ`CarouselSlider` „Å´„ÅØÈ´ò„Åï„ÉªÂπÖ„ÇíÊåáÂÆö„Åõ„Åö„ÄÅ**ÂêÑ„Ç¢„Ç§„ÉÜ„É†ÂÜÖ„ÅßÊòéÁ§∫ÁöÑ„Å´„Çµ„Ç§„Ç∫„ÇíÊ±∫„ÇÅ„Çã**„ÅÆ„ÅåÂàÜ„Åã„Çä„ÇÑ„Åô„ÅÑÊñπÊ≥ï„Åß„Åô„ÄÇ

```dart
child: CarouselSlider(
  items: photos.map((url) {
    return Center(
      // Center„ÅßÂõ≤„ÇÄ„Å®„ÄÅÊ®™ÂπÖ„Å´‰ΩôË£ï„Åå„ÅÇ„Å£„Å¶„ÇÇÁúü„Çì‰∏≠„Å´Ë°®Á§∫
      child: SizedBox(
        width: 160,
        height: 160,
        child: Image.network(
          url,
          fit: BoxFit.cover,
          errorBuilder: (context, error, stackTrace) {
            return const ColoredBox(
              color: ColorToken.bgDark,
              child: Icon(
                Icons.broken_image_outlined,
                size: 48,
                color: ColorToken.text,
              ),
            );
          },
        ),
      ),
    );
  }).toList(),
  options: CarouselOptions(
    // height, aspectRatio „ÅØÊåáÂÆö„Åó„Å™„ÅÑ
    // enlargeCenterPage: false, // Â•Ω„Åø„Åßtrue/false
    enableInfiniteScroll: photos.length > 1,
    onPageChanged: (index, reason) {
      currentIndex.value = index;
    },
  ),
)
```

„Åù„Åó„Å¶„ÄÅÂ§ñÂÅ¥„Å´

```dart
DecoratedBox(
  decoration: BoxDecoration(
    border: Border.all(
      color: ColorPallet.green500,
      width: 3,
    ),
    borderRadius: BorderRadius.circular(8),
  ),
  child: Padding(
    padding: const EdgeInsets.all(3),
    child: ClipRRect(
      borderRadius: BorderRadius.circular(8),
      child: CarouselSlider(...),
    ),
  ),
),
```

„ÅÆ„Çà„ÅÜ„Å´„Åó„Å¶„ÅÇ„Åí„Çå„Å∞„ÄÅ**„Å°„Çá„ÅÜ„Å©160x160„Çµ„Ç§„Ç∫„ÅÆÁîªÂÉè„Åå„Çπ„É©„Ç§„Éâ**„Åó„ÄÅÊû†Á∑ö„Åå„Åç„Å°„Çì„Å®ÈÅ©Áî®„Åï„Çå„ÅüÁä∂ÊÖã„Å´„Å™„Çä„Åæ„Åô„ÄÇ

---

## 3. „Éâ„ÉÉ„Éà„Ç§„É≥„Ç∏„Ç±„Éº„Çø„ÅÆ‰ΩçÁΩÆ„ÇíÂæÆË™øÊï¥

„ÄåÁîªÂÉè„ÅÆ„Åô„Åê‰∏ã„Äç„Å´„Éâ„ÉÉ„Éà„ÅåÊù•„Çã„Çà„ÅÜ„Å´„Åó„Åü„ÅÑ„Å™„Çâ„ÄÅ**`Column` „ÅÆ‰∏¶„Å≥È†Ü**„ÇÑ **`SizedBox` „ÅÆÈ´ò„Åï** „ÇíÂøÖË¶Å„Å´Âøú„Åò„Å¶Ë™øÊï¥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

„Åü„Å®„Åà„Å∞„ÄÅÊû†‰ªò„ÅçÁîªÂÉè„Å®„Éâ„ÉÉ„Éà„Çí**„Åæ„Å®„ÇÅ„Å¶1„Å§„ÅÆWidget**„Å´„Åó„Åü„ÅÑ„Å™„Çâ„ÄÅ`CarouselWithDotsSample` „ÅÆ `Column` „ÅÆ‰∏ä„Å´„Åï„Çâ„Å´ `SizedBox(height: 16)` „ÇíÂÖ•„Çå„Å¶Êäº„Åó‰∏ã„Åí„Çã„Å™„Å©Ë™øÊï¥„Åô„Çã„Å®„ÄÅ2ÊûöÁõÆ„ÅÆ„Çà„ÅÜ„Å™„Éê„É©„É≥„Çπ„Å´Ëøë„Å•„Åç„Åæ„Åô„ÄÇ

---

### „Åæ„Å®„ÇÅ

- **Ê≠£ÊñπÂΩ¢„ÅÆÁ∑ëËâ≤„Éú„Éº„ÉÄ„Éº„ÅßÂõ≤„Åø„Åü„ÅÑ** ‚Üí Â§ñÊû†„ÅÆ„Ç≥„É≥„ÉÜ„ÉäÔºà`DecoratedBox` / `ClipRRect`Ôºâ„Å´Âõ∫ÂÆö„Çµ„Ç§„Ç∫ or „Ç¢„Çπ„Éö„ÇØ„ÉàÊØî„Çí‰∏é„Åà„Çã„ÄÇ  
- **ÁîªÂÉè„Å´‰ΩôÁôΩ„ÅåÂÖ•„Å£„Å¶„Åó„Åæ„ÅÜ** ‚Üí `BoxFit.cover` „ÅÆÁ¢∫Ë™ç„Å®„ÄÅ`height / width / aspectRatio` „ÅÆÊåáÂÆö„ÇíÊï¥ÁêÜ„Åó„ÄÅÊû†Á∑ö„Å®ÁîªÂÉè„Çµ„Ç§„Ç∫„ÅÆÈñ¢‰øÇ„ÇíÊòéÁ¢∫„Å´„Åô„Çã„ÄÇ  
- **„Éâ„ÉÉ„Éà„ÅÆ‰ΩçÁΩÆ„Åå„Ç∫„É¨„Çã** ‚Üí `Column` „ÅÆ‰∏≠„Åß `CarouselSlider` „Å® „Éâ„ÉÉ„ÉàË°®Á§∫ `Row` „Çí‰∏¶„ÅπÊõø„Åà or ‰ΩôÁôΩ„ÇíË™øÊï¥„ÄÇ

„Åì„ÅÜ„Åô„Çã„Åì„Å®„Åß„ÄÅ1ÊûöÁõÆ„ÅÆ„Çà„ÅÜ„Å™ÈªíÂ∏Ø„ÅåÂÖ•„Çâ„Åö„ÄÅ2ÊûöÁõÆ„ÅÆ„Çà„ÅÜ„Å´„Åç„Å°„Çì„Å®**Ê≠£ÊñπÂΩ¢ÔºÜÁ∑ëÊû†„Å§„Åç„ÅÆ„Ç´„É´„Éº„Çª„É´„Çπ„É©„Ç§„ÉÄ„Éº**„ÇíË°®Á§∫„Åß„Åç„Åæ„Åô„ÄÇ

---

## üë§ „É¶„Éº„Ç∂„Éº
*2025/1/10 18:01:47*

„Çµ„É≥„Éó„É´B„ÅÆÊñπÂêë„ÅßÂÆüË£Ö„Åó„Å¶„Åª„Åó„ÅÑ

---

## ü§ñ „Ç¢„Ç∑„Çπ„Çø„É≥„Éà
*2025/1/10 18:02:32*

‰ª•‰∏ã„ÅØ„Äå**„Çµ„É≥„Éó„É´B**ÔºàÂêÑ„Çπ„É©„Ç§„Éâ„Çí `160x160` „ÅÆ„Çµ„Ç§„Ç∫„ÅßÂõ∫ÂÆö„Åó„Å¶Á∑ëÊû†„ÅÆ‰∏≠„Å´Âèé„ÇÅ„ÇãÔºâ+ „Éâ„ÉÉ„ÉàË°®Á§∫„ÄçÁâà„ÅÆÂÆüË£Ö‰æã„Åß„Åô„ÄÇ  
1ÊûöÁõÆ„ÅÆ„Çà„ÅÜ„Å´ÈªíÂ∏Ø„ÅåÂÖ•„Çâ„Åö„ÄÅ2ÊûöÁõÆ„ÅÆ„Çà„ÅÜ„Å´**Ê≠£ÊñπÂΩ¢„ÅÆÊû†Á∑ö‰ªò„Åç„Ç´„É´„Éº„Çª„É´**„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ

---

## „Éù„Ç§„É≥„Éà

1. **Â§ñÂÅ¥„ÅÆÊû†Á∑ö (`DecoratedBox`) „Å®Ëßí‰∏∏ (`ClipRRect`) „ÅØ„Åù„ÅÆ„Åæ„Åæ**  
2. **`CarouselSlider` „Åß„ÅØ `height` / `aspectRatio` „ÇíÊåáÂÆö„Åó„Å™„ÅÑ**  
3. **ÂêÑ„Çπ„É©„Ç§„Éâ„Ç¢„Ç§„ÉÜ„É†„Çí `SizedBox(width: 160, height: 160)` „ÅßÂõ∫ÂÆö**  
4. `BoxFit.cover` „Åß **‰ΩôÁôΩ„Å™„ÅèÁîªÂÉè„ÇíÂüã„ÇÅ„Çã**  

„Åì„ÅÜ„Åô„Çã„Åì„Å®„Åß„ÄÅÂ∏∏„Å´ **160x160 „ÅÆÁîªÂÉèÊû†Ôºã‰ΩôË®à„Å™Â∏Ø„ÅåÂÖ•„Çâ„Å™„ÅÑ** „É¨„Ç§„Ç¢„Ç¶„Éà„Å´„Åß„Åç„Åæ„Åô„ÄÇ

---

### `OurSpotDetailPage.dart`

```dart
import 'package:carousel_slider/carousel_slider.dart';
import 'package:flutter/material.dart';
import 'package:flutter_hooks/flutter_hooks.dart';
import 'package:go_router/go_router.dart';
import 'package:hooks_riverpod/hooks_riverpod.dart';
import 'package:intl/intl.dart';
import 'package:snpit_guild_app/domain/screen.dart';
import 'package:snpit_guild_app/infrastructure/snapit_guild_api/snapit_guild_api.openapi.dart';
import 'package:snpit_guild_app/presentation/design_token/color_pallet.dart';
import 'package:snpit_guild_app/presentation/design_token/color_token.dart';
import 'package:snpit_guild_app/presentation/entities/extensions/spot_detail_dto_rarity_x.dart';
import 'package:snpit_guild_app/presentation/providers/api_client/guilds/get_guild_info.dart';
import 'package:snpit_guild_app/presentation/providers/api_client/spots/get_spot_detail_info.dart';
import 'package:snpit_guild_app/presentation/providers/show_spot_list.dart';

class OurSpotDetailPage extends HookConsumerWidget {
  const OurSpotDetailPage({super.key, required this.spotId});
  final String spotId;

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final myGuildName =
        ref.watch(getMyGuildNotifierProvider).value?.guildName ?? 'Unknown';
    final showSpotList = ref.watch(showSpotListNotifierProvider);
    final spotDetailState = ref.watch(getSpotDetailNotifierProvider);

    useEffect(
      () {
        Future.microtask(() {
          ref
              .read(getSpotDetailNotifierProvider.notifier)
              .getSpotDetail(spotId);
        });
        return null;
      },
      [],
    );

    return Scaffold(
      appBar: AppBar(
        leading: showSpotList
            ? IconButton(
                icon: const Icon(Icons.arrow_back),
                onPressed: () {
                  Navigator.pop(context);
                },
              )
            : null,
        title: const Text('Our spot'),
        actions: [
          IconButton(
            icon: const Icon(Icons.close),
            onPressed: () {
              Navigator.of(context, rootNavigator: true).pop();
            },
          ),
        ],
      ),
      body: spotDetailState.when(
        loading: () {
          return const Center(child: CircularProgressIndicator());
        },
        error: (err, stack) {
          return Center(
            child: Text('Error: $err'),
          );
        },
        data: (spotDetail) {
          if (spotDetail == null) {
            return const Center(child: Text('No data'));
          }

          // spotPhotos „ÅÆURL‰∏ÄË¶ß„ÇíÊäΩÂá∫
          final spotPhotos = (spotDetail.spotPhotos ?? [])
              .where((photo) => photo.photoUrl != null && photo.photoUrl!.isNotEmpty)
              .map((photo) => photo.photoUrl!)
              .toList();

          final autoIncomeLabel = spotDetail.autoIncome != null
              ? '${NumberFormat('#,###').format(spotDetail.autoIncome)} STP'
              : '0 STP';
          final rarityLabel = spotDetail.rarity?.label ?? '';
          final rarityColor = spotDetail.rarity?.color ?? ColorToken.border;

          // ‰∏ã„ÅÆ„Éú„ÉÉ„ÇØ„ÇπË°®Á§∫Áî®È†ÖÁõÆ
          final items = [
            Padding(
              padding: const EdgeInsets.symmetric(horizontal: 16),
              child: Row(
                mainAxisAlignment: MainAxisAlignment.spaceBetween,
                children: [
                  const Text(
                    'Production output',
                    style: TextStyle(fontSize: 14),
                  ),
                  Column(
                    mainAxisAlignment: MainAxisAlignment.center,
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: [
                      Text(
                        autoIncomeLabel,
                        style: const TextStyle(fontSize: 14),
                      ),
                      const SizedBox(height: 4),
                      const Text(
                        'every 24 hours',
                        style: TextStyle(
                          fontSize: 12,
                          color: ColorToken.border,
                        ),
                      ),
                    ],
                  ),
                  CircleAvatar(
                    backgroundColor: ColorPallet.gray1000,
                    child: Text(
                      rarityLabel,
                      style: TextStyle(
                        fontSize: 18,
                        color: rarityColor,
                      ),
                    ),
                  ),
                ],
              ),
            ),
            ListTile(
              contentPadding: const EdgeInsets.symmetric(horizontal: 16),
              title: const Text(
                'Holder',
                style: TextStyle(fontSize: 14),
              ),
              trailing: Row(
                mainAxisSize: MainAxisSize.min,
                children: [
                  Text(
                    myGuildName,
                    style: const TextStyle(
                      fontSize: 14,
                    ),
                  ),
                ],
              ),
            ),
          ];

          return SingleChildScrollView(
            padding: const EdgeInsets.all(16),
            child: Column(
              children: [
                // „Åì„Åì„ÅßÊû†Á∑ö‰ªò„ÅçÊ≠£ÊñπÂΩ¢„Ç´„É´„Éº„Çª„É´„ÇíË°®Á§∫
                DecoratedBox(
                  decoration: BoxDecoration(
                    border: Border.all(
                      color: ColorPallet.green500,
                      width: 3,
                    ),
                    borderRadius: BorderRadius.circular(8),
                  ),
                  child: Padding(
                    padding: const EdgeInsets.all(3),
                    child: ClipRRect(
                      borderRadius: BorderRadius.circular(8),
                      child: CarouselWithDotsSample(spotPhotos: spotPhotos),
                    ),
                  ),
                ),
                const SizedBox(height: 32),
                DecoratedBox(
                  decoration: BoxDecoration(
                    color: ColorToken.bg,
                    borderRadius: BorderRadius.circular(8),
                    border: Border.all(
                      color: ColorToken.border,
                      width: 0.5,
                    ),
                  ),
                  child: SizedBox(
                    height: 88,
                    child: Material(
                      color: Colors.transparent,
                      child: InkWell(
                        onTap: () {
                          context.push(Screen.flagList.path);
                        },
                        child: const Padding(
                          padding: EdgeInsets.symmetric(horizontal: 16),
                          child: Row(
                            children: [
                              CircleAvatar(
                                backgroundColor: ColorPallet.green500,
                                child: Icon(
                                  Icons.flag,
                                  color: ColorPallet.green100,
                                ),
                              ),
                              SizedBox(width: 16),
                              Column(
                                mainAxisAlignment: MainAxisAlignment.center,
                                crossAxisAlignment: CrossAxisAlignment.start,
                                children: [
                                  Text(
                                    'No flag',
                                    style: TextStyle(
                                      fontSize: 14,
                                      fontWeight: FontWeight.bold,
                                    ),
                                  ),
                                  SizedBox(height: 4),
                                  Text(
                                    'Flag and defend your spot against'
                                    '\nenemy attacks!',
                                    style: TextStyle(
                                      fontSize: 12,
                                    ),
                                  ),
                                ],
                              ),
                              Spacer(),
                              Icon(
                                Icons.arrow_forward,
                                size: 24,
                                color: ColorToken.text,
                              ),
                            ],
                          ),
                        ),
                      ),
                    ),
                  ),
                ),
                const SizedBox(height: 16),
                DecoratedBox(
                  decoration: BoxDecoration(
                    color: ColorToken.bg,
                    borderRadius: BorderRadius.circular(8),
                    border: Border.all(
                      color: ColorToken.border,
                      width: 0.5,
                    ),
                  ),
                  // ListView.separated() „ÅßÂÆüË£Ö„Åô„Çã„Å®ÊúÄÂæå„ÅÆË¶ÅÁ¥†„Å´Ë¨é„ÅÆ‰ΩôÁôΩ„ÅåÁîü„Åò„Åü„Åü„ÇÅ Column „ÅßÂÆüË£Ö
                  child: Column(
                    mainAxisSize: MainAxisSize.min,
                    children: List.generate(
                      items.length,
                      (index) => Column(
                        children: [
                          SizedBox(
                            height: 64,
                            child: Center(child: items[index]),
                          ),
                          if (index < items.length - 1)
                            Container(
                              height: 0.5,
                              color: ColorToken.border,
                            ),
                        ],
                      ),
                    ),
                  ),
                ),
                const SizedBox(height: 32),
              ],
            ),
          );
        },
      ),
    );
  }
}

class CarouselWithDotsSample extends HookWidget {
  const CarouselWithDotsSample({Key? key, required this.spotPhotos})
      : super(key: key);

  final List<String> spotPhotos;

  @override
  Widget build(BuildContext context) {
    // ÁèæÂú®„ÅÆ„Éö„Éº„Ç∏„ÇíÁÆ°ÁêÜ„Åô„Çã„Åü„ÇÅ„ÅÆState
    final currentIndex = useState(0);

    // ÁîªÂÉèURL„ÅåÁ©∫„ÅÆÂ†¥Âêà„Å´„Ç®„É©„Éº„Å´„Å™„Çâ„Å™„ÅÑ„Çà„ÅÜ„Å´„Éï„Ç£„É´„Çø
    final photos = spotPhotos.where((url) => url.isNotEmpty).toList();

    // ÁîªÂÉè„Åå1Êûö„ÇÇ„Å™„ÅÑÂ†¥Âêà„ÅÆË°®Á§∫
    if (photos.isEmpty) {
      return const SizedBox(
        width: 160,
        height: 160,
        child: ColoredBox(
          color: ColorToken.bgDark,
          child: Center(
            child: Icon(
              Icons.hide_image_outlined,
              size: 48,
              color: ColorToken.text,
            ),
          ),
        ),
      );
    }

    return Column(
      mainAxisSize: MainAxisSize.min,
      children: [
        // „Çπ„É©„Ç§„ÉÄ„ÉºÊú¨‰Ωì
        CarouselSlider(
          items: photos.map((url) {
            return Builder(
              builder: (BuildContext context) {
                // „Çπ„É©„Ç§„Éâ1Êûö„Åî„Å®„Å´160x160„ÅÆÈ†òÂüü„ÇíÁ¢∫‰øù
                return Center(
                  child: SizedBox(
                    width: 160,
                    height: 160,
                    child: Image.network(
                      url,
                      fit: BoxFit.cover,
                      errorBuilder: (context, error, stackTrace) {
                        return const ColoredBox(
                          color: ColorToken.bgDark,
                          child: Icon(
                            Icons.broken_image_outlined,
                            size: 48,
                            color: ColorToken.text,
                          ),
                        );
                      },
                    ),
                  ),
                );
              },
            );
          }).toList(),
          options: CarouselOptions(
            // height: „ÇÑ aspectRatio „ÅØÊåáÂÆö„Åó„Å™„ÅÑ
            autoPlay: false, // Ëá™ÂãïÂÜçÁîü„Åó„Åü„ÅÑ„Å™„Çâtrue„Å´
            enlargeCenterPage: false, 
            enableInfiniteScroll: photos.length > 1,
            onPageChanged: (index, reason) {
              currentIndex.value = index;
            },
          ),
        ),

        // „Éâ„ÉÉ„Éà„Å®ÁîªÂÉè„ÅÆÈñì„Å´ÈöôÈñì„ÇíÂÖ•„Çå„Çã
        const SizedBox(height: 16),

        // „Éâ„ÉÉ„ÉàË°®Á§∫
        Row(
          mainAxisAlignment: MainAxisAlignment.center,
          children: List.generate(photos.length, (index) {
            final isActive = index == currentIndex.value;
            return AnimatedContainer(
              duration: const Duration(milliseconds: 150),
              margin: const EdgeInsets.symmetric(horizontal: 4),
              width: isActive ? 10 : 8,
              height: isActive ? 10 : 8,
              decoration: BoxDecoration(
                color: isActive ? ColorPallet.green500 : ColorToken.border,
                shape: BoxShape.circle,
              ),
            );
          }),
        ),
      ],
    );
  }
}
```

---

### Ëß£Ë™¨

1. **`SizedBox(width: 160, height: 160)`**  
   - „Çπ„É©„Ç§„Éâ1Êûö„Åî„Å®„Å´Âõ∫ÂÆö„Çµ„Ç§„Ç∫„Çí‰∏é„Åà„Çã„Åì„Å®„Åß„ÄÅÂ∏∏„Å´Âêå„ÅòÊ≠£ÊñπÂΩ¢È†òÂüü„ÅåÁ¢∫‰øù„Åï„Çå„Åæ„Åô„ÄÇ  
2. **`BoxFit.cover`**  
   - ÁîªÂÉè„ÇíÊ≠£ÊñπÂΩ¢„Å´ÁõÆ‰∏ÄÊùØÊã°Â§ß„ÉªÁ∏ÆÂ∞è„Åó„Å¶‰ΩôÁôΩ„ÇíÈò≤„Åé„Åæ„Åô„ÄÇ  
3. **Â§ñÂÅ¥„ÅÆ `DecoratedBox` + `Padding(3)` + `ClipRRect`**  
   - Êû†Á∑ö„ÇÑËßí‰∏∏„Çí„Åæ„Å®„ÇÅ„Å¶Ë¶™Widget„Å´‰ªò„Åë„ÄÅ**„Çπ„É©„Ç§„ÉÄ„Éº„Å®„Åù„ÅÆ„Ç¢„Ç§„ÉÜ„É†„ÅØÂõ∫ÂÆö„Çµ„Ç§„Ç∫„ÅÆ„Åø**„ÇíÊÑèË≠ò„Åô„Çå„Å∞OK„Åß„Åô„ÄÇ  
4. **„Éâ„ÉÉ„Éà„ÅÆË°®Á§∫**  
   - `Column` „ÅÆ‰∏≠„Åß `CarouselSlider` „Å®„Éâ„ÉÉ„Éà `Row` „ÇíÁ∏¶„Å´‰∏¶„Åπ„Å¶„ÅÑ„Çã„ÅÆ„Åß„ÄÅÁîªÂÉè„ÅÆ‰∏ã„Å´„Éâ„ÉÉ„Éà„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ  
   - `SizedBox(height: 16)` „Å™„Å©„ÅßË∑ùÈõ¢„ÇíË™øÊï¥„Åô„Çã„Å®„ÄÅ2ÊûöÁõÆ„ÅÆ„Çà„ÅÜ„Å´ÁîªÂÉè„Å®„Éâ„ÉÉ„Éà„ÅåÁ®ã„Çà„ÅèÈõ¢„Çå„Åæ„Åô„ÄÇ  

„Åì„Çå„Åß„ÄÅ**Èªí„ÅÑÂ∏Ø„ÅåÂÖ•„Çâ„Åö**„ÄÅ„Åã„Å§ **Êû†Á∑ö„Å§„Åç„ÅÆÊ≠£ÊñπÂΩ¢„Ç´„É´„Éº„Çª„É´ + „Éâ„ÉÉ„Éà„Ç§„É≥„Ç∏„Ç±„Éº„Çø** „ÅåË°®Á§∫„Åï„Çå„Çã„ÅØ„Åö„Åß„Åô„ÄÇ

---

## üë§ „É¶„Éº„Ç∂„Éº
*2025/1/10 18:13:54*

Ëâ≤„ÄÖ‰øÆÊ≠£„Åó„Å¶‰ª•‰∏ã„Å´„Å™„Å£„Åü„ÄÇ

class CarouselWithDotsSample extends HookWidget {
  const CarouselWithDotsSample({super.key, required this.spotPhotos});

  final List&lt;String&gt; spotPhotos;

  @override
  Widget build(BuildContext context) {
    final currentIndex = useState(0);
    final photos = spotPhotos.where((url) =&gt; url.isNotEmpty).toList();

    // ÁîªÂÉè„Åå1Êûö„ÇÇ„Å™„ÅÑÂ†¥Âêà„ÅÆË°®Á§∫
    if (photos.isEmpty) {
      return const SizedBox(
        width: 160,
        height: 160,
        child: ColoredBox(
          color: ColorToken.bgDark,
          child: Center(
            child: Icon(
              Icons.hide\_image\_outlined,
              size: 48,
              color: ColorToken.text,
            ),
          ),
        ),
      );
    }

    return Column(
      mainAxisSize: MainAxisSize.min,
      children: \[
        CarouselSlider(
          items: photos.map((photoUrl) {
            return Builder(
              builder: (BuildContext context) {
                return DecoratedBox(
                  decoration: BoxDecoration(
                    border: Border.all(
                      color: ColorPallet.green500,
                      width: 3,
                    ),
                    borderRadius: BorderRadius.circular(8),
                  ),
                  child: Padding(
                    padding: const EdgeInsets.all(3),
                    child: ClipRRect(
                      borderRadius: BorderRadius.circular(8),
                      child: SizedBox(
                        width: 160,
                        height: 160,
                        child: Image.network(
                          photoUrl,
                          fit: BoxFit.cover,
                          errorBuilder: (context, error, stackTrace) {
                            return const ColoredBox(
                              color: ColorToken.bgDark,
                              child: Icon(
                                Icons.broken\_image\_outlined,
                                size: 96,
                                color: ColorToken.text,
                              ),
                            );
                          },
                        ),
                      ),
                    ),
                  ),
                );
              },
            );
          }).toList(),
          options: CarouselOptions(
            enableInfiniteScroll: photos.length &gt; 1,
            onPageChanged: (index, reason) {
              currentIndex.value = index;
            },
          ),
        ),

        const SizedBox(height: 16),

        Row(
          mainAxisAlignment: MainAxisAlignment.center,
          children: List.generate(photos.length, (index) {
            final isActive = index == currentIndex.value;
            return AnimatedContainer(
              duration: const Duration(milliseconds: 150),
              margin: const EdgeInsets.symmetric(horizontal: 4),
              width: isActive ? 10 : 8,
              height: isActive ? 10 : 8,
              decoration: BoxDecoration(
                color: isActive ? ColorToken.text : ColorToken.border,
                shape: BoxShape.circle,
              ),
            );
          }),
        ),
      \],
    );
  }
}

---
