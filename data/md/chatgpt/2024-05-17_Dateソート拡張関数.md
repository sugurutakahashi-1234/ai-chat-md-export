# Dateã‚½ãƒ¼ãƒˆæ‹¡å¼µé–¢æ•°

æ—¥ä»˜: 2024-05-17

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/05/17 12:21:16*

Dateã®é…åˆ—ã®ã‚½ãƒ¼ãƒˆã«ä»¥ä¸‹ã‚’ä½¿ã†ã¨ã©ã†ãªã‚‹


public extension Sequence {
    func sorted(by keyPath: KeyPath&lt;Element, some Comparable&gt;, order: SortOrder) -&gt; [Element] {
        switch order {
        case .ascending:
            sorted { $0[keyPath: keyPath] &lt; $1[keyPath: keyPath] }
        case .descending:
            sorted { $0[keyPath: keyPath] &gt; $1[keyPath: keyPath] }
        }
    }
}

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/05/17 12:21:25*

ã“ã®æ‹¡å¼µé–¢æ•°ã‚’ä½¿ã†ã¨ã€ä»»æ„ã®è¦ç´ ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒ‡å®šã—ã¦ã€ãã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«åŸºã¥ã„ã¦é…åˆ—ã‚’æ˜‡é †ã¾ãŸã¯é™é †ã«ã‚½ãƒ¼ãƒˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚`Date`ã®é…åˆ—ã®ã‚½ãƒ¼ãƒˆã«ä½¿ã†å ´åˆã®ä¾‹ã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ã€‚

ã¾ãšã€`SortOrder`ã¨ã„ã†enumãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¦ã„ã¾ã™ã€‚ã“ã®enumã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã§ãã¾ã™ï¼š

```swift
enum SortOrder {
    case ascending
    case descending
}
```

æ¬¡ã«ã€`Date`ã®é…åˆ—ã‚’ã‚½ãƒ¼ãƒˆã™ã‚‹ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚ä»¥ä¸‹ã«ã€`MyDateStruct`ã¨ã„ã†æ§‹é€ ä½“ã‚’å®šç¾©ã—ã€ãã®é…åˆ—ã‚’ã‚½ãƒ¼ãƒˆã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚

```swift
import Foundation

struct MyDateStruct {
    let date: Date
}

let date1 = MyDateStruct(date: Date(timeIntervalSince1970: 10000))
let date2 = MyDateStruct(date: Date(timeIntervalSince1970: 5000))
let date3 = MyDateStruct(date: Date(timeIntervalSince1970: 15000))

let datesArray = [date1, date2, date3]

let sortedDatesAscending = datesArray.sorted(by: \.date, order: .ascending)
let sortedDatesDescending = datesArray.sorted(by: \.date, order: .descending)

print("Ascending:")
for dateStruct in sortedDatesAscending {
    print(dateStruct.date)
}

print("Descending:")
for dateStruct in sortedDatesDescending {
    print(dateStruct.date)
}
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€`datesArray`ãŒ`date`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«åŸºã¥ã„ã¦æ˜‡é †ãŠã‚ˆã³é™é †ã«ã‚½ãƒ¼ãƒˆã•ã‚Œã€çµæœãŒã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

ã“ã®æ‹¡å¼µé–¢æ•°ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€é…åˆ—ã®è¦ç´ ãŒæŒã¤ä»»æ„ã®`Comparable`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«åŸºã¥ã„ã¦ç°¡å˜ã«ã‚½ãƒ¼ãƒˆã‚’è¡Œã†ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€`MyDateStruct`ã®ä»–ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚„åˆ¥ã®æ§‹é€ ä½“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«å¯¾ã—ã¦ã‚‚åŒæ§˜ã«ã‚½ãƒ¼ãƒˆã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/05/17 12:21:38*

MyDateStruct ã‚’ä½¿ã‚ãªã„æ–¹æ³•ã¯ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/05/17 12:21:48*

`MyDateStruct` ã‚’ä½¿ã‚ãšã« `Date` ã®é…åˆ—ã‚’ç›´æ¥ã‚½ãƒ¼ãƒˆã™ã‚‹å ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ã«æ‹¡å¼µé–¢æ•°ã‚’ä½¿ã£ã¦ã‚½ãƒ¼ãƒˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```swift
import Foundation

public extension Sequence {
    func sorted(by keyPath: KeyPath<Element, some Comparable>, order: SortOrder) -> [Element] {
        switch order {
        case .ascending:
            return sorted { $0[keyPath: keyPath] < $1[keyPath: keyPath] }
        case .descending:
            return sorted { $0[keyPath: keyPath] > $1[keyPath: keyPath] }
        }
    }
}

enum SortOrder {
    case ascending
    case descending
}

let date1 = Date(timeIntervalSince1970: 10000)
let date2 = Date(timeIntervalSince1970: 5000)
let date3 = Date(timeIntervalSince1970: 15000)

let datesArray = [date1, date2, date3]

let sortedDatesAscending = datesArray.sorted(by: \.self, order: .ascending)
let sortedDatesDescending = datesArray.sorted(by: \.self, order: .descending)

print("Ascending:")
for date in sortedDatesAscending {
    print(date)
}

print("Descending:")
for date in sortedDatesDescending {
    print(date)
}
```

ã“ã®æ–¹æ³•ã§ã¯ã€`Date` ã®é…åˆ—ã‚’ç›´æ¥ã‚½ãƒ¼ãƒˆã—ã¾ã™ã€‚`sorted(by: \.self, order: .ascending)` ã‚„ `sorted(by: \.self, order: .descending)` ã¨ã™ã‚‹ã“ã¨ã§ã€`Date` å‹ãã®ã‚‚ã®ã‚’ `Comparable` ã¨ã—ã¦æ‰±ã„ã€é…åˆ—ã‚’æ˜‡é †ã¾ãŸã¯é™é †ã«ã‚½ãƒ¼ãƒˆã—ã¾ã™ã€‚

ã“ã®ä¾‹ã§ã¯ã€`Date` ã®é…åˆ— `datesArray` ãŒ `sorted(by: \.self, order: .ascending)` ã‚’ä½¿ã£ã¦æ˜‡é †ã«ã€`sorted(by: \.self, order: .descending)` ã‚’ä½¿ã£ã¦é™é †ã«ã‚½ãƒ¼ãƒˆã•ã‚Œã€ãã‚Œãã‚Œã®çµæœãŒã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/05/17 12:22:21*

by: \.self,  ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¼•æ•°ã«è¨­å®šã§ããªã„ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/05/17 12:22:35*

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¼•æ•°ã¨ã—ã¦ `keyPath` ã« `\.self` ã‚’è¨­å®šã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ãŒã€ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã‚’ä½¿ã†ã“ã¨ã§ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® `keyPath` ã‚’æä¾›ã™ã‚‹é–¢æ•°ã‚’è¿½åŠ ã§ãã¾ã™ã€‚å…·ä½“çš„ã«ã¯ã€`keyPath` ã‚’æŒ‡å®šã—ãªã„å ´åˆã« `\.self` ã‚’ä½¿ã†ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®é–¢æ•°ã‚’ä½œæˆã—ã¾ã™ã€‚

ä»¥ä¸‹ã«ãã®å®Ÿè£…ä¾‹ã‚’ç¤ºã—ã¾ã™ï¼š

```swift
import Foundation

public extension Sequence {
    func sorted(by keyPath: KeyPath<Element, some Comparable>, order: SortOrder) -> [Element] {
        switch order {
        case .ascending:
            return sorted { $0[keyPath: keyPath] < $1[keyPath: keyPath] }
        case .descending:
            return sorted { $0[keyPath: keyPath] > $1[keyPath: keyPath] }
        }
    }

    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® keyPath ã‚’ä½¿ç”¨ã™ã‚‹ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰
    func sorted(order: SortOrder) -> [Element] where Element: Comparable {
        switch order {
        case .ascending:
            return sorted { $0 < $1 }
        case .descending:
            return sorted { $0 > $1 }
        }
    }
}

enum SortOrder {
    case ascending
    case descending
}

let date1 = Date(timeIntervalSince1970: 10000)
let date2 = Date(timeIntervalSince1970: 5000)
let date3 = Date(timeIntervalSince1970: 15000)

let datesArray = [date1, date2, date3]

// keyPath ã‚’ä½¿ç”¨ã—ãŸã‚½ãƒ¼ãƒˆ
let sortedDatesAscendingWithKeyPath = datesArray.sorted(by: \.self, order: .ascending)
let sortedDatesDescendingWithKeyPath = datesArray.sorted(by: \.self, order: .descending)

// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® keyPath (self) ã‚’ä½¿ç”¨ã—ãŸã‚½ãƒ¼ãƒˆ
let sortedDatesAscending = datesArray.sorted(order: .ascending)
let sortedDatesDescending = datesArray.sorted(order: .descending)

print("Ascending with keyPath:")
for date in sortedDatesAscendingWithKeyPath {
    print(date)
}

print("Descending with keyPath:")
for date in sortedDatesDescendingWithKeyPath {
    print(date)
}

print("Ascending with default keyPath:")
for date in sortedDatesAscending {
    print(date)
}

print("Descending with default keyPath:")
for date in sortedDatesDescending {
    print(date)
}
```

ã“ã®å®Ÿè£…ã§ã¯ã€`sorted(order:)` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã—ã¦ã€`Element` ãŒ `Comparable` ã«æº–æ‹ ã—ã¦ã„ã‚‹å ´åˆã« `keyPath` ã‚’æŒ‡å®šã›ãšã«ã‚½ãƒ¼ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€`Date` ã®é…åˆ—ã‚’ `keyPath` ã‚’æŒ‡å®šã›ãšã«æ˜‡é †ã¾ãŸã¯é™é †ã«ã‚½ãƒ¼ãƒˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

---
