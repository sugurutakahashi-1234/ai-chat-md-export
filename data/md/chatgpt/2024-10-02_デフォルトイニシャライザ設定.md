# デフォルトイニシャライザ設定

Date: 2024-10-02

---

## 👤 User
*2024-10-02 17:56:53*

デフォルトイニシャライザを設定してほしい

extension LimitedTextField {
    struct Config {
        let limit: Int = 1000
        let tint: Color = .gritPurple100
        let autoResizes: Bool = true
        let allowsExcessTyping: Bool = false
        let progressConfig: ProgressConfig = ProgressConfig()
        let borderConfig: BorderConfig = BorderConfig()
        let keyboardType: UIKeyboardType = .default
    }

    struct ProgressConfig {
        let showsRing: Bool = false
        let showsText: Bool = true
        let alignment: HorizontalAlignment = .trailing
    }

    struct BorderConfig {
        let show: Bool = true
        let radius: CGFloat = 4
        let width: CGFloat = 1
    }
}

---

## 🤖 Assistant
*2024-10-02 17:57:10*

`LimitedTextField.Config`, `ProgressConfig`, and `BorderConfig`にデフォルトのイニシャライザを追加するためには、デフォルト引数をそのままにしてイニシャライザを手動で定義します。次のように書き換えます。

```swift
extension LimitedTextField {
    struct Config {
        let limit: Int
        let tint: Color
        let autoResizes: Bool
        let allowsExcessTyping: Bool
        let progressConfig: ProgressConfig
        let borderConfig: BorderConfig
        let keyboardType: UIKeyboardType

        init(
            limit: Int = 1000,
            tint: Color = .gritPurple100,
            autoResizes: Bool = true,
            allowsExcessTyping: Bool = false,
            progressConfig: ProgressConfig = ProgressConfig(),
            borderConfig: BorderConfig = BorderConfig(),
            keyboardType: UIKeyboardType = .default
        ) {
            self.limit = limit
            self.tint = tint
            self.autoResizes = autoResizes
            self.allowsExcessTyping = allowsExcessTyping
            self.progressConfig = progressConfig
            self.borderConfig = borderConfig
            self.keyboardType = keyboardType
        }
    }

    struct ProgressConfig {
        let showsRing: Bool
        let showsText: Bool
        let alignment: HorizontalAlignment

        init(
            showsRing: Bool = false,
            showsText: Bool = true,
            alignment: HorizontalAlignment = .trailing
        ) {
            self.showsRing = showsRing
            self.showsText = showsText
            self.alignment = alignment
        }
    }

    struct BorderConfig {
        let show: Bool
        let radius: CGFloat
        let width: CGFloat

        init(
            show: Bool = true,
            radius: CGFloat = 4,
            width: CGFloat = 1
        ) {
            self.show = show
            self.radius = radius
            self.width = width
        }
    }
}
```

これにより、デフォルト値を保持したまま、明示的に構造体のイニシャライザを使用することができます。

---

## 👤 User
*2024-10-02 17:57:23*

initの中身を改行して欲しくない

---

## 🤖 Assistant
*2024-10-02 17:57:34*

次のように改行せずに `init` を定義します。

```swift
extension LimitedTextField {
    struct Config {
        let limit: Int
        let tint: Color
        let autoResizes: Bool
        let allowsExcessTyping: Bool
        let progressConfig: ProgressConfig
        let borderConfig: BorderConfig
        let keyboardType: UIKeyboardType

        init(limit: Int = 1000, tint: Color = .gritPurple100, autoResizes: Bool = true, allowsExcessTyping: Bool = false, progressConfig: ProgressConfig = ProgressConfig(), borderConfig: BorderConfig = BorderConfig(), keyboardType: UIKeyboardType = .default) {
            self.limit = limit
            self.tint = tint
            self.autoResizes = autoResizes
            self.allowsExcessTyping = allowsExcessTyping
            self.progressConfig = progressConfig
            self.borderConfig = borderConfig
            self.keyboardType = keyboardType
        }
    }

    struct ProgressConfig {
        let showsRing: Bool
        let showsText: Bool
        let alignment: HorizontalAlignment

        init(showsRing: Bool = false, showsText: Bool = true, alignment: HorizontalAlignment = .trailing) {
            self.showsRing = showsRing
            self.showsText = showsText
            self.alignment = alignment
        }
    }

    struct BorderConfig {
        let show: Bool
        let radius: CGFloat
        let width: CGFloat

        init(show: Bool = true, radius: CGFloat = 4, width: CGFloat = 1) {
            self.show = show
            self.radius = radius
            self.width = width
        }
    }
}
```

これで、すべての `init` の内容が1行で定義されています。

---
