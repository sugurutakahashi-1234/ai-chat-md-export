# AV Playerの現在の再生時間

日付: 2023-06-28

---

## 👤 ユーザー
*2023/06/29 07:25:29*

Swiftでav playerのcurrentTime().secondsの取得方法

---

## 🤖 アシスタント
*2023/06/29 07:25:53*

AVPlayerで動画やオーディオの再生時間を取得するには、`AVPlayer` の `currentTime` メソッドを使用します。これは `CMTime` 型を返しますが、これを秒数で取得するには `seconds` プロパティを使用します。

以下は、それをSwiftでどのように実装するかのサンプルコードです:

```swift
import AVFoundation

// AVPlayerのインスタンスを作成
let player = AVPlayer()

// ...

// 現在の再生時間（秒）を取得
let currentSeconds = player.currentTime().seconds
print("Current time: \(currentSeconds) seconds")
```

このコードでは、`player` は `AVPlayer` のインスタンスを参照します。再生中のメディアの現在の再生時間を秒で取得するには、`player.currentTime().seconds`を呼び出します。

ただし、`currentTime().seconds` は `Double.nan` を返す可能性があります。これはメディアのタイムラインが不定または無限である場合、またはプレーヤーがまだメディアアイテムをロードしていない場合などです。この値を使用する前に適切なエラーチェックを行うことが重要です。

---
