# Flutter カラーテーマ設定

Date: 2024-12-19

---

## 👤 User
*2024-12-19 15:13:49*

Flutter カラーテーマを実装したい

---

## 🤖 Assistant
*2024-12-19 15:14:01*

Flutterでカラーテーマを実装するためには、`ThemeData`を使用してアプリのテーマを定義します。以下の手順に従ってカラーテーマを設定できます。

---

### **1. 基本的なテーマ設定**
`MaterialApp`の`theme`プロパティを使って、アプリのデフォルトテーマを定義します。

```dart
import 'package:flutter/material.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'カラーテーマ',
      theme: ThemeData(
        primarySwatch: Colors.blue, // 基本テーマ色
        accentColor: Colors.orange, // アクセントカラー
        scaffoldBackgroundColor: Colors.white, // 背景色
        textTheme: TextTheme(
          bodyText1: TextStyle(color: Colors.black), // テキストカラー
        ),
      ),
      home: HomePage(),
    );
  }
}

class HomePage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('カラーテーマの実装'),
      ),
      body: Center(
        child: Text('テーマが適用されています！'),
      ),
    );
  }
}
```

---

### **2. ダークテーマの設定**
`darkTheme`プロパティを使って、ダークモード用のテーマを追加できます。`themeMode`でライトモード・ダークモードを切り替えます。

```dart
import 'package:flutter/material.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'カラーテーマ',
      theme: ThemeData.light(), // ライトテーマ
      darkTheme: ThemeData.dark(), // ダークテーマ
      themeMode: ThemeMode.system, // システム設定に従う
      home: HomePage(),
    );
  }
}

class HomePage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('ダークテーマ対応'),
      ),
      body: Center(
        child: Text('システムのテーマに応じて変更されます！'),
      ),
    );
  }
}
```

---

### **3. カスタムテーマの作成**
テーマをカスタマイズする場合、`ThemeData`に詳細な設定を追加します。

```dart
ThemeData customLightTheme = ThemeData(
  brightness: Brightness.light,
  primaryColor: Colors.teal,
  accentColor: Colors.amber,
  appBarTheme: AppBarTheme(
    color: Colors.teal,
    iconTheme: IconThemeData(color: Colors.white),
  ),
  buttonTheme: ButtonThemeData(
    buttonColor: Colors.teal,
    textTheme: ButtonTextTheme.primary,
  ),
  textTheme: TextTheme(
    headline1: TextStyle(color: Colors.teal, fontSize: 24),
    bodyText1: TextStyle(color: Colors.black87),
  ),
);

ThemeData customDarkTheme = ThemeData(
  brightness: Brightness.dark,
  primaryColor: Colors.teal[700],
  accentColor: Colors.amber[700],
  scaffoldBackgroundColor: Colors.grey[900],
  appBarTheme: AppBarTheme(
    color: Colors.teal[700],
    iconTheme: IconThemeData(color: Colors.white),
  ),
  textTheme: TextTheme(
    headline1: TextStyle(color: Colors.amber, fontSize: 24),
    bodyText1: TextStyle(color: Colors.white),
  ),
);
```

`MaterialApp`にカスタムテーマを適用します：

```dart
MaterialApp(
  theme: customLightTheme,
  darkTheme: customDarkTheme,
  themeMode: ThemeMode.system,
  home: HomePage(),
);
```

---

### **4. テーマの動的変更**
テーマを動的に切り替えるには、`Provider`や`ChangeNotifier`を使います。

#### **例: `Provider`でテーマを切り替える**
```dart
import 'package:flutter/material.dart';
import 'package:provider/provider.dart';

void main() {
  runApp(
    ChangeNotifierProvider(
      create: (_) => ThemeProvider(),
      child: MyApp(),
    ),
  );
}

class ThemeProvider extends ChangeNotifier {
  ThemeMode themeMode = ThemeMode.light;

  void toggleTheme() {
    themeMode = themeMode == ThemeMode.light ? ThemeMode.dark : ThemeMode.light;
    notifyListeners();
  }
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final themeProvider = Provider.of<ThemeProvider>(context);

    return MaterialApp(
      title: '動的テーマ変更',
      theme: ThemeData.light(),
      darkTheme: ThemeData.dark(),
      themeMode: themeProvider.themeMode,
      home: HomePage(),
    );
  }
}

class HomePage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final themeProvider = Provider.of<ThemeProvider>(context);

    return Scaffold(
      appBar: AppBar(
        title: Text('動的テーマ変更'),
      ),
      body: Center(
        child: ElevatedButton(
          onPressed: themeProvider.toggleTheme,
          child: Text('テーマを切り替える'),
        ),
      ),
    );
  }
}
```

---

これらを活用することで、アプリのカラーテーマを柔軟にカスタマイズ・変更できます！

---

## 👤 User
*2024-12-19 15:15:34*

デザイナーから以下を連携されていて、ColorTokenを用いて、Themaを定義してほしい。

import 'package:snpit_guild_app/presentation/design_token/color_pallet.dart';

class ColorToken {
  // Primary
  static const primary = ColorPallet.green400;
  static const primaryDark = ColorPallet.green500;
  static const primaryLight = ColorPallet.green200;

  // Secondary
  static const secondary = ColorPallet.gray500;
  static const secondaryDark = ColorPallet.gray900;
  static const secondaryLight = ColorPallet.gray200;

  // Error
  static const error = ColorPallet.red400;
  static const errorDark = ColorPallet.red700;
  static const errorLight = ColorPallet.red100;

  // Background
  static const bg = ColorPallet.gray700;
  static const bgDark = ColorPallet.gray900;
  static const bgLight = ColorPallet.gray600;

  // Text
  static const text = ColorPallet.white;
  static const textDark = ColorPallet.gray200;
  static const textLink = ColorPallet.gray400;

  // Border
  static const border = ColorPallet.gray300;
  static const borderDark = ColorPallet.gray400;

  // Rarity
  static const rarityCommon = ColorPallet.rarity900;
  static const rarityUncommon = ColorPallet.rarity800;
  static const rarityRare = ColorPallet.rarity700;
  static const rarityEpic = ColorPallet.rarity600;
}

---

## 🤖 Assistant
*2024-12-19 15:15:52*

以下は、デザイナーから提供された `ColorToken` を使用して Flutter のテーマ (`ThemeData`) を定義するコード例です。`ColorToken` を基にカスタムテーマを作成し、ライトテーマとダークテーマの両方をサポートします。

---

### **1. カスタムテーマの定義**

```dart
import 'package:flutter/material.dart';
import 'package:snpit_guild_app/presentation/design_token/color_pallet.dart';
import 'package:snpit_guild_app/presentation/design_token/color_token.dart';

class AppTheme {
  // ライトテーマ
  static ThemeData lightTheme = ThemeData(
    brightness: Brightness.light,
    primaryColor: ColorToken.primary,
    scaffoldBackgroundColor: ColorToken.bgLight,
    appBarTheme: AppBarTheme(
      backgroundColor: ColorToken.primaryLight,
      titleTextStyle: TextStyle(color: ColorToken.text, fontSize: 20),
      iconTheme: IconThemeData(color: ColorToken.text),
    ),
    textTheme: TextTheme(
      bodyText1: TextStyle(color: ColorToken.textDark),
      bodyText2: TextStyle(color: ColorToken.textDark),
      headline1: TextStyle(color: ColorToken.text, fontSize: 24),
      headline2: TextStyle(color: ColorToken.text, fontSize: 20),
    ),
    buttonTheme: ButtonThemeData(
      buttonColor: ColorToken.primary,
      textTheme: ButtonTextTheme.primary,
    ),
    colorScheme: ColorScheme.light(
      primary: ColorToken.primary,
      onPrimary: ColorToken.text,
      secondary: ColorToken.secondary,
      error: ColorToken.error,
      background: ColorToken.bgLight,
      surface: ColorToken.bg,
      onSurface: ColorToken.textDark,
    ),
  );

  // ダークテーマ
  static ThemeData darkTheme = ThemeData(
    brightness: Brightness.dark,
    primaryColor: ColorToken.primaryDark,
    scaffoldBackgroundColor: ColorToken.bgDark,
    appBarTheme: AppBarTheme(
      backgroundColor: ColorToken.primaryDark,
      titleTextStyle: TextStyle(color: ColorToken.text, fontSize: 20),
      iconTheme: IconThemeData(color: ColorToken.text),
    ),
    textTheme: TextTheme(
      bodyText1: TextStyle(color: ColorToken.text),
      bodyText2: TextStyle(color: ColorToken.text),
      headline1: TextStyle(color: ColorToken.text, fontSize: 24),
      headline2: TextStyle(color: ColorToken.text, fontSize: 20),
    ),
    buttonTheme: ButtonThemeData(
      buttonColor: ColorToken.primaryDark,
      textTheme: ButtonTextTheme.primary,
    ),
    colorScheme: ColorScheme.dark(
      primary: ColorToken.primaryDark,
      onPrimary: ColorToken.text,
      secondary: ColorToken.secondaryDark,
      error: ColorToken.errorDark,
      background: ColorToken.bgDark,
      surface: ColorToken.bg,
      onSurface: ColorToken.textLight,
    ),
  );
}
```

---

### **2. アプリ全体へのテーマの適用**

上記のテーマを `MaterialApp` に適用します。

```dart
import 'package:flutter/material.dart';
import 'app_theme.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Color Token Demo',
      theme: AppTheme.lightTheme,
      darkTheme: AppTheme.darkTheme,
      themeMode: ThemeMode.system, // システムのテーマ設定に従う
      home: HomePage(),
    );
  }
}

class HomePage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('ColorTokenを用いたテーマ'),
      ),
      body: Center(
        child: ElevatedButton(
          onPressed: () {},
          child: Text('ボタン'),
        ),
      ),
    );
  }
}
```

---

### **3. ThemeDataの拡張性を向上**

`TextStyle` や `ButtonStyle` などを統一的にカスタマイズする場合、`ThemeData` にカスタムスタイルを追加する方法もおすすめです。

---

このように `ColorToken` を利用すれば、デザイナーから提供されたカラーパレットに基づいて統一感のあるテーマを簡単に構築できます。

---

## 👤 User
*2024-12-19 15:16:21*

テーマはライトとダークで別れていないんだ。

---

## 🤖 Assistant
*2024-12-19 15:16:49*

ライトとダークでテーマを分けない場合、1つの統一されたテーマを作成すれば良いです。以下は、デザイナー提供の `ColorToken` を使用して単一のテーマを定義する例です。

---

### **1. 単一テーマの定義**

```dart
import 'package:flutter/material.dart';
import 'package:snpit_guild_app/presentation/design_token/color_token.dart';

class AppTheme {
  static ThemeData theme = ThemeData(
    brightness: Brightness.light, // ここは統一テーマの明るさに応じて設定
    primaryColor: ColorToken.primary,
    scaffoldBackgroundColor: ColorToken.bg,
    appBarTheme: AppBarTheme(
      backgroundColor: ColorToken.primary,
      titleTextStyle: TextStyle(color: ColorToken.text, fontSize: 20),
      iconTheme: IconThemeData(color: ColorToken.text),
    ),
    textTheme: TextTheme(
      bodyText1: TextStyle(color: ColorToken.textDark, fontSize: 16),
      bodyText2: TextStyle(color: ColorToken.textDark, fontSize: 14),
      headline1: TextStyle(color: ColorToken.text, fontSize: 24),
      headline2: TextStyle(color: ColorToken.text, fontSize: 20),
    ),
    buttonTheme: ButtonThemeData(
      buttonColor: ColorToken.primary,
      textTheme: ButtonTextTheme.primary,
    ),
    elevatedButtonTheme: ElevatedButtonThemeData(
      style: ElevatedButton.styleFrom(
        primary: ColorToken.primary,
        onPrimary: ColorToken.text,
        shape: RoundedRectangleBorder(
          borderRadius: BorderRadius.circular(8),
        ),
      ),
    ),
    outlinedButtonTheme: OutlinedButtonThemeData(
      style: OutlinedButton.styleFrom(
        primary: ColorToken.primary,
        side: BorderSide(color: ColorToken.border),
      ),
    ),
    inputDecorationTheme: InputDecorationTheme(
      filled: true,
      fillColor: ColorToken.bgLight,
      border: OutlineInputBorder(
        borderRadius: BorderRadius.circular(8),
        borderSide: BorderSide(color: ColorToken.border),
      ),
      enabledBorder: OutlineInputBorder(
        borderSide: BorderSide(color: ColorToken.border),
      ),
      focusedBorder: OutlineInputBorder(
        borderSide: BorderSide(color: ColorToken.primary),
      ),
      hintStyle: TextStyle(color: ColorToken.textLink),
    ),
    colorScheme: ColorScheme(
      primary: ColorToken.primary,
      primaryVariant: ColorToken.primaryDark,
      secondary: ColorToken.secondary,
      secondaryVariant: ColorToken.secondaryDark,
      surface: ColorToken.bgLight,
      background: ColorToken.bg,
      error: ColorToken.error,
      onPrimary: ColorToken.text,
      onSecondary: ColorToken.textDark,
      onSurface: ColorToken.textDark,
      onBackground: ColorToken.text,
      onError: ColorToken.text,
      brightness: Brightness.light,
    ),
  );
}
```

---

### **2. テーマをアプリ全体に適用**

```dart
import 'package:flutter/material.dart';
import 'app_theme.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'ColorToken Demo',
      theme: AppTheme.theme,
      home: HomePage(),
    );
  }
}

class HomePage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('ColorTokenを用いたテーマ'),
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            ElevatedButton(
              onPressed: () {},
              child: Text('ElevatedButton'),
            ),
            SizedBox(height: 16),
            OutlinedButton(
              onPressed: () {},
              child: Text('OutlinedButton'),
            ),
            SizedBox(height: 16),
            TextField(
              decoration: InputDecoration(
                hintText: '入力してください',
              ),
            ),
          ],
        ),
      ),
    );
  }
}
```

---

### **3. カスタマイズ例**
#### ボタンやテキストのスタイルをさらに統一
`ThemeData` をカスタマイズすることで、ボタンやテキストなどのスタイルを一貫して管理できます。

```dart
elevatedButtonTheme: ElevatedButtonThemeData(
  style: ButtonStyle(
    backgroundColor: MaterialStateProperty.all(ColorToken.primary),
    foregroundColor: MaterialStateProperty.all(ColorToken.text),
    shape: MaterialStateProperty.all(
      RoundedRectangleBorder(borderRadius: BorderRadius.circular(8)),
    ),
  ),
),
```

---

### **ポイント**
- **分離された色管理**: `ColorToken` に基づいてすべての色を一元管理することで、デザイナーとの整合性を維持。
- **メンテナンス性**: 将来的にテーマを変更する場合も、`ColorToken` を修正するだけで反映可能。
- **拡張性**: 必要に応じて、`TextButtonTheme` や `SwitchTheme` なども同様に追加できます。

これで、統一されたカラーテーマを効率的にアプリ全体へ適用できます！

---

## 👤 User
*2024-12-19 15:17:03*

最低限でいいんだ。

---

## 🤖 Assistant
*2024-12-19 15:17:17*

最低限のカラーテーマ定義を行う場合、`ColorToken` を使用してシンプルに `ThemeData` を設定するコードは以下の通りです。

---

### **1. 最低限のカラーテーマ**

```dart
import 'package:flutter/material.dart';
import 'package:snpit_guild_app/presentation/design_token/color_token.dart';

class AppTheme {
  static ThemeData theme = ThemeData(
    primaryColor: ColorToken.primary,
    scaffoldBackgroundColor: ColorToken.bg,
    appBarTheme: AppBarTheme(
      backgroundColor: ColorToken.primary,
      titleTextStyle: TextStyle(color: ColorToken.text, fontSize: 20),
    ),
    textTheme: TextTheme(
      bodyText1: TextStyle(color: ColorToken.text),
      bodyText2: TextStyle(color: ColorToken.textDark),
    ),
    elevatedButtonTheme: ElevatedButtonThemeData(
      style: ElevatedButton.styleFrom(
        primary: ColorToken.primary,
        onPrimary: ColorToken.text,
      ),
    ),
    colorScheme: ColorScheme.light(
      primary: ColorToken.primary,
      onPrimary: ColorToken.text,
      background: ColorToken.bg,
      surface: ColorToken.bgLight,
      onSurface: ColorToken.textDark,
    ),
  );
}
```

---

### **2. アプリへの適用**

```dart
import 'package:flutter/material.dart';
import 'app_theme.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'ColorToken Demo',
      theme: AppTheme.theme,
      home: HomePage(),
    );
  }
}

class HomePage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('最低限のテーマ'),
      ),
      body: Center(
        child: ElevatedButton(
          onPressed: () {},
          child: Text('ボタン'),
        ),
      ),
    );
  }
}
```

---

### **最低限のポイント**
- **`primaryColor`**: メインカラーを指定。
- **`scaffoldBackgroundColor`**: 背景色を指定。
- **`AppBarTheme`**: タイトルやアイコンのスタイル。
- **`TextTheme`**: テキストの基本的なスタイル。
- **`ElevatedButtonTheme`**: ボタンのスタイル。

これだけで統一感のある最低限のテーマを適用できます。必要に応じて追加してください！

---

## 👤 User
*2024-12-19 15:23:33*

import 'package:flutter/material.dart';
import 'package:snpit_guild_app/presentation/router/router.dart';

class App extends StatelessWidget {
  const App({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp.router(
      routerDelegate: router.routerDelegate,
      routeInformationParser: router.routeInformationParser,
      routeInformationProvider: router.routeInformationProvider,
    );
  }
}

こうなっている

---

## 🤖 Assistant
*2024-12-19 15:23:50*

このコードでは、`MaterialApp.router` を使用してルーティングを構築しています。この場合でも、最低限のテーマを適用することが可能です。以下に、現在のコードにカラーテーマを統合する方法を示します。

---

### **1. テーマを定義**
まず、既存の `ColorToken` を活用して、シンプルなテーマを作成します。

```dart
import 'package:flutter/material.dart';
import 'package:snpit_guild_app/presentation/design_token/color_token.dart';

class AppTheme {
  static ThemeData theme = ThemeData(
    primaryColor: ColorToken.primary,
    scaffoldBackgroundColor: ColorToken.bg,
    appBarTheme: AppBarTheme(
      backgroundColor: ColorToken.primary,
      titleTextStyle: TextStyle(color: ColorToken.text, fontSize: 20),
    ),
    textTheme: TextTheme(
      bodyText1: TextStyle(color: ColorToken.text),
      bodyText2: TextStyle(color: ColorToken.textDark),
    ),
    elevatedButtonTheme: ElevatedButtonThemeData(
      style: ElevatedButton.styleFrom(
        primary: ColorToken.primary,
        onPrimary: ColorToken.text,
      ),
    ),
  );
}
```

---

### **2. アプリにテーマを適用**
`MaterialApp.router` に `theme` プロパティを追加します。

```dart
import 'package:flutter/material.dart';
import 'package:snpit_guild_app/presentation/router/router.dart';
import 'package:snpit_guild_app/presentation/design_token/app_theme.dart';

class App extends StatelessWidget {
  const App({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp.router(
      theme: AppTheme.theme, // テーマを適用
      routerDelegate: router.routerDelegate,
      routeInformationParser: router.routeInformationParser,
      routeInformationProvider: router.routeInformationProvider,
    );
  }
}
```

---

### **3. 結果**
これにより、アプリ全体に `AppTheme.theme` が適用され、最低限のテーマ設定が有効になります。`ColorToken` に基づいた統一感のあるデザインを実現しつつ、`MaterialApp.router` のルーティング機能をそのまま利用できます。

---

### **補足**
- 必要に応じて `darkTheme` や `themeMode` プロパティを追加することで、将来的にダークテーマをサポートできます。
- `AppTheme` を簡潔に保つことで、メンテナンス性も向上します。

---
