# ãƒ­ã‚°å‹ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹

æ—¥ä»˜: 2024-03-08

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/3/8 15:18:29*

ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ­ã‚°ã®å‹ã‚’æŒãŸã›ã¦ã„ã‚‹ãŒã€ãã®å‹ã‚’æŒã¤å€¤ã‚’æŒãŸã›ãŸã„ã€‚ã©ã†ã™ã‚Œã°è‰¯ã„ã‹ï¼Ÿ

public enum LogEvent {
    public struct DebugLog: LoggableEntity {
        public let message: String

        public init(message: String) {
            self.message = message
        }
    }

    public struct InitInstance: LoggableEntity {
        public let instanceName: String

        public init(instanceName: String) {
            self.instanceName = instanceName
        }
    }

    public struct DeinitInstance: LoggableEntity {
        public let instanceName: String

        public init(instanceName: String) {
            self.instanceName = instanceName
        }
    }

    public struct AppearScreen: LoggableEntity {
        public let screenName: String

        public init(screenName: String) {
            self.screenName = screenName
        }
    }

    public struct DisappearScreen: LoggableEntity {
        public let screenName: String

        public init(screenName: String) {
            self.screenName = screenName
        }
    }
}

public enum LogEventType {
    case debug
    case `init`
    case `deinit`
    case appearScreen
    case disappearScreen
}

public extension LogEventType {
    var logEntityType: any LoggableEntity.Type {
        switch self {
        case .debug:
            LogEvent.DebugLog.self
        case .`init`:
            LogEvent.InitInstance.self
        case .deinit:
            LogEvent.DeinitInstance.self
        case .appearScreen:
            LogEvent.AppearScreen.self
        case .disappearScreen:
            LogEvent.DisappearScreen.self
        }
    }
}

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/3/8 15:19:12*

ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’åŸºã«ã€ç‰¹å®šã®å‹ã‚’æŒã¤ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã®å€¤ã‚’ç”Ÿæˆã—ã€ãã®å‹ã«åŸºã¥ã„ã¦æ“ä½œã‚’è¡Œã„ãŸã„å ´åˆã€ã¾ãšã¯ãã‚Œãã‚Œã®ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æ¬¡ã«ã€ã“ã‚Œã‚‰ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã€å¿…è¦ã«å¿œã˜ã¦å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚

### ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç”Ÿæˆ

`LogEvent` å†…ã®ãã‚Œãã‚Œã®ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ï¼ˆä¾‹ï¼š`DebugLog`ã€`InitInstance` ãªã©ï¼‰ã«ã¯ã€åˆæœŸåŒ–ãƒ¡ã‚½ãƒƒãƒ‰ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚’ä½¿ç”¨ã—ã¦ã€å¯¾å¿œã™ã‚‹ãƒ­ã‚°ã‚¤ãƒ™ãƒ³ãƒˆã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã§ãã¾ã™ã€‚ä¾‹ãˆã°:

```swift
let debugLog = LogEvent.DebugLog(message: "This is a debug message")
let initInstance = LogEvent.InitInstance(instanceName: "MyViewController")
```

### ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹

ç”Ÿæˆã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ãŸã‚Šã€ä»–ã®å‡¦ç†ã‚’å®Ÿè¡Œã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã—ã‹ã—ã€ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€`LoggableEntity` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚„ã€ã“ã‚Œã‚’ä½¿ç”¨ã—ã¦ä½•ã‚’ã™ã‚‹ã‹ï¼ˆä¾‹ãˆã°ã€ãƒ­ã‚°ã‚’å‡ºåŠ›ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ãªã©ï¼‰ã®å®Ÿè£…ãŒç¤ºã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚`LoggableEntity` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«ã¯ã€ãƒ­ã‚°å‡ºåŠ›ã«é–¢é€£ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå«ã¾ã‚Œã‚‹ã“ã¨ãŒæƒ³å®šã•ã‚Œã¾ã™ã€‚ä»¥ä¸‹ã¯ã€ã“ã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«ãƒ­ã‚°å‡ºåŠ›æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹ç°¡å˜ãªä¾‹ã§ã™ã€‚

### LoggableEntity ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«æ©Ÿèƒ½ã‚’è¿½åŠ 

`LoggableEntity` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒæƒ³å®šã•ã‚Œã¾ã™ã€‚ã“ã“ã§ã¯ã€ãã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®å®Ÿè£…ãŒç¤ºã•ã‚Œã¦ã„ãªã„ãŸã‚ã€ç–‘ä¼¼çš„ãªã‚³ãƒ¼ãƒ‰ã‚’ä¾‹ã¨ã—ã¦æç¤ºã—ã¾ã™ã€‚

```swift
protocol LoggableEntity {
    func logEvent()
}

extension LogEvent.DebugLog: LoggableEntity {
    func logEvent() {
        print("Debug Log: \(message)")
    }
}

// ä»–ã® LogEvent æ§‹é€ ä½“ã«å¯¾ã—ã¦ã‚‚åŒæ§˜ã«å®Ÿè£…ã—ã¾ã™...
```

### ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ“ä½œã™ã‚‹

å„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å¯¾ã—ã¦ `logEvent` ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆã‚ã‚‹ã„ã¯ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ä»»æ„ã®ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰ã‚’å‘¼ã³å‡ºã—ã¦ã€å®Ÿéš›ã®å‡¦ç†ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

```swift
debugLog.logEvent()
initInstance.logEvent()
// ä»–ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å¯¾ã—ã¦ã‚‚åŒæ§˜ã«å‡¦ç†ã‚’è¡Œã†
```

### çµè«–

ã“ã®æ–¹æ³•ã§ã¯ã€`LogEvent` ã®å„ã‚µãƒ–ã‚¿ã‚¤ãƒ—ã«å¯¾ã—ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã—ã€ãã‚Œã‚‰ã‚’ `LoggableEntity` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’é€šã˜ã¦æ“ä½œã™ã‚‹ã“ã¨ã§ã€æŸ”è»Ÿã«ãƒ­ã‚°å‡ºåŠ›ãªã©ã®å‡¦ç†ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚ãŸã ã—ã€å…·ä½“çš„ãªå®Ÿè£…ï¼ˆä¾‹ï¼š`LoggableEntity` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®å®Ÿè£…ï¼‰ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¦ä»¶ã«å¿œã˜ã¦è‡ªç”±ã«èª¿æ•´ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚

---
