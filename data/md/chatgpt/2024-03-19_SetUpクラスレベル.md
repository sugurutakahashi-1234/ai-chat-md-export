# SetUpクラスレベル

日付: 2024-03-19

---

## 👤 ユーザー
*2024/3/20 0:23:38*

XCTestCaseで同じclass内にあるテストの前に一度だけ実行してほしい処理を書きたい

---

## 🤖 アシスタント
*2024/3/20 0:24:38*

`XCTestCase`を使用している際に、同じクラス内のテストが実行される前に一度だけ特定の処理を行いたい場合は、`setUp()`と`tearDown()`メソッドを活用するのが一般的です。ただし、これらのメソッドはテストメソッドの実行前後に毎回呼ばれます。クラスレベルで一度だけ実行したい処理がある場合、`class func setUp()`と`class func tearDown()`を使うことで実現できます。これらはクラス全体でテストケースが実行される前後に一度ずつのみ呼び出されます。

こちらがその基本的な使い方です：

```swift
import XCTest

class YourTestClass: XCTestCase {
    // このクラスの全テストケースが実行される前に一度だけ呼び出される
    override class func setUp() {
        super.setUp()
        // ここにセットアップしたい処理を書く
        print("クラスレベルのセットアップ")
    }
    
    // 各テストメソッドの実行前に呼び出される
    override func setUpWithError() throws {
        try super.setUpWithError()
        // 各テストケースの前に実行したい処理をここに書く
    }

    // 各テストメソッドの実行後に呼び出される
    override func tearDownWithError() throws {
        // 各テストケースの後に実行したい処理をここに書く
        try super.tearDownWithError()
    }
    
    // このクラスの全テストケースが実行された後に一度だけ呼び出される
    override class func tearDown() {
        // ここにクリーンアップしたい処理を書く
        print("クラスレベルのクリーンアップ")
        super.tearDown()
    }

    func testExample() {
        // ここにテストケースを書く
        XCTAssertTrue(true)
    }
}
```

この例では、`setUp()`と`tearDown()`メソッドがクラスレベル（`class func`として宣言）で実装されており、テストクラス内の全テストメソッドが実行される前後に一度だけ処理が行われます。`setUpWithError()`と`tearDownWithError()`は、各テストメソッドの実行前後に毎回呼び出されます。これにより、クラス全体にわたる初期化や後片付けを効率的に管理できます。

---
