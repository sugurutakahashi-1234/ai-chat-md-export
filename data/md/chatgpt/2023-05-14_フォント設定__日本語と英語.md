# フォント設定: 日本語と英語

日付: 2023-05-14

---

## 👤 ユーザー
*2023/5/14 18:43:20*

SwiftUIのタイポグラフィーの設定について、日本語リソースはHiragino Sansで英語はArial で表示したいのだけどそのようなことってできますか？

---

## 🤖 アシスタント
*2023/5/14 18:44:43*

はい、それができます。SwiftUIで異なる言語リソースを使用して、日本語のテキストにはHiragino Sans、英語のテキストにはArialフォントを適用することができます。

以下の方法でそれを実現できます。

1. プロジェクトの`Info.plist`ファイルに、各言語ごとのカスタムフォントを追加します。
2. テキスト要素にフォントを適用します。

まず、`Info.plist`ファイルにカスタムフォントを追加する手順です。

1. プロジェクトの`Info.plist`ファイルを開きます。
2. 新しいキーを追加し、キー名を`UIAppFonts`とします。型は`Array`にします。
3. `UIAppFonts`の配列に、カスタムフォントファイルのファイル名を追加します。拡張子を含めてください。たとえば、`HiraginoSans-W6.otf`と`Arial.ttf`を追加します。

次に、SwiftUIのテキスト要素にフォントを適用します。アプリの言語設定に基づいて、適切なフォントを選択するために、`Environment`プロパティの`locale`を使用します。

```swift
import SwiftUI

struct ContentView: View {
    @Environment(\.locale) var locale

    var body: some View {
        Text("Hello, World!")
            .font(locale.identifier.starts(with: "ja") ? .custom("Hiragino Sans W6", size: 20) : .custom("Arial", size: 20))
    }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        ContentView()
    }
}
```

このコードでは、`locale`の`identifier`が"ja"で始まるかどうかをチェックして、日本語の場合は`Hiragino Sans W6`フォントを、そうでない場合は`Arial`フォントを適用します。この方法で、日本語リソースにはHiragino Sans、英語リソースにはArialフォントが適用されます。

---

## 👤 ユーザー
*2023/5/14 18:45:08*

HiraginoSans-W6.otf とか Arial.ttf は自分で用意しないといけないの？

---

## 🤖 アシスタント
*2023/5/14 18:46:10*

通常、フォントファイルはアプリにバンドルされるため、自分で用意する必要があります。ただし、Hiragino SansとArialは、iOSおよびmacOSにデフォルトでインストールされているフォントですので、フォントファイルを追加する必要はありません。

`Info.plist`の`UIAppFonts`にフォントファイルを追加する手順は、カスタムフォントの場合に適用されます。デフォルトでインストールされているHiragino SansとArialを使用する場合は、この手順をスキップできます。

ただし、SwiftUIのテキスト要素にフォントを適用する際には、適切なフォント名を指定することが重要です。以下のコードは、Hiragino SansとArialを適用する方法を示しています。

```swift
import SwiftUI

struct ContentView: View {
    @Environment(\.locale) var locale

    var body: some View {
        Text("Hello, World!")
            .font(locale.identifier.starts(with: "ja") ? .custom("HiraginoSans-W6", size: 20) : .custom("ArialMT", size: 20))
    }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        ContentView()
    }
}
```

このコードでは、`HiraginoSans-W6`および`ArialMT`をフォント名として使用しています。これらのフォント名は、iOSおよびmacOSで利用可能なものです。`size`パラメータを調整することで、テキストのフォントサイズを変更できます。

---

## 👤 ユーザー
*2023/5/14 18:46:52*

デザイナーがタイポグラフィーについて、デザインシステムとして、各フォントの定義をしてくれているんだけど、それをどのようにコードに起こせばいいかわからない

---

## 🤖 アシスタント
*2023/5/14 18:48:47*

デザインシステムに基づいたタイポグラフィをコードに落とし込むには、SwiftUIでカスタムスタイルとビューモディファイアを使用して、各フォントスタイルを定義します。以下に、デザインシステムに基づいたタイポグラフィをSwiftUIで実装する方法を説明します。

1. `FontStyle`という名前の`struct`を作成し、フォントサイズ、フォント名、およびフォントウェイトを定義します。

```swift
struct FontStyle {
    let size: CGFloat
    let fontName: String
    let weight: Font.Weight
}
```

2. デザインシステムで定義された各フォントスタイルに対応する`FontStyle`のインスタンスを作成します。たとえば、デザインシステムには`title`, `body`, `caption`といったスタイルが定義されているとします。

```swift
extension FontStyle {
    static let title = FontStyle(size: 24, fontName: "HelveticaNeue-Bold", weight: .bold)
    static let body = FontStyle(size: 16, fontName: "HelveticaNeue-Regular", weight: .regular)
    static let caption = FontStyle(size: 12, fontName: "HelveticaNeue-Light", weight: .light)
}
```

3. カスタムビューモディファイア`CustomFont`を作成し、`FontStyle`を使用してフォントを適用します。

```swift
struct CustomFont: ViewModifier {
    let fontStyle: FontStyle

    func body(content: Content) -> some View {
        content
            .font(.custom(fontStyle.fontName, size: fontStyle.size))
            .fontWeight(fontStyle.weight)
    }
}
```

4. カスタムビューモディファイアを適用するための`View`拡張メソッドを作成します。

```swift
extension View {
    func customFont(_ fontStyle: FontStyle) -> some View {
        self.modifier(CustomFont(fontStyle: fontStyle))
    }
}
```

これで、デザインシステムに基づいたタイポグラフィをコードに実装しました。以下のように、`customFont(_:)`メソッドを使用して、テキストにカスタムフォントスタイルを適用できます。

```swift
struct ContentView: View {
    var body: some View {
        VStack {
            Text("Title")
                .customFont(.title)
            Text("Body")
                .customFont(.body)
            Text("Caption")
                .customFont(.caption)
        }
    }
}
```

この方法を使用して、デザインシステムに定義されたタイポグラフィを簡単にコードに起こし、アプリ全体で一貫性のあるスタイルを保つことができます。

---
