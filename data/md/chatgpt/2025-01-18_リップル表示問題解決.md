# リップル表示問題解決

日付: 2025-01-18

---

## 👤 ユーザー
*2025/1/18 23:16:57*

リップルが反映されない

Material(
              color: Colors.transparent,
              child: InkWell(
                onTap: () async {
                  await context.push(Screen.wallet.path);
                },
                borderRadius: BorderRadius.circular(4),
                child: Container(
                  padding: const EdgeInsets.all(6),
                  decoration: BoxDecoration(
                    color: ColorToken.bgLight,
                    borderRadius: BorderRadius.circular(4),
                  ),
                  child: Row(
                    children: \[
                      Image.asset(
                        Assets.images.stpIcon.path,
                        width: 20,
                        height: 20,
                      ),
                      const SizedBox(width: 4),
                      // TODO: \[NFT\] 仮データ
                      const Text(
                        '35.05',
                        style: TextStyle(
                          fontSize: 14,
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                      const SizedBox(width: 2),
                      const Text(
                        'STP',
                        style: TextStyle(fontSize: 10),
                      ),
                    \],
                  ),
                ),
              ),
            ),

---

## 🤖 アシスタント
*2025/1/18 23:17:24*

`InkWell`でリップルエフェクトが表示されない理由は、以下のいずれかの原因が考えられます。

### 1. `InkWell` の `color` が透明である
`Material` ウィジェットの `color` が `Colors.transparent` に設定されています。`InkWell` のリップルエフェクトは、通常 `Material` の背景上に描画されます。そのため、背景が透明だとリップルエフェクトが見えないことがあります。

#### 解決方法
透明背景にリップルを表示するには、`Material` の `type` を `MaterialType.transparency` に変更するか、リップルを表示したい部分の背景に色を指定します。

```dart
Material(
  type: MaterialType.transparency,
  child: InkWell(
    onTap: () async {
      await context.push(Screen.wallet.path);
    },
    borderRadius: BorderRadius.circular(4),
    child: Container(
      padding: const EdgeInsets.all(6),
      decoration: BoxDecoration(
        color: ColorToken.bgLight,
        borderRadius: BorderRadius.circular(4),
      ),
      child: Row(
        children: [
          Image.asset(
            Assets.images.stpIcon.path,
            width: 20,
            height: 20,
          ),
          const SizedBox(width: 4),
          const Text(
            '35.05',
            style: TextStyle(
              fontSize: 14,
              fontWeight: FontWeight.bold,
            ),
          ),
          const SizedBox(width: 2),
          const Text(
            'STP',
            style: TextStyle(fontSize: 10),
          ),
        ],
      ),
    ),
  ),
),
```

---

### 2. `InkWell` と `Container` の組み合わせ
`InkWell` が `Container` に包まれている場合、`Container` の `decoration` が原因でリップルが正しく表示されないことがあります。

#### 解決方法
`Container` を `Ink` に置き換えることで、`InkWell` のリップルエフェクトを正しく表示できます。

```dart
Material(
  color: Colors.transparent,
  child: InkWell(
    onTap: () async {
      await context.push(Screen.wallet.path);
    },
    borderRadius: BorderRadius.circular(4),
    child: Ink(
      padding: const EdgeInsets.all(6),
      decoration: BoxDecoration(
        color: ColorToken.bgLight,
        borderRadius: BorderRadius.circular(4),
      ),
      child: Row(
        children: [
          Image.asset(
            Assets.images.stpIcon.path,
            width: 20,
            height: 20,
          ),
          const SizedBox(width: 4),
          const Text(
            '35.05',
            style: TextStyle(
              fontSize: 14,
              fontWeight: FontWeight.bold,
            ),
          ),
          const SizedBox(width: 2),
          const Text(
            'STP',
            style: TextStyle(fontSize: 10),
          ),
        ],
      ),
    ),
  ),
),
```

---

### 3. リップルが見えにくい
`InkWell` のリップルカラーが背景色と同じか近い場合、リップルが見えにくいことがあります。

#### 解決方法
`InkWell` の `splashColor` または `highlightColor` を明確な色に設定します。

```dart
InkWell(
  onTap: () async {
    await context.push(Screen.wallet.path);
  },
  borderRadius: BorderRadius.circular(4),
  splashColor: Colors.blue.withOpacity(0.2), // リップルエフェクトの色
  highlightColor: Colors.blue.withOpacity(0.1), // 強調時の色
  child: Ink(
    padding: const EdgeInsets.all(6),
    decoration: BoxDecoration(
      color: ColorToken.bgLight,
      borderRadius: BorderRadius.circular(4),
    ),
    child: Row(
      children: [
        Image.asset(
          Assets.images.stpIcon.path,
          width: 20,
          height: 20,
        ),
        const SizedBox(width: 4),
        const Text(
          '35.05',
          style: TextStyle(
            fontSize: 14,
            fontWeight: FontWeight.bold,
          ),
        ),
        const SizedBox(width: 2),
        const Text(
          'STP',
          style: TextStyle(fontSize: 10),
        ),
      ],
    ),
  ),
),
```

---

上記の変更を試してみてください。これでリップルエフェクトが正しく表示されるはずです！

---
