# Swift ä¸è¦ã‚³ãƒ¼ãƒ‰æ¤œå‡ºãƒ„ãƒ¼ãƒ«

æ—¥ä»˜: 2024-10-18

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/10/18 13:08:46*

Swift ä¸è¦ã‚³ãƒ¼ãƒ‰ã®æ¤œå‡º ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/10/18 13:09:15*

Swiftã§ä¸è¦ãªã‚³ãƒ¼ãƒ‰ã‚’æ¤œå‡ºã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒ„ãƒ¼ãƒ«ã¯ã„ãã¤ã‹ã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã®ã„ãã¤ã‹ã®æ–¹æ³•ã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç´¹ä»‹ã—ã¾ã™ï¼š

### 1. **Periphery**
   - **æ¦‚è¦**: Swiftã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹å†…ã®æœªä½¿ç”¨ã‚³ãƒ¼ãƒ‰ã‚’æ¤œå‡ºã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ä¸è¦ãªé–¢æ•°ã€å¤‰æ•°ã€ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã€å‹ãªã©ã‚’æ¤œå‡ºã§ãã¾ã™ã€‚
   - **ç‰¹å¾´**:
     - SwiftPMã€Xcodeãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã«å¯¾å¿œ
     - Dead codeã®æ¤œå‡ºã«ç‰¹åŒ–
     - CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«çµ±åˆå¯èƒ½
   - **ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**:
     ```bash
     brew install periphery
     ```
   - **ä½¿ã„æ–¹**:
     ```bash
     periphery scan
     ```
   - [å…¬å¼ã‚µã‚¤ãƒˆ](https://github.com/peripheryapp/periphery)

### 2. **SwiftLint**
   - **æ¦‚è¦**: Swiftã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ‰ã«æº–æ‹ ã—ãŸãƒªãƒ³ãƒˆãƒ„ãƒ¼ãƒ«ã§ã€ä½¿ã‚ã‚Œã¦ã„ãªã„ã‚³ãƒ¼ãƒ‰ã‚„ä¸å¿…è¦ãªã‚³ãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œå‡ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
   - **ç‰¹å¾´**:
     - ä½¿ã‚ã‚Œã¦ã„ãªã„importæ–‡ã®æ¤œå‡º
     - ãã®ä»–ã®ãƒªãƒ³ãƒˆãƒ«ãƒ¼ãƒ«ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½
   - **ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**:
     ```bash
     brew install swiftlint
     ```
   - **ä½¿ã„æ–¹**:
     ```bash
     swiftlint
     ```

### 3. **Xcodeãƒ“ãƒ«ãƒˆã‚¤ãƒ³æ©Ÿèƒ½**
   - **æ¦‚è¦**: Xcodeã«ã¯æœªä½¿ç”¨ã‚³ãƒ¼ãƒ‰ã‚„ä¸è¦ãªimportã‚’è­¦å‘Šã™ã‚‹ãƒ“ãƒ«ãƒˆã‚¤ãƒ³æ©Ÿèƒ½ãŒã‚ã‚Šã€ãƒ“ãƒ«ãƒ‰æ™‚ã«æ¤œå‡ºã•ã‚Œã¾ã™ã€‚
   - **ä½¿ç”¨æ³•**: ãƒ“ãƒ«ãƒ‰ä¸­ã«é»„è‰²ã®è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚Œã‚‹ãŸã‚ã€ãã‚Œã‚’ã‚‚ã¨ã«ä¸è¦ã‚³ãƒ¼ãƒ‰ã‚’æ‰‹å‹•ã§å‰Šé™¤ã—ã¾ã™ã€‚

### 4. **Dead Code Elimination (Swiftã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®æœ€é©åŒ–)**
   - Swiftã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®æœ€é©åŒ–æ©Ÿèƒ½ (`-O`) ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ‡ãƒƒãƒ‰ã‚³ãƒ¼ãƒ‰ãŒå‰Šé™¤ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ãŸã ã—ã€ãƒ“ãƒ«ãƒ‰æ™‚ã®æœ€é©åŒ–ã§å‰Šé™¤ã•ã‚Œã‚‹ãŸã‚ã€å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã«ã¯æ®‹ã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€ãƒ‡ãƒƒãƒ‰ã‚³ãƒ¼ãƒ‰ã‚’å®Œå…¨ã«å‰Šé™¤ã™ã‚‹ã«ã¯ä»–ã®ãƒ„ãƒ¼ãƒ«ã¨ä½µç”¨ã™ã‚‹ã®ãŒè‰¯ã„ã§ã™ã€‚

### 5. **Custom Scripts**
   - ç‰¹å®šã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹é€ ã«åˆã‚ã›ã¦ã€ä¸è¦ãªã‚³ãƒ¼ãƒ‰ã‚„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œå‡ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®å‚ç…§ã‚’è¿½è·¡ã—ã€ä½¿ã‚ã‚Œã¦ã„ãªã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚

ã“ã‚Œã‚‰ã®ãƒ„ãƒ¼ãƒ«ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’ã‚¹ãƒªãƒ ã«ä¿ã¡ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/10/18 13:09:32*

Periphery ä»¥å¤–ã®SDKã®é¸æŠè‚¢ã‚’æ¢ã—ã¦ã»ã—ã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/10/18 13:09:49*

Here are some alternatives to Periphery for detecting unused code in Swift projects:

1. **Pecker**: This is an open-source tool for detecting unused code in Swift projects, based on `IndexStoreDB` and `SwiftSyntax`. It can detect unused classes, structs, enums, protocols, functions, typealiases, and operators. You can integrate it into Xcode by adding a "Run Script Phase" or use it via the terminal with custom configurations. Pecker is available via Homebrew, CocoaPods, or can be compiled from sourceã€9â€ sourceã€‘.

2. **SwiftLint**: While primarily a linter, SwiftLint also has rules for identifying unused code, such as unused imports or variables. It's a popular tool for enforcing Swift style guidelines and can be extended with custom rules. SwiftLint requires a compilation database to accurately detect unused declarations, which may slow down processing for larger codebasesã€12â€ sourceã€‘ã€11â€ sourceã€‘.

3. **Xcode/Swift Compiler Flags**: You can enable compiler warning flags like `-Wunused-variable` and `-Wall` in Xcode to identify some unused code and variables during compilation. While not as comprehensive as dedicated tools, this can help catch simple cases of dead codeã€8â€ sourceã€‘.

These options provide flexibility depending on your project's size and specific requirements.

---
