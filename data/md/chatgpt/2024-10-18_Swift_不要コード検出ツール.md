# Swift 不要コード検出ツール

日付: 2024-10-18

---

## 👤 ユーザー
*2024/10/18 13:08:46*

Swift 不要コードの検出 ライブラリ

---

## 🤖 アシスタント
*2024/10/18 13:09:15*

Swiftで不要なコードを検出するためのライブラリやツールはいくつかあります。以下のいくつかの方法やライブラリを紹介します：

### 1. **Periphery**
   - **概要**: Swiftコードベース内の未使用コードを検出するツールです。不要な関数、変数、プロトコル、型などを検出できます。
   - **特徴**:
     - SwiftPM、Xcodeプロジェクト、ワークスペースに対応
     - Dead codeの検出に特化
     - CI/CDパイプラインに統合可能
   - **インストール**:
     ```bash
     brew install periphery
     ```
   - **使い方**:
     ```bash
     periphery scan
     ```
   - [公式サイト](https://github.com/peripheryapp/periphery)

### 2. **SwiftLint**
   - **概要**: Swiftのスタイルガイドに準拠したリントツールで、使われていないコードや不必要なコードパターンを検出することができます。
   - **特徴**:
     - 使われていないimport文の検出
     - その他のリントルールをカスタマイズ可能
   - **インストール**:
     ```bash
     brew install swiftlint
     ```
   - **使い方**:
     ```bash
     swiftlint
     ```

### 3. **Xcodeビルトイン機能**
   - **概要**: Xcodeには未使用コードや不要なimportを警告するビルトイン機能があり、ビルド時に検出されます。
   - **使用法**: ビルド中に黄色の警告が表示されるため、それをもとに不要コードを手動で削除します。

### 4. **Dead Code Elimination (Swiftコンパイラの最適化)**
   - Swiftコンパイラの最適化機能 (`-O`) を使用すると、デッドコードが削除される場合があります。ただし、ビルド時の最適化で削除されるため、実際のコードベースには残っている可能性があるため、デッドコードを完全に削除するには他のツールと併用するのが良いです。

### 5. **Custom Scripts**
   - 特定のプロジェクトの構造に合わせて、不要なコードやファイルを検出するカスタムスクリプトを作成することもできます。例えば、ファイルの参照を追跡し、使われていないファイルをリストアップするスクリプトを作成することが可能です。

これらのツールを活用することで、コードベースをスリムに保ち、メンテナンス性を向上させることができます。

---

## 👤 ユーザー
*2024/10/18 13:09:32*

Periphery 以外のSDKの選択肢を探してほしい

---

## 🤖 アシスタント
*2024/10/18 13:09:49*

Here are some alternatives to Periphery for detecting unused code in Swift projects:

1. **Pecker**: This is an open-source tool for detecting unused code in Swift projects, based on `IndexStoreDB` and `SwiftSyntax`. It can detect unused classes, structs, enums, protocols, functions, typealiases, and operators. You can integrate it into Xcode by adding a "Run Script Phase" or use it via the terminal with custom configurations. Pecker is available via Homebrew, CocoaPods, or can be compiled from source【9†source】.

2. **SwiftLint**: While primarily a linter, SwiftLint also has rules for identifying unused code, such as unused imports or variables. It's a popular tool for enforcing Swift style guidelines and can be extended with custom rules. SwiftLint requires a compilation database to accurately detect unused declarations, which may slow down processing for larger codebases【12†source】【11†source】.

3. **Xcode/Swift Compiler Flags**: You can enable compiler warning flags like `-Wunused-variable` and `-Wall` in Xcode to identify some unused code and variables during compilation. While not as comprehensive as dedicated tools, this can help catch simple cases of dead code【8†source】.

These options provide flexibility depending on your project's size and specific requirements.

---
