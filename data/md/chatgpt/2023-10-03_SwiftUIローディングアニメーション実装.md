# SwiftUIローディングアニメーション実装

日付: 2023-10-03

---

## 👤 ユーザー
*2023/10/03 18:11:26*

Swiftでローディングのときに ... が順に上下するみたいなアニメーションを実装したいんだけどどうすればいいかなSwiftUIで実装できますか？

---

## 🤖 アシスタント
*2023/10/03 18:12:48*

もちろん、SwiftUIを使用してローディングのアニメーションを実装することができます。順に上下する `...` のアニメーションを作成するための一つの方法を以下に示します：

1. まず、それぞれのドットの上下動作をアニメーションするためのアニメーション状態変数を用意します。
2. アニメーションを連続的に繰り返し実行するためのメソッドを用意します。
3. SwiftUIのビュー内でドットを配置し、それぞれのドットに上述のアニメーションを適用します。

以下にサンプルコードを示します：

```swift
import SwiftUI

struct LoadingView: View {
    // 各ドットのアニメーション状態変数
    @State private var shouldAnimate1 = false
    @State private var shouldAnimate2 = false
    @State private var shouldAnimate3 = false

    var body: some View {
        HStack(spacing: 8) {
            Circle()
                .frame(width: 10, height: 10)
                .foregroundColor(.gray)
                .offset(y: shouldAnimate1 ? -10 : 10)
                .animation(Animation.easeInOut(duration: 0.5).repeatForever(autoreverses: true))
            
            Circle()
                .frame(width: 10, height: 10)
                .foregroundColor(.gray)
                .offset(y: shouldAnimate2 ? -10 : 10)
                .animation(Animation.easeInOut(duration: 0.5).delay(0.2).repeatForever(autoreverses: true))
            
            Circle()
                .frame(width: 10, height: 10)
                .foregroundColor(.gray)
                .offset(y: shouldAnimate3 ? -10 : 10)
                .animation(Animation.easeInOut(duration: 0.5).delay(0.4).repeatForever(autoreverses: true))
        }
        .onAppear() {
            self.shouldAnimate1.toggle()
            DispatchQueue.main.asyncAfter(deadline: .now() + 0.2) {
                self.shouldAnimate2.toggle()
            }
            DispatchQueue.main.asyncAfter(deadline: .now() + 0.4) {
                self.shouldAnimate3.toggle()
            }
        }
    }
}

struct LoadingView_Previews: PreviewProvider {
    static var previews: some View {
        LoadingView()
    }
}
```

このコードでは、3つのドットが順番に上下動するアニメーションが実行されます。`onAppear` メソッド内で各ドットのアニメーションをスタートさせ、それぞれ異なる遅延を設定して連続的な動きを実現しています。

---
