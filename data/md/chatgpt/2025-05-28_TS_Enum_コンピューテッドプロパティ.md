# TS Enum ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

Date: 2025-05-28

---

## ğŸ‘¤ User
*2025-05-28 10:11:38*

TypeScriptã®enumã«Swiftã®ã‚ˆã†ã«ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ¼ã‚’ç”Ÿã‚„ã™ã“ã¨ã¯ã§ããªã„ã®ã‹ï¼Ÿ

---

## ğŸ¤– Assistant
*2025-05-28 10:11:57*

çµè«–ã‹ã‚‰è¨€ã†ã¨ã€**Swift ã® `enum` ã®ã‚ˆã†ã«å„ã‚±ãƒ¼ã‚¹ãŒ â€œã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹â€ ã‚’æŒã¡ã€ãã“ã¸ç›´æ¥ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆ`var title: String { ... }` ãªã©ï¼‰ã‚’å®šç¾©ã™ã‚‹â”€â”€ã¨ã„ã†æ›¸ãæ–¹ã¯ TypeScript ã® `enum` ã§ã¯ã§ãã¾ã›ã‚“**ã€‚  
ç†ç”±ã¨ä»£æ›¿ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä»¥ä¸‹ã«æ•´ç†ã—ã¾ã™ã€‚  

---

## ãªãœå‡ºæ¥ãªã„ã®ã‹ï¼Ÿ

| Swift | TypeScript |
|-------|------------|
| `enum` ã¯å€¤å‹ã ãŒã€å„ã‚±ãƒ¼ã‚¹ã¯ â€œå€¤ + å‹â€ ã‚’å…¼ã­ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã€ãƒ¡ã‚½ãƒƒãƒ‰ï¼ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒã¦ã‚‹ | `enum` ã¯ **ã€ŒãŸã ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆé€£æƒ³é…åˆ—ï¼‰ã€** ã§ã€ãƒ¡ãƒ³ãƒãƒ¼ã¯æ•°å€¤ã‹æ–‡å­—åˆ—ã® **å®šæ•°**ã€‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ¦‚å¿µãŒãªãã€ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚ç½®ã‘ãªã„îˆ€citeîˆ‚turn0search0îˆ |
| Swift ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒ enumâ€specific ãªã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ã‚’æŒã¡ã€switch exhaustiveness ç­‰ã‚‚å‹ãƒ¬ãƒ™ãƒ«ã§ä¿è¨¼ | TypeScript ã¯ JavaScript äº’æ›ã®ç¯„å›²ã§å®Ÿè£…ã•ã‚Œã‚‹ãŸã‚ã€enum ã¯å®Ÿè¡Œæ™‚ã«ã¯é™çš„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãªã‚‹ã ã‘ |

ãã®ãŸã‚ **`enum Foo { A }` ã® `A` ã¯ã€ãŸã ã®æ•°å€¤ï¼æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã§ã‚ã£ã¦ â€œA å°‚ç”¨ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆâ€ ã§ã¯ãªã„**ã®ãŒæœ¬è³ªçš„ãªé•ã„ã§ã™ã€‚  

---

## ä»£æ›¿ãƒ‘ã‚¿ãƒ¼ãƒ³

### 1. **åå‰ç©ºé–“ãƒãƒ¼ã‚¸**ã§ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚’ç”Ÿã‚„ã™

```ts
export enum Status {
  Idle = 'idle',
  Loading = 'loading',
  Done = 'done',
}

// enum ã¨åŒåã® namespace ã‚’ç½®ãã¨ãƒãƒ¼ã‚¸ã•ã‚Œã‚‹
export namespace Status {
  export function icon(s: Status): string {
    switch (s) {
      case Status.Idle: return 'ğŸ›‘';
      case Status.Loading: return 'â³';
      case Status.Done: return 'âœ…';
    }
  }

  export const isBusy = (s: Status) => s === Status.Loading;
}

// ä½¿ã„æ–¹
Status.icon(Status.Loading); // 'â³'
Status.isBusy(Status.Idle);  // false
```

- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¾Œã¯ `Status` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã« `icon`, `isBusy` ãŒé™çš„é–¢æ•°ã¨ã—ã¦ã¶ã‚‰ä¸‹ãŒã‚Šã¾ã™ã€‚  
- â€œãƒ—ãƒ­ãƒ‘ãƒ†ã‚£â€ ã§ã¯ãªã **é™çš„ãƒ¡ã‚½ãƒƒãƒ‰** ã¨ã„ã†å½¢ã«ãªã‚Šã¾ã™ãŒã€IDE è£œå®Œã‚‚åŠ¹ã„ã¦å®Ÿç”¨çš„ã§ã™ã€‚  

ï¼ˆcomputed property åã‚’ç›´æ¥ enum å†…ã«æ›¸ã“ã†ã¨ã™ã‚‹ã¨ `TS1164` ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ï¼‰îˆ€citeîˆ‚turn0search7îˆ

---

### 2. **ãƒªãƒ†ãƒ©ãƒ«å‹ï¼‹ãƒãƒƒãƒ”ãƒ³ã‚°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**

Swift ã® `var title` ã«ç›¸å½“ã™ã‚‹ â€œå®šæ•°ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£â€ ãªã‚‰ã€å˜ç´”ãƒãƒƒãƒ—ã§ååˆ†ãªã“ã¨ãŒå¤šã„ã§ã™ã€‚

```ts
const StatusIcon = {
  idle: 'ğŸ›‘',
  loading: 'â³',
  done: 'âœ…',
} as const;

type Status = keyof typeof StatusIcon;

function icon(s: Status) {
  return StatusIcon[s];
}
```

- `Status` ã¯ `"idle" | "loading" | "done"` ã®ãƒ¦ãƒ‹ã‚ªãƒ³ãƒªãƒ†ãƒ©ãƒ«å‹ã€‚  
- `StatusIcon` ã¯ **å‹å®‰å…¨ãªãƒãƒƒãƒ—** ã§ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®è¿½åŠ ãƒ»å‰Šé™¤æ¼ã‚Œã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒæ¤œçŸ¥ã§ãã¾ã™ã€‚

---

### 3. **åˆ¤åˆ¥å¯èƒ½ãƒ¦ãƒ‹ã‚ªãƒ³ï¼ˆä»£æ•°çš„ãƒ‡ãƒ¼ã‚¿å‹ï¼‰**ã«è¨­è¨ˆã‚’å¤‰ãˆã‚‹

Swift ã® â€œassociated valueâ€ ã‚’ä½¿ã„ãŸã„å ´åˆã€TypeScript ã§ã¯ tagged union ãŒé©ã—ã¦ã„ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚

```ts
type Status =
  | { kind: 'idle';    icon: 'ğŸ›‘' }
  | { kind: 'loading'; icon: 'â³'; progress: number }
  | { kind: 'done';    icon: 'âœ…' };

function icon(s: Status) {
  return s.icon;
}
```

- å„ã‚±ãƒ¼ã‚¹ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãªã‚‹ã®ã§ **ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚‚è¨ˆç®—ï¼ˆgetterï¼‰ã‚‚å®šç¾©ã—æ”¾é¡Œ**ã€‚  
- `switch` ã®ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã‚‚åŠ¹ãã€Swift ã«ã‹ãªã‚Šè¿‘ã„ä½¿ç”¨æ„ŸãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚

---

## è¿‘ã„å°†æ¥ãƒã‚¤ãƒ†ã‚£ãƒ–ã§å‡ºæ¥ã‚‹å¯èƒ½æ€§ã¯ï¼Ÿ

2025 å¹´ 4 æœˆã® TC39 ä¼šè­°ã§ **ECMAScript ãƒã‚¤ãƒ†ã‚£ãƒ– enum ææ¡ˆï¼ˆStage 1ï¼‰** ãŒè­°è«–ã«ä¸ŠãŒã£ã¦ã„ã¾ã™ãŒã€ç¾æ™‚ç‚¹ã§ã¯ â€œãƒ¡ã‚½ãƒƒãƒ‰ã‚„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ enum ã‚±ãƒ¼ã‚¹ã«æŒãŸã›ã‚‰ã‚Œã‚‹ã‹â€ ã¯æœªç¢ºå®šã§ã™îˆ€citeîˆ‚turn0search3îˆ‚turn0search8îˆã€‚  
å½“é¢ã¯ä¸Šè¨˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã§è¨­è¨ˆã™ã‚‹ã®ãŒç¾å®Ÿçš„ã§ã™ã€‚

---

### ã¾ã¨ã‚

| ã‚„ã‚ŠãŸã„ã“ã¨ | ãŠã™ã™ã‚å®Ÿè£… |
|--------------|--------------|
| **é™çš„ãªè¨ˆç®—çµæœã‚’è¿”ã™ã ã‘** | ã€Œ1. namespace ãƒãƒ¼ã‚¸ã€ã¾ãŸã¯ã€Œ2. ãƒãƒƒãƒ”ãƒ³ã‚°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ |
| **ã‚±ãƒ¼ã‚¹ã”ã¨ã«è¤‡æ•°ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼å‹•çš„å€¤ã‚’æŒãŸã›ãŸã„** | ã€Œ3. åˆ¤åˆ¥å¯èƒ½ãƒ¦ãƒ‹ã‚ªãƒ³ï¼‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ |
| **Swift çš„ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ã‚’å®Œå…¨å†ç¾ã—ãŸã„** | ç¾çŠ¶ä¸å¯ã€‚å°†æ¥ã® ECMAScript enum ä»•æ§˜ã«æœŸå¾… |

ã“ã‚Œã‚‰ã‚’ä½¿ã„åˆ†ã‘ã‚Œã°ã€Swift ã® â€œã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ä»˜ã enumâ€ ã«è¿‘ã„ä½“é¨“ã‚’ TypeScript ã§ã‚‚å®Ÿç¾ã§ãã¾ã™ã€‚

---

## ğŸ‘¤ User
*2025-05-28 10:15:03*

ã©ã‚ŒãŒãŠã™ã™ã‚ã‹ï¼Ÿ

---

## ğŸ¤– Assistant
*2025-05-28 10:15:04*

### ã–ã£ãã‚Šçµè«–

| ç›®çš„ | ç§ã®ãŠã™ã™ã‚ |
|---|---|
| **ãƒ©ãƒ™ãƒ«ã‚„ã‚¢ã‚¤ã‚³ãƒ³ãªã©ã€ã‚·ãƒ³ãƒ—ãƒ«ã«â€œå®šæ•° â†’ å€¤â€ã‚’ã²ã‚‚ä»˜ã‘ãŸã„** | **â‘¡ ãƒªãƒ†ãƒ©ãƒ«å‹ï¼‹ãƒãƒƒãƒ”ãƒ³ã‚°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**&lt;br&gt;â€” ã‚‚ã£ã¨ã‚‚çŸ­ããƒ»å®‰å…¨ãƒ»æ‹¡å¼µãŒæ¥½ |
| **ã‚±ãƒ¼ã‚¹ã”ã¨ã«è¤‡æ•°ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚„è¿½åŠ ãƒ­ã‚¸ãƒƒã‚¯ã‚’æŒãŸã›ãŸã„** | **â‘¢ åˆ¤åˆ¥å¯èƒ½ãƒ¦ãƒ‹ã‚ªãƒ³ï¼ˆtagged unionï¼‰**&lt;br&gt;â€” Swift ã®ã€Œassociated value & computed propertyã€æ„Ÿã‚’å†ç¾ |
| **æ—¢å­˜ã‚³ãƒ¼ãƒ‰ãŒ enum ã§çµ±ä¸€ã•ã‚Œã¦ãŠã‚Šã€ã¨ã«ã‹ãæ‰‹ã‚’å…¥ã‚Œãšã«è£œåŠ©é–¢æ•°ã ã‘æ¬²ã—ã„** | **â‘  enumï¼‹namespace ãƒãƒ¼ã‚¸**&lt;br&gt;â€” ç§»è¡Œã‚³ã‚¹ãƒˆã‚¼ãƒ­ã§â€œé™çš„ãƒ¡ã‚½ãƒƒãƒ‰â€ã‚’è¿½åŠ  |

---

## ãªãœ â‘¡ ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ¨ã—ï¼Ÿ

1. **transpile å¾ŒãŒæ¥µå°**  
   `enum` ã¯ JS ã§ã¯åŒæ–¹å‘ãƒãƒƒãƒ—ãŒç”Ÿæˆã•ã‚Œã¦å°‘ã—è†¨ã‚‰ã¿ã¾ã™ãŒã€`as const` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ãã®ã¾ã¾æ®‹ã‚‹ã ã‘ã§ã™ã€‚

2. **å‹ã¨å€¤ãŒ 1 è¡Œã§åŒæœŸã™ã‚‹**  
   ```ts
   export const StatusIcon = { idle: 'ğŸ›‘', loading: 'â³', done: 'âœ…' } as const;
   export type Status = keyof typeof StatusIcon; // "idle" | "loading" | "done"
   ```
   - ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ /å‰Šé™¤ã™ã‚‹ã¨å‹ã‚‚åŒæ™‚ã«å¤‰ã‚ã‚‹ã®ã§ â€œæŠœã‘æ¼ã‚Œâ€ ãŒå³ã‚¨ãƒ©ãƒ¼ã§åˆ†ã‹ã‚‹ã€‚  
   - åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã« â€œãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç†â€ ã‚‚ã—ã‚„ã™ãã€**æ‹¡å¼µæ€§** ãŒé«˜ã„ï¼ˆâ† enum ã‚’åˆ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã«ç®¡ç†ã—ãŸã„ã¨ã„ã†ã”è¦æœ›ã¨ç›¸æ€§â—ï¼‰ã€‚

3. **ãƒ„ãƒªãƒ¼ã‚·ã‚§ã‚¤ã‚¯ï¼†æœ€å°ãƒãƒ³ãƒ‰ãƒ«**  
   å‚ç…§ã•ã‚Œãªã„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã ã‘ã‚’é™çš„è§£æã§è½ã¨ã›ã‚‹ã®ã§ã€ãƒ•ãƒ­ãƒ³ãƒˆå´ã«ã‚‚å„ªã—ã„ã§ã™ã€‚

---

## â‘¢ ã‚’é¸ã¶åˆ¤æ–­åŸºæº–

- **å„ã‚±ãƒ¼ã‚¹ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**ãªã®ã§ã€å¥½ããªã ã‘ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚„ã‚²ãƒƒã‚¿ãƒ¼ã‚’æ›¸ã‘ã‚‹ã€‚  
  ```ts
  type PauseAlert =
    | { kind: 'none' }
    | { kind: 'pause';  title: 'ä¸€æ™‚åœæ­¢';       icon: 'â¸' }
    | { kind: 'quit';   title: 'çµ‚äº†ã—ã¾ã™ã‹ï¼Ÿ'; icon: 'âŒ' }
    | { kind: 'guide';  guide: GuideType;       title: string; icon: 'ğŸ“–' };

  // ä½¿ã†å´
  function titleOf(a: PauseAlert) {
    switch (a.kind) {
      case 'pause': return a.title;
      // ...
    }
  }
  ```
- `switch` ã® **ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯** ãŒåŠ¹ãã®ã§ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚ã«å®‰å…¨ã€‚
- é€†ã«ã€ŒãŸã ã‚¢ã‚¤ã‚³ãƒ³ 1 ã¤è¿”ã™ã ã‘ã€ã®ç”¨é€”ã«ã¾ã§ä½¿ã†ã¨ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå¢—ãˆã‚‹ã®ã§ã€**å¿…è¦ã«ãªã£ãŸã‚‰æ˜‡æ ¼**ã•ã›ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ OK ã§ã™ã€‚

---

## â‘  ã‚’é¸ã¶ã¨ãã®æ³¨æ„

- `enum` è‡ªä½“ã®è½ã¨ã—ç©´ï¼ˆæ•°å€¤ enum ã®é€†å¼•ãã€const enum ã® transpile æ–¹é‡ãªã©ï¼‰ã¯æ®‹ã‚‹ã€‚  
- æ—¢å­˜ã‚³ãƒ¼ãƒ‰è³‡ç”£ãŒå¤šã„å ´åˆã® â€œæœ€å°ä¿®æ­£â€ æ‰‹æ®µã¨ã—ã¦å‰²ã‚Šåˆ‡ã‚‹ã¨å¿«é©ã€‚  
  ```ts
  enum Status { Idle = 'idle', Loading = 'loading', Done = 'done' }
  namespace Status {
    export const icon = (s: Status) => ({ idle:'ğŸ›‘', loading:'â³', done:'âœ…' }[s]);
  }
  ```

---

### ã¾ã¨ã‚

- **æ–°è¦å®Ÿè£… or enum ã‚’å¢—ã‚„ã™ãŸã³ã«æ‹¡å¼µã—ãŸã„** â†’ **â‘¡ ãƒªãƒ†ãƒ©ãƒ«å‹ï¼‹ãƒãƒƒãƒ—** ãŒæœ€å°ã‚³ã‚¹ãƒˆï¼†å‹å®‰å…¨ã€‚  
- **è¤‡é›‘ãªæŒ¯ã‚‹èˆã„ / è¤‡æ•°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ / Swift çš„ enum ã£ã½ã•** â†’ **â‘¢ åˆ¤åˆ¥å¯èƒ½ãƒ¦ãƒ‹ã‚ªãƒ³**ã€‚  
- **æ—¢å­˜ enum ã‚’æ´»ã‹ã—ã¤ã¤è»½ãä¾¿åˆ©ã«** â†’ **â‘  namespace ãƒãƒ¼ã‚¸**ã€‚

ã¾ãšã¯ **â‘¡ ã§å§‹ã‚ã¦ã€è¦ä»¶ãŒå¢—ãˆãŸã‚‰â‘¢ã¸æ˜‡æ ¼**â”€â”€ãŒãƒ¡ãƒ³ãƒ†ã‚‚ã—ã‚„ã™ãã€å€‹äººçš„ã«ã‚‚ã‚ˆãæ¡ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™ã€‚

---

## ğŸ‘¤ User
*2025-05-28 10:19:07*

enum Environment {
  Development,
  Production,
  Staging,
  Test,
}


ãŸã¨ãˆã°ã€ä»¥ä¸‹ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã„

environment.apiUrl: String
environment.apiKey: String
environment.isDebug: Bool

Environmentæƒ…å ±ã¨ApiKeyã¯ç’°å¢ƒå¤‰æ•°ã‹ã‚‰å–å¾—ã—ãŸã„ã€‚
apiUrlã‚„isDebugã¯ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ãŸã„ã€‚

---

## ğŸ¤– Assistant
*2025-05-28 10:19:08*

ä»¥ä¸‹ã®å®Ÿè£…ã¯ **ã€Œãƒªãƒ†ãƒ©ãƒ«å‹ï¼‹ãƒãƒƒãƒ”ãƒ³ã‚°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€** ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€  
`apiUrl` ã¨ `isDebug` ã¯ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã€`apiKey` ã¨ç¾åœ¨ã®ç’°å¢ƒã¯ç’°å¢ƒå¤‰æ•°ã‹ã‚‰å–å¾—â”€â”€ã¨ã„ã†è¦ä»¶ã‚’æº€ãŸã™ã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚  

```ts
// src/config/environment.ts
// --------------------------------------------
// 1) ã¾ãšç’°å¢ƒã‚’ â€œæ–‡å­—åˆ— enum é¢¨â€ ã«å®šç¾©
export enum Environment {
  Development = 'development',
  Production  = 'production',
  Staging     = 'staging',
  Test        = 'test',
}

// 2) ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰åˆ†ã ã‘ã‚’åˆ‡ã‚Šå‡ºã—ãŸãƒ†ãƒ¼ãƒ–ãƒ«
/* prettier-ignore */
const BASE_CONFIG = {
  [Environment.Development]: { apiUrl: 'http://localhost:3000', isDebug: true  },
  [Environment.Production] : { apiUrl: 'https://api.example.com', isDebug: false },
  [Environment.Staging]    : { apiUrl: 'https://stg.api.example.com', isDebug: true  },
  [Environment.Test]       : { apiUrl: 'http://localhost:4000', isDebug: true  },
} as const;

// 3) ä¾¿åˆ©ãªå‹
export type BaseConfig = typeof BASE_CONFIG[Environment];

// 4) å®Ÿéš›ã« â€œå‹•çš„â€ ãªå€¤ï¼ˆenv å¤‰æ•°ï¼‰ã‚’åˆæˆã—ã¦ 1 ã¤ã®è¨­å®šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«
function buildConfig(): BaseConfig & { apiKey: string; env: Environment } {
  // â˜… å®Ÿè¡Œç’°å¢ƒã‚’æ±ºå®šï¼ˆæœªè¨­å®šãªã‚‰ development æ‰±ã„ï¼‰
  const env = (process.env.APP_ENV as Environment) ?? Environment.Development;

  // â˜… APIã‚­ãƒ¼ã¯ç’°å¢ƒã”ã¨ã«å¤‰æ•°åã‚’åˆ†ã‘ã¦ã‚‚è‰¯ã„ã—ã€å…±é€šã§ã‚‚è‰¯ã„
  //    ä¾‹ã§ã¯ `API_KEY_<ENV>` ã¨ã„ã†å½¢å¼ã‚’æ¡ç”¨
  const apiKey =
    process.env[`API_KEY_${env.toUpperCase()}`] ??
    process.env.API_KEY ?? //  fallback
    '';

  return { ...BASE_CONFIG[env], apiKey, env };
}

/**
 * ã‚¢ãƒ—ãƒªå…¨ä½“ã§ä½¿ã„å›ã™ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³è¨­å®š
 *
 * ```ts
 * import { environment } from './config/environment';
 *
 * fetch(`${environment.apiUrl}/v1/users`, { headers:{ 'x-api-key': environment.apiKey } })
 * ```
 */
export const environment = buildConfig();
```

### ä½¿ã„æ–¹

```ts
import { environment } from '@/config/environment';

console.log(environment.env);      // "development" ãªã©
console.log(environment.apiUrl);   // "http://localhost:3000"
console.log(environment.apiKey);   // ç’°å¢ƒå¤‰æ•°ã‹ã‚‰å–å¾—
console.log(environment.isDebug);  // true
```

---

## å®Ÿè£…ãƒã‚¤ãƒ³ãƒˆè§£èª¬

| ãƒã‚¤ãƒ³ãƒˆ | è§£èª¬ |
|---|---|
| **1. æ–‡å­—åˆ— enum** | æ–‡å­—åˆ—å€¤ã«ã—ã¦ãŠãã¨ `.toUpperCase()` ãªã©ã§ç’°å¢ƒå¤‰æ•°åã‚’å‹•çš„ã«çµ„ã¿ç«‹ã¦ã‚‹ã¨ãä¾¿åˆ©ã€‚ |
| **2. `BASE_CONFIG` ã‚’ `as const`** | ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒãƒªãƒ†ãƒ©ãƒ«å‹ã«ãªã‚Šã€`BASE_CONFIG[env]` ã‚’å–ã‚Šå‡ºã™ã ã‘ã§å¼·åŠ›ãªå‹æ¨è«–ãŒåŠ¹ãã€‚ |
| **3. `buildConfig` ã‚’ 1 å›ã ã‘å®Ÿè¡Œ** | ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆæœŸåŒ–æ™‚ã«è©•ä¾¡â†’ä»¥é™ã¯åŒä¸€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å†åˆ©ç”¨ã€‚DI ã‚„ãƒ†ã‚¹ãƒˆã§å·®ã—æ›¿ãˆãŸã„å ´åˆã¯å·¥å¤«ã€‚ |
| **4. API ã‚­ãƒ¼ã®åå‰ä»˜ã‘** | ä¾‹ã§ã¯ `API_KEY_DEVELOPMENT` ã®ã‚ˆã†ã«ç’°å¢ƒã”ã¨ã«å¤‰æ•°ã‚’åˆ†ã‘ã€å­˜åœ¨ã—ãªã‘ã‚Œã°å…±é€š `API_KEY` ã‚’è¦‹ã‚‹ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ–¹å¼ã«ã€‚ |

---

## ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆVite/Next.js ç­‰ï¼‰ã§ä½¿ã†å ´åˆã®æ³¨æ„

- **`process.env` ã¯ãã®ã¾ã¾ã§ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ãƒãƒ³ãƒ‰ãƒ«ã•ã‚Œãªã„**ã€‚  
  - Vite ãªã‚‰ `import.meta.env.VITE_API_KEY_DEVELOPMENT` ã®ã‚ˆã†ã« `VITE_` æ¥é ­è¾ä»˜ãã§æ³¨å…¥ã€‚  
  - Next.js ãªã‚‰ `NEXT_PUBLIC_` æ¥é ­è¾ã‚’ä»˜ã‘ã‚‹ã‹ã€`server-only` ã¨ `client-only` ã§åˆ†é›¢ã€‚  
- ãã‚Œã§ã‚‚ãƒ‘ã‚¿ãƒ¼ãƒ³è‡ªä½“ã¯åŒã˜ã§ã€`buildConfig()` å†…ã§ `import.meta.env` ç³»ã‚’å‚ç…§ã™ã‚‹ã ã‘ã§ã™ã€‚

---

## ã‚‚ã£ã¨ â€œSwift ã£ã½ãâ€ ã—ãŸã„å ´åˆ

```ts
class EnvConfig {
  constructor(private readonly env: Environment) {}
  get apiUrl()  { return BASE_CONFIG[this.env].apiUrl; }
  get isDebug() { return BASE_CONFIG[this.env].isDebug; }
  get apiKey()  { return process.env[`API_KEY_${this.env.toUpperCase()}`] ?? ''; }
}

export const environment = new EnvConfig(
  (process.env.APP_ENV as Environment) ?? Environment.Development,
);
```

- **getter ã‚’æŒã¤ãƒ©ãƒƒãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹**ã§ `environment.apiUrl` ã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ã‚’ãã®ã¾ã¾å†ç¾ã€‚  
- ãŸã ã—ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆã‚³ã‚¹ãƒˆãƒ»ãƒ†ã‚¹ãƒˆãƒ€ãƒ–ãƒ«ä½œæˆã‚³ã‚¹ãƒˆãŒä¸ŠãŒã‚‹ã®ã§ã€å°ï½ä¸­è¦æ¨¡ãªã‚‰å‰è¿°ã®ã€Œé–¢æ•°ã§åˆæˆ â†’ ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã€æ–¹å¼ãŒæ‰‹è»½ã§ã™ã€‚

---

### ã¾ã¨ã‚

1. **å®Ÿå‹™çš„ã«æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«**ã‹ã¤**å‹å®‰å…¨**ãªã®ã¯ã€Œãƒªãƒ†ãƒ©ãƒ« enum + ãƒãƒƒãƒ”ãƒ³ã‚°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ã€‚  
2. **ç’°å¢ƒå¤‰æ•°ã¯ buildConfig() ã®ä¸­ã§æ³¨å…¥**ã™ã‚‹ã¨ä¸€ç®‡æ‰€ã«é–‰ã˜è¾¼ã‚ã‚‰ã‚Œã€ãƒ†ã‚¹ãƒˆãƒ»ãƒ“ãƒ«ãƒ‰æ™‚ã‚‚æ‰±ã„ã‚„ã™ã„ã€‚  
3. ã‚ˆã‚Š Swift ãƒ©ã‚¤ã‚¯ãªæ›¸ãå‘³ã‚’æ±‚ã‚ã‚‹ãªã‚‰ **getter ä»˜ãã‚¯ãƒ©ã‚¹**ã§åŒ…ã‚€æ–¹æ³•ã‚‚ã‚ã‚‹ãŒã€ãƒ¡ãƒªãƒƒãƒˆã¨æ‰‹é–“ã‚’å¤©ç§¤ã«ã€‚

---

## ğŸ‘¤ User
*2025-05-28 10:21:52*

å…¨ç„¶enumã®æ©æµã‚’å—ã‘å…¥ã‚Œã¦ãªã„ã‚ˆã†ã«æ€ãˆã‚‹ã€‚

---
