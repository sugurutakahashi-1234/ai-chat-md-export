# 共通変数のリファクタリング

Date: 2024-10-07

---

## 👤 User
*2024-10-07 18:17:55*

isButtonEnabled と showSelectedSettings を共通した別の変数で表現したい

extension ConversationSettingViewModel {
    var isButtonEnabled: Bool {
        selectedSpeaker != nil && selectedSpeed != nil && selectedTempo != nil
    }

    var showSelectedSettings: Bool {
        selectedSpeaker != nil && selectedSpeed != nil && selectedTempo != nil
    }
}

---

## 🤖 Assistant
*2024-10-07 18:18:02*

`isButtonEnabled` と `showSelectedSettings` が同じ条件に基づいているため、共通の変数を使うことで条件を一箇所に集約できます。例えば、`hasSelectedSettings` という変数に共通の条件を持たせ、`isButtonEnabled` と `showSelectedSettings` の両方でその変数を使用することができます。

以下のようにリファクタリングできます：

```swift
extension ConversationSettingViewModel {
    var hasSelectedSettings: Bool {
        selectedSpeaker != nil && selectedSpeed != nil && selectedTempo != nil
    }

    var isButtonEnabled: Bool {
        hasSelectedSettings
    }

    var showSelectedSettings: Bool {
        hasSelectedSettings
    }
}
```

こうすることで、条件が変更された際には `hasSelectedSettings` を一度だけ修正すれば済み、コードの保守性が向上します。

---
