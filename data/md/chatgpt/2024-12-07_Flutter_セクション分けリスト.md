# Flutter ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†ã‘ãƒªã‚¹ãƒˆ

æ—¥ä»˜: 2024-12-07

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/12/07 18:49:05*

flutterã§listã‚’ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†ã‘ã—ã¦é…ç½®ã—ãŸã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/12/07 18:49:20*

Flutterã§ãƒªã‚¹ãƒˆã‚’ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†ã‘ã—ã¦è¡¨ç¤ºã™ã‚‹å ´åˆã€`ListView`ã¨`ListView.builder`ã‚’çµ„ã¿åˆã‚ã›ã¦å®Ÿç¾ã§ãã¾ã™ã€‚ã¾ãŸã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¿½åŠ ã™ã‚‹ã«ã¯ã€é©åˆ‡ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ•´å½¢ã—ã¦ãƒ˜ãƒƒãƒ€ãƒ¼ç”¨ã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’å«ã‚ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

ä»¥ä¸‹ã¯ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†ã‘ã•ã‚ŒãŸãƒªã‚¹ãƒˆã®ã‚µãƒ³ãƒ—ãƒ«å®Ÿè£…ã§ã™ã€‚

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```dart
import 'package:flutter/material.dart';

class SectionedListPage extends HookConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿
    final data = {
      'Section 1': ['Item 1-1', 'Item 1-2', 'Item 1-3'],
      'Section 2': ['Item 2-1', 'Item 2-2'],
      'Section 3': ['Item 3-1', 'Item 3-2', 'Item 3-3', 'Item 3-4'],
    };

    return Scaffold(
      appBar: AppBar(title: Text('ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†ã‘ãƒªã‚¹ãƒˆ')),
      body: ListView.builder(
        itemCount: data.keys.length,
        itemBuilder: (context, sectionIndex) {
          final sectionTitle = data.keys.elementAt(sectionIndex);
          final sectionItems = data[sectionTitle]!;

          return Column(
            crossAxisAlignment: CrossAxisAlignment.start,
            children: [
              // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼
              Padding(
                padding: const EdgeInsets.all(8.0),
                child: Text(
                  sectionTitle,
                  style: TextStyle(
                    fontSize: 18,
                    fontWeight: FontWeight.bold,
                  ),
                ),
              ),
              // ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã‚¢ã‚¤ãƒ†ãƒ 
              ListView.builder(
                shrinkWrap: true,
                physics: NeverScrollableScrollPhysics(),
                itemCount: sectionItems.length,
                itemBuilder: (context, itemIndex) {
                  final item = sectionItems[itemIndex];
                  return ListTile(
                    title: Text(item),
                  );
                },
              ),
            ],
          );
        },
      ),
    );
  }
}
```

### ä¸»ãªãƒã‚¤ãƒ³ãƒˆ
1. **ãƒ‡ãƒ¼ã‚¿æ§‹é€ **:
   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã‚­ãƒ¼ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’å€¤ã¨ã—ãŸãƒãƒƒãƒ—ã‚’ä½¿ç”¨ã€‚
   - ä¾‹: `{ 'Section 1': ['Item 1', 'Item 2'] }`

2. **ãƒã‚¹ãƒˆã—ãŸ`ListView.builder`**:
   - å¤–å´ã®`ListView.builder`ã§ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã€å†…å´ã®`ListView.builder`ã§ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’æç”»ã€‚

3. **`shrinkWrap`ã¨`physics`**:
   - å†…å´ã®ãƒªã‚¹ãƒˆãƒ“ãƒ¥ãƒ¼ãŒè¦ªã®ãƒªã‚¹ãƒˆãƒ“ãƒ¥ãƒ¼ã¨æ­£ã—ãã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å‹•ä½œã™ã‚‹ã‚ˆã†ã«ã€`shrinkWrap: true`ã¨`physics: NeverScrollableScrollPhysics()`ã‚’æŒ‡å®šã€‚

### è¦‹ãŸç›®ã®èª¿æ•´
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’`Divider`ã‚„èƒŒæ™¯è‰²ãªã©ã§èª¿æ•´å¯èƒ½ã€‚
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æŠ˜ã‚ŠãŸãŸã¿å¯èƒ½ã«ã™ã‚‹å ´åˆã¯ã€`ExpansionTile`ã‚’åˆ©ç”¨ã™ã‚‹ã®ã‚‚ä¾¿åˆ©ã§ã™ã€‚

å¿…è¦ã«å¿œã˜ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ï¼

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/12/07 18:50:07*

flutteræ¨™æº–ã§ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã£ã¦ã„ã†æ¦‚å¿µãªã„ã®ï¼Ÿ
iOSã§ã‚ã‚‹ã‚„ã¤

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/12/07 18:50:24*

Flutterã«ã¯iOSã®ã‚ˆã†ãªæ¨™æº–ã®ã€Œã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€ã¨ã„ã†æ¦‚å¿µã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãŸã ã—ã€ä¼¼ãŸæ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã€Flutteræ¨™æº–ã®`ListView`ã‚„`CustomScrollView`ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†ã‘ã•ã‚ŒãŸãƒªã‚¹ãƒˆã‚’ç°¡å˜ã«æ§‹ç¯‰ã§ãã¾ã™ã€‚

### iOSã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ç›¸å½“ã®Flutterã®å®Ÿç¾æ–¹æ³•

#### 1. **`CustomScrollView`ã¨`SliverList`ã®çµ„ã¿åˆã‚ã›**
`CustomScrollView`ã¯ã€è¤‡æ•°ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ãªé ˜åŸŸï¼ˆã‚¹ãƒ©ã‚¤ãƒãƒ¼ï¼‰ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã‚»ã‚¯ã‚·ãƒ§ãƒ³é¢¨ã®ãƒªã‚¹ãƒˆã‚’æ§‹ç¯‰ã§ãã¾ã™ã€‚ä»¥ä¸‹ã«ã‚µãƒ³ãƒ—ãƒ«ã‚’ç¤ºã—ã¾ã™ã€‚

---

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```dart
import 'package:flutter/material.dart';

class SectionedListView extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    // ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
    final data = {
      'Section 1': ['Item 1-1', 'Item 1-2', 'Item 1-3'],
      'Section 2': ['Item 2-1', 'Item 2-2'],
      'Section 3': ['Item 3-1', 'Item 3-2', 'Item 3-3', 'Item 3-4'],
    };

    return Scaffold(
      appBar: AppBar(title: Text('ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†ã‘ãƒªã‚¹ãƒˆ')),
      body: CustomScrollView(
        slivers: [
          for (var section in data.entries) ...[
            // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼
            SliverToBoxAdapter(
              child: Padding(
                padding: const EdgeInsets.all(8.0),
                child: Text(
                  section.key,
                  style: TextStyle(
                    fontSize: 18,
                    fontWeight: FontWeight.bold,
                  ),
                ),
              ),
            ),
            // ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ãƒªã‚¹ãƒˆ
            SliverList(
              delegate: SliverChildBuilderDelegate(
                (context, index) {
                  final item = section.value[index];
                  return ListTile(title: Text(item));
                },
                childCount: section.value.length,
              ),
            ),
          ],
        ],
      ),
    );
  }
}
```

---

### ã‚³ãƒ¼ãƒ‰ã®ãƒã‚¤ãƒ³ãƒˆ

1. **`CustomScrollView`**:
   - è¤‡æ•°ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ãªè¦ç´ ï¼ˆã‚¹ãƒ©ã‚¤ãƒãƒ¼ï¼‰ã‚’1ã¤ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒ“ãƒ¥ãƒ¼å†…ã«çµ„ã¿åˆã‚ã›ã‚‰ã‚Œã¾ã™ã€‚

2. **`SliverToBoxAdapter`**:
   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã—ã¾ã™ã€‚

3. **`SliverList`**:
   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã®ãƒªã‚¹ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚

4. **`for`ãƒ«ãƒ¼ãƒ—ã§ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰**:
   - å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ«ãƒ¼ãƒ—ã§å‡¦ç†ã—ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ã¨ãƒªã‚¹ãƒˆã‚’æ§‹ç¯‰ã€‚

---

### Flutterã¨iOSã®é•ã„

| æ©Ÿèƒ½ | iOS (UITableView) | Flutter |
|------|-------------------|---------|
| ã‚»ã‚¯ã‚·ãƒ§ãƒ³ | æ¨™æº–ã§ã‚µãƒãƒ¼ãƒˆ (`UITableViewDataSource` ã«ã‚»ã‚¯ã‚·ãƒ§ãƒ³å¯¾å¿œ) | æ˜ç¤ºçš„ã«ã¯ãªã—ã€‚`CustomScrollView`ã§å®Ÿè£… |
| ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼å›ºå®š | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å¯¾å¿œ (`UITableViewStyleGrouped`) | `SliverPersistentHeader`ã‚’ä½¿ãˆã°å¯èƒ½ |
| æŠ˜ã‚ŠãŸãŸã¿ | `UITableView`ã§`didSelectRowAt`ã¨çµ„ã¿åˆã‚ã› | `ExpansionTile`ã‚’ä½¿ã†ã®ãŒç°¡å˜ |

---

### å›ºå®šãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¿½åŠ ã—ãŸã„å ´åˆ

ã‚‚ã—ã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ã«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’å›ºå®šï¼ˆãƒ”ãƒ³ç•™ã‚ï¼‰ã—ãŸã„å ´åˆã¯ã€`SliverPersistentHeader`ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚

```dart
SliverPersistentHeader(
  pinned: true,
  delegate: _SectionHeaderDelegate('Section Title'),
)
```

ã“ã®ã‚ˆã†ã«Flutterã§ã¯æŸ”è»Ÿæ€§ãŒé«˜ã„ä»£ã‚ã‚Šã«ã€æ§‹ç¯‰ã‚’æ‰‹å‹•ã§è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚å¿…è¦ã«å¿œã˜ã¦ã€æ¨™æº–ã®`ListView`ã‚„`CustomScrollView`ã‚’é¸ã‚“ã§å®Ÿè£…ã—ã¦ãã ã•ã„ï¼

---
