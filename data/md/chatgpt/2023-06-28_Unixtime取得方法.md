# Unixtime取得方法

日付: 2023-06-28

---

## 👤 ユーザー
*2023/06/29 07:10:50*

Swiftのコードでミリ秒でのUnixtimeの取得方法を教えて

---

## 🤖 アシスタント
*2023/06/29 07:11:07*

Swiftにおいて、ミリ秒単位でUnixタイムを取得するには、`Date`オブジェクトを使用します。現在の日付を取得してから、その日付をミリ秒の単位でUnixタイムスタンプに変換します。以下に示すのは、その方法です：

```swift
let now = Date()
let nowMilliseconds = Int64(now.timeIntervalSince1970 * 1000)
print(nowMilliseconds)
```

このコードは現在のUnixタイムスタンプをミリ秒単位で取得します。`Date().timeIntervalSince1970`は秒単位でUnixタイムを返しますので、ミリ秒単位にするために1000を掛けています。

ただし、このコードで得られる値は64ビットの整数(`Int64`)となるため、これが必要な場合に使用します。その他の場合、`Int`や`Double`を使用してもよいでしょう。

---

## 👤 ユーザー
*2023/06/29 07:32:14*

Date(). nowMilliseconds のように取得したい

---

## 🤖 アシスタント
*2023/06/29 07:32:38*

Swiftにおいて、`Date()`に直接`nowMilliseconds`というプロパティを追加することはできません。しかし、拡張（Extension）を使って`Date`クラスに新しい計算プロパティを追加することが可能です。

以下に、`Date`に`nowMilliseconds`という計算プロパティを追加する例を示します：

```swift
extension Date {
    var nowMilliseconds: Int64 {
        return Int64(self.timeIntervalSince1970 * 1000)
    }
}

let now = Date()
print(now.nowMilliseconds)
```

これにより、任意の`Date`インスタンスから直接ミリ秒単位のUnixタイムスタンプを取得することが可能となります。

ただし、注意点として、`nowMilliseconds`プロパティは、その日付のUnixタイムスタンプをミリ秒単位で取得します。`Date()`インスタンスは作成時点の日付と時間を持つため、このプロパティを使用して`Date().nowMilliseconds`と記述すると、その時点でのUnixタイムスタンプがミリ秒単位で取得できます。

---
