# 画面遷移ボタン追加

Date: 2024-12-10

---

## 👤 User
*2024-12-10 21:56:59*

この画面の
- ProfilePageに遷移するボタン
- DeckDetailPageにpush遷移する Deck List
をログアウトボタンの上に追加してほしい

import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import 'package:snpit_guild_app/domain/screen.dart';

class MyPage extends StatelessWidget {
  const MyPage({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: const Text('MyPage')),
      body: Center(
        child: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            const Text('MyPage', style: TextStyle(fontSize: 24)),
            const SizedBox(height: 16),
            ElevatedButton(
              onPressed: () {
                context.go(Screen.login.path);
              },
              child: const Text('ログアウト'),
            ),
          ],
        ),
      ),
    );
  }
}

---

## 🤖 Assistant
*2024-12-10 21:57:11*

以下のコードを使用して、`ProfilePage` に遷移するボタンと `DeckDetailPage` に push 遷移する `Deck List` をログアウトボタンの上に追加しました。

```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import 'package:snpit_guild_app/domain/screen.dart';

class MyPage extends StatelessWidget {
  const MyPage({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: const Text('MyPage')),
      body: Center(
        child: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            const Text('MyPage', style: TextStyle(fontSize: 24)),
            const SizedBox(height: 16),
            ElevatedButton(
              onPressed: () {
                context.go(Screen.profile.path); // ProfilePageに遷移
              },
              child: const Text('プロフィールページへ'),
            ),
            const SizedBox(height: 16),
            Expanded(
              child: ListView.builder(
                shrinkWrap: true,
                itemCount: 10, // ダミーのデッキ数
                itemBuilder: (context, index) {
                  return ListTile(
                    title: Text('Deck $index'),
                    onTap: () {
                      context.push(Screen.deckDetail.path.replaceFirst(':id', index.toString())); // DeckDetailPageにpush遷移
                    },
                  );
                },
              ),
            ),
            const SizedBox(height: 16),
            ElevatedButton(
              onPressed: () {
                context.go(Screen.login.path);
              },
              child: const Text('ログアウト'),
            ),
          ],
        ),
      ),
    );
  }
}
```

### 変更点:
1. **`ElevatedButton` の追加**: `ProfilePage` に遷移するボタンを追加。
2. **`ListView.builder` の追加**: ダミーのデッキリストを作成して、タップ時に `DeckDetailPage` に push 遷移するように設定。
3. **`context.push` を使用**: 各デッキの詳細ページに遷移する際に、パスにデッキの `id` を埋め込む処理を追加。

### 注意:
- `Screen.profile.path` や `Screen.deckDetail.path` は `Screen` クラスで正しく設定されていることを前提としています。
- `DeckDetailPage` のルートに `:id` のようなパラメータが設定されている場合、`replaceFirst` を使って正しい値を埋め込むようにしています。

---
