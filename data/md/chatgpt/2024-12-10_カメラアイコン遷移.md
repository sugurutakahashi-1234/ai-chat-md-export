# カメラアイコン遷移

日付: 2024-12-10

---

## 👤 ユーザー
*2024/12/10 22:06:52*

センターにカメラのアイコンのボタンを設置してShootingPageへ遷移させて

import 'package:flutter/material.dart';
import 'package:go\_router/go\_router.dart';
import 'package:hooks\_riverpod/hooks\_riverpod.dart';
import 'package:snpit\_guild\_app/domain/screen.dart';
import 'package:snpit\_guild\_app/presentation/pages/explorer\_list\_page.dart';

class MapPage extends HookConsumerWidget {
  const MapPage({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    return Scaffold(
      body: Stack(
        children: \[
          const Center(child: Text('Map')),
          Positioned(
            bottom: 16,
            left: 16,
            right: 16,
            child: Row(
              mainAxisAlignment: MainAxisAlignment.spaceBetween,
              children: \[
                FloatingActionButton(
                  heroTag: 'current\_location\_button',
                  onPressed: () {
                    debugPrint('TODO: My Location');
                  },
                  child: const Icon(Icons.my\_location),
                ),
                ElevatedButton(
                  onPressed: () {
                    // TODO: この画面から showModalBottomSheet すると
                    // タブバーの上から表示されてしまうので、タブバーの下から表示するように修正する
                    showModalBottomSheet&lt;void&gt;(
                      context: context,
                      isScrollControlled: true,
                      shape: const RoundedRectangleBorder(
                        borderRadius:
                            BorderRadius.vertical(top: Radius.circular(16)),
                      ),
                      builder: (context) {
                        return SizedBox(
                          height: MediaQuery.of(context).size.height \* 0.5,
                          child: const ExplorerListPage(),
                        );
                      },
                    );
                  },
                  style: ElevatedButton.styleFrom(
                    shape: RoundedRectangleBorder(
                      borderRadius: BorderRadius.circular(16),
                    ),
                    padding: const EdgeInsets.symmetric(
                      horizontal: 24,
                      vertical: 12,
                    ),
                  ),
                  child: const Row(
                    children: \[
                      Icon(Icons.explore),
                      SizedBox(width: 8),
                      Text('Explore'),
                    \],
                  ),
                ),
                FloatingActionButton(
                  onPressed: () {
                    context.push(Screen.spotList.path);
                  },
                  child: const Icon(Icons.photo),
                ),
              \],
            ),
          ),
        \],
      ),
    );
  }
}

---

## 🤖 アシスタント
*2024/12/10 22:07:20*

カメラのアイコンをセンターに配置し、それを押すと `ShootingPage` に遷移するように変更するコードを以下に示します。

```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import 'package:hooks_riverpod/hooks_riverpod.dart';
import 'package:snpit_guild_app/domain/screen.dart';

class MapPage extends HookConsumerWidget {
  const MapPage({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    return Scaffold(
      body: Stack(
        children: [
          const Center(child: Text('Map')),
          Positioned(
            bottom: 16,
            left: 16,
            right: 16,
            child: Row(
              mainAxisAlignment: MainAxisAlignment.spaceBetween,
              children: [
                FloatingActionButton(
                  heroTag: 'current_location_button',
                  onPressed: () {
                    debugPrint('TODO: My Location');
                  },
                  child: const Icon(Icons.my_location),
                ),
                FloatingActionButton(
                  onPressed: () {
                    context.push(Screen.shooting.path); // ShootingPageへ遷移
                  },
                  child: const Icon(Icons.camera_alt),
                ),
                ElevatedButton(
                  onPressed: () {
                    showModalBottomSheet<void>(
                      context: context,
                      isScrollControlled: true,
                      shape: const RoundedRectangleBorder(
                        borderRadius:
                            BorderRadius.vertical(top: Radius.circular(16)),
                      ),
                      builder: (context) {
                        return SizedBox(
                          height: MediaQuery.of(context).size.height * 0.5,
                          child: const ExplorerListPage(),
                        );
                      },
                    );
                  },
                  style: ElevatedButton.styleFrom(
                    shape: RoundedRectangleBorder(
                      borderRadius: BorderRadius.circular(16),
                    ),
                    padding: const EdgeInsets.symmetric(
                      horizontal: 24,
                      vertical: 12,
                    ),
                  ),
                  child: const Row(
                    children: [
                      Icon(Icons.explore),
                      SizedBox(width: 8),
                      Text('Explore'),
                    ],
                  ),
                ),
              ],
            ),
          ),
        ],
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: () {
          context.push(Screen.shooting.path); // ShootingPageへ遷移
        },
        child: const Icon(Icons.camera_alt),
      ),
      floatingActionButtonLocation: FloatingActionButtonLocation.centerDocked,
    );
  }
}
```

### 変更点
1. **カメラアイコンのボタン**を追加:
   - `FloatingActionButton` を `floatingActionButton` プロパティに設定。
   - `FloatingActionButtonLocation.centerDocked` を使用して中央に配置。

2. **遷移先の定義**:
   - `context.push(Screen.shooting.path);` を使って `ShootingPage` に遷移します。
   - `Screen.shooting.path` は適切な `GoRouter` の設定が必要です。

### 注意
- `Screen.shooting.path` のルートが正しく設定されているか確認してください。
- ボタンのデザインやスタイルを変更したい場合は `FloatingActionButton` のプロパティをカスタマイズしてください。

---

## 👤 ユーザー
*2024/12/10 22:07:48*

違う違う、今のconst Center(child: Text('Map')),のところを変えてほしい

---

## 🤖 アシスタント
*2024/12/10 22:08:10*

理解しました！`const Center(child: Text('Map'))` の箇所をカメラアイコンのボタンに置き換え、ボタンを押した際に `ShootingPage` に遷移するコードを以下に示します。

```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import 'package:hooks_riverpod/hooks_riverpod.dart';
import 'package:snpit_guild_app/domain/screen.dart';
import 'package:snpit_guild_app/presentation/pages/explorer_list_page.dart';

class MapPage extends HookConsumerWidget {
  const MapPage({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    return Scaffold(
      body: Stack(
        children: [
          // 中央にカメラアイコンのボタンを配置
          Center(
            child: FloatingActionButton(
              onPressed: () {
                context.push(Screen.shooting.path); // ShootingPageへ遷移
              },
              child: const Icon(Icons.camera_alt),
            ),
          ),
          Positioned(
            bottom: 16,
            left: 16,
            right: 16,
            child: Row(
              mainAxisAlignment: MainAxisAlignment.spaceBetween,
              children: [
                FloatingActionButton(
                  heroTag: 'current_location_button',
                  onPressed: () {
                    debugPrint('TODO: My Location');
                  },
                  child: const Icon(Icons.my_location),
                ),
                ElevatedButton(
                  onPressed: () {
                    showModalBottomSheet<void>(
                      context: context,
                      isScrollControlled: true,
                      shape: const RoundedRectangleBorder(
                        borderRadius:
                            BorderRadius.vertical(top: Radius.circular(16)),
                      ),
                      builder: (context) {
                        return SizedBox(
                          height: MediaQuery.of(context).size.height * 0.5,
                          child: const ExplorerListPage(),
                        );
                      },
                    );
                  },
                  style: ElevatedButton.styleFrom(
                    shape: RoundedRectangleBorder(
                      borderRadius: BorderRadius.circular(16),
                    ),
                    padding: const EdgeInsets.symmetric(
                      horizontal: 24,
                      vertical: 12,
                    ),
                  ),
                  child: const Row(
                    children: [
                      Icon(Icons.explore),
                      SizedBox(width: 8),
                      Text('Explore'),
                    ],
                  ),
                ),
                FloatingActionButton(
                  onPressed: () {
                    context.push(Screen.spotList.path);
                  },
                  child: const Icon(Icons.photo),
                ),
              ],
            ),
          ),
        ],
      ),
    );
  }
}
```

### 変更内容
1. **`Center` 内を変更**:
   - `const Center(child: Text('Map'))` を削除し、`FloatingActionButton` を配置。
   - ボタンの中央配置を維持。

2. **カメラアイコンのボタン**:
   - `FloatingActionButton` を使い、`ShootingPage` に遷移する処理を追加。

これにより、画面の中央にカメラアイコンのボタンが表示され、押すと `ShootingPage` に遷移します。

---
