# å‹å®‰å…¨ãªSDKé¸æŠ

æ—¥ä»˜: 2025-06-04

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/4 20:41:53*

@hey-api/openapi-ts ã®@hey-api/client-fetch" ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã‚³ãƒ¼ãƒ‰ã‚’ã‚¸ã‚§ãƒãƒ¬ã‚¤ãƒˆã—ã¦ã„ã‚‹ã€‚
./openapi.yaml
ãã®ã‚³ãƒ¼ãƒ‰ã®apiã®ã‚³ãƒ¼ãƒ«ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‹å®šç¾©ã«ã¤ã„ã¦ã®æ„è¦‹ãŒã»ã—ã„ã€‚
ã‚ˆã‚Šå‹å®‰å…¨ãªã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹sdkãŒã‚ã‚Œã°ãã¡ã‚‰ã‚’ä½¿ã„ãŸã„ã€‚

import { defineConfig } from "@hey-api/openapi-ts";

export default defineConfig({
  input: "./openapi.yaml",
  output: {
    path: "./src/generated",
    format: "biome",
    lint: false,
  },
  plugins: \[
    {
      name: "@hey-api/client-fetch",
      baseUrl: "http://localhost:3000",
    },
  \],
});

openapi: 3.1.0
info:
  title: MyApp API
  version: 1.0.0
  description: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†API
components:
  schemas:
    User:
      type: object
      properties:
        id:
          type: string
          description: ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
          example: abc12345
        name:
          type: string
          description: ãƒ¦ãƒ¼ã‚¶ãƒ¼å
          example: ç”°ä¸­å¤ªéƒ
        email:
          type: string
          format: email
          description: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
          example: tanaka@example.com
        createdAt:
          type: string
          description: ä½œæˆæ—¥æ™‚
          example: 2024-01-15 10:30:00
      required:
        - id
        - name
        - email
        - createdAt
    ErrorResponse:
      type: object
      properties:
        data:
          nullable: true
        status:
          type: string
          enum:
            - error
        message:
          type: string
          example: ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ
      required:
        - data
        - status
        - message
    CreateUserRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          description: ãƒ¦ãƒ¼ã‚¶ãƒ¼å
          example: ç”°ä¸­å¤ªéƒ
        email:
          type: string
          format: email
          description: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
          example: tanaka@example.com
      required:
        - name
        - email
  parameters: {}
paths:
  /api/users:
    get:
      summary: å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å–å¾—
      description: ã‚·ã‚¹ãƒ†ãƒ ã«ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å–å¾—ã—ã¾ã™
      responses:
        "200":
          description: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/User"
                  status:
                    type: string
                    enum:
                      - success
                      - error
                    example: success
                  message:
                    type: string
                    example: æ“ä½œãŒæˆåŠŸã—ã¾ã—ãŸ
                required:
                  - data
                  - status
    post:
      summary: æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆ
      description: æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ã‚·ã‚¹ãƒ†ãƒ ã«ç™»éŒ²ã—ã¾ã™
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateUserRequest"
      responses:
        "201":
          description: ä½œæˆã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: "#/components/schemas/User"
                  status:
                    type: string
                    enum:
                      - success
                      - error
                    example: success
                  message:
                    type: string
                    example: æ“ä½œãŒæˆåŠŸã—ã¾ã—ãŸ
                required:
                  - data
                  - status
        "400":
          description: ä¸æ­£ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
  /api/users/{id}:
    get:
      summary: ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å–å¾—
      description: æŒ‡å®šã•ã‚ŒãŸIDã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—ã—ã¾ã™
      parameters:
        - schema:
            type: string
            description: ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
            example: abc12345
          required: true
          name: id
          in: path
      responses:
        "200":
          description: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: "#/components/schemas/User"
                  status:
                    type: string
                    enum:
                      - success
                      - error
                    example: success
                  message:
                    type: string
                    example: æ“ä½œãŒæˆåŠŸã—ã¾ã—ãŸ
                required:
                  - data
                  - status
        "404":
          description: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚‰ãªã„
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/4 20:42:45*

ä»¥ä¸‹ã§ã¯ **@hey-api/openapi-ts + @hey-api/client-fetch** ã§ç”Ÿæˆã•ã‚Œã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹ã®ç¾çŠ¶ã¨æ³¨æ„ç‚¹ã‚’æ•´ç†ã—ã€å‹å®‰å…¨æ€§ã‚’ã‚‚ã†ä¸€æ®µå¼•ãä¸Šã’ãŸã„å ´åˆã«æ¡ã‚Œã‚‹é¸æŠè‚¢ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚  

---

## 1. ç¾çŠ¶ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹ã§æ°—ã«ãªã‚‹ãƒã‚¤ãƒ³ãƒˆ

| è¦³ç‚¹ | æŒ™å‹• | æ‡¸å¿µ / ã‚³ãƒ¡ãƒ³ãƒˆ |
| --- | --- | --- |
| **æˆåŠŸ / å¤±æ•—ã®åŒºåˆ¥** | `GET /api/users` ãªã©è¤‡æ•°ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚‹å ´åˆã€æœ€æ–°ç‰ˆ (â‰¥ v0.66) ã‹ã‚‰ã¯ *status code â‡’ body* ã® **Record** ãŒç”Ÿæˆã•ã‚Œã‚‹ãŒã€å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯ *äº¤å·®å‹* ãŒåãå‡ºã•ã‚Œã‚‹ãŸã‚åˆ¤å®šãŒé›£ã—ã„ | äº¤å·®å‹ã®ã¾ã¾ãªã‚‰ v0.66 ä»¥é™ã¸æ›´æ–°ã™ã‚‹ã¨æ”¹å–„ï½¡ï¼ˆissue #829 å‚ç…§ï¼‰ îˆ€citeîˆ‚turn3search3îˆ |
| **ã‚¨ãƒ©ãƒ¼æ™‚ã®å‹** | `default` å¿œç­”ã‚’å®šç¾©ã™ã‚‹ã¨ `unknown` ã«ãªã‚ŠãŒã¡ | 400, 404 ãªã© **å…·ä½“çš„ã‚³ãƒ¼ãƒ‰ã”ã¨ã« schema** ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã¨å‹ä»˜ã‘ã•ã‚Œã‚‹ï¼ˆissue #691ï¼‰ îˆ€citeîˆ‚turn3search2îˆ |
| **ãƒ˜ãƒƒãƒ€å–å¾—** | ç¾çŠ¶ã¯æœ¬ä½“ã ã‘è¿”ã™å®Ÿè£… | ãƒ˜ãƒƒãƒ€ã‚‚æ¬²ã—ã„å ´åˆã¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ‹¡å¼µãŒå¿…è¦ï¼ˆissue #513ï¼‰ îˆ€citeîˆ‚turn3search5îˆ |
| **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼** | TypeScript å‹ã®ã¿ã€‚**å®Ÿè¡Œæ™‚ã«æ§‹é€ ãŒå´©ã‚Œã¦ã„ã¦ã‚‚ä¾‹å¤–ã«ãªã‚‰ãªã„** | é‡å¤§ãƒã‚°æ¤œçŸ¥ã®æœ€å¾Œã®ç ¦ãŒç„¡ã„ |

> **å°æ‰‹å…ˆå¯¾å‡¦**  
> - `@hey-api/openapi-ts@^0.68` ã¸æ›´æ–°ã—ã€`responses/errors map` ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹  
> - ãã‚Œã§ã‚‚ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼ã¯å¾—ã‚‰ã‚Œãªã„ãŸã‚ã€ `zod.parse()` ãªã©ã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹

---

## 2. ã•ã‚‰ã«å‹å®‰å…¨ãƒ»ãƒ©ãƒ³ã‚¿ã‚¤ãƒ å®‰å…¨ã‚’é«˜ã‚ã‚‹ OSS ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼

| ãƒ„ãƒ¼ãƒ« | ç‰¹å¾´ | ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼ | å‚™è€ƒ |
| --- | --- | --- | --- |
| **openapi-zod-client** îˆ€citeîˆ‚turn0search0îˆ | Zodã‚¹ã‚­ãƒ¼ãƒã¨ [Zodios](https://zodios.org/) ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä¸€æ‹¬ç”Ÿæˆã€‚`parse()` æ¸ˆã¿ã®å€¤ã‚’è¿”ã™ã®ã§ **å®Ÿè¡Œæ™‚ã‚‚å®‰å…¨** | âœ…ï¼ˆZodï¼‰ | ç”Ÿæˆç‰©ã¯1ãƒ•ã‚¡ã‚¤ãƒ«ã€è»½é‡ |
| **typed-openapi** îˆ€citeîˆ‚turn0search2îˆ | IDEè£œå®Œé€Ÿåº¦ã‚’é‡è¦–ã—ãŸé«˜é€Ÿã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯åˆ¥é€”ç”¨æ„ | âŒï¼ˆå‹ã®ã¿ï¼‰ | ã€Œzodã¯è¦ã‚‰ãªã„ãŒè£œå®Œé€Ÿåº¦â†‘ã€ãªã‚‰å€™è£œ |
| **openapi-typescript + openapi-fetch** îˆ€citeîˆ‚turn5search0îˆ‚turn5search9îˆ | ã¾ãšå‹ (`paths`) ã‚’ç”Ÿæˆã—ã€`createClient()` ã§ **fetch ã«å®Œå…¨å‹ä»˜ã‘**ã€‚`openapi-fetch-gen` ã§é–¢æ•°ãƒ©ãƒƒãƒ‘è‡ªå‹•ç”Ÿæˆã‚‚å¯ îˆ€citeîˆ‚turn5search7îˆ | âŒï¼ˆå‹ã®ã¿ï¼‰ | å¥½ã¿ã®ãƒ•ã‚§ãƒƒãƒæˆ¦ç•¥ã‚’çµ„ã¿è¾¼ã¿ã‚„ã™ã„ |
| **Orval** ï¼ˆ`client: "zod"` è¨­å®šï¼‰ îˆ€citeîˆ‚turn4search1îˆ‚turn4search6îˆ | React Query / SWR ãƒ•ãƒƒã‚¯ã‚‚åŒæ™‚ç”Ÿæˆã€‚Zodã§æ¤œè¨¼å¯ | âœ… | UI å±¤ã¨å¯†ã«é€£æºã—ãŸã„æ™‚ä¾¿åˆ© |
| **Speakeasy / Fern** ï¼ˆã‚¯ãƒ©ã‚¦ãƒ‰SaaSï¼‰ îˆ€citeîˆ‚turn6search0îˆ‚turn0search1îˆ | CI é€£æºã§å„è¨€èª SDK + docs ã‚’è‡ªå‹•ç™ºè¡Œã€‚å‹å®‰å…¨ãƒ»ãƒªãƒˆãƒ©ã‚¤ãƒ»èªè¨¼ãƒ˜ãƒ«ãƒ‘ç­‰ã¾ã§è¾¼ã¿ | âœ…ï¼ˆZodãƒ™ãƒ¼ã‚¹ or ç‹¬è‡ªï¼‰ | OSSç‰ˆã‚ˆã‚Šå­¦ç¿’ã‚³ã‚¹ãƒˆä½ã„ãŒå•†ç”¨ãƒ—ãƒ©ãƒ³ä¸­å¿ƒ |

---

## 3. ã€Œopenapi-zod-clientã€ã«ä¹—ã‚Šæ›ãˆã‚‹æœ€å°ã‚¹ãƒ†ãƒƒãƒ—ä¾‹

1. **ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**

```bash
pnpm add -D openapi-zod-client zod zodios
```

2. **ç™ºé›»ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**

```ts
// scripts/gen-sdk.ts
import { generate } from 'openapi-zod-client';

await generate({
  input: './openapi.yaml',
  output: './src/generated-zod',
  // Zodios ç”¨ã® fetch ãƒ©ãƒƒãƒ‘ã‚‚ç”Ÿæˆã•ã‚Œã‚‹
});
```

3. **å‘¼ã³å‡ºã—å´**

```ts
import { zodios } from './generated-zod';

const api = zodios('http://localhost:3000');

// æˆåŠŸæ™‚ã¯ data,user, ã‚¨ãƒ©ãƒ¼æ™‚ã¯ catch ã§ ErrorResponse å‹ãŒå–ã‚Œã‚‹
try {
  const { data } = await api.get('/api/users');
  console.log(data[0].email); // å‹å®‰å…¨ï¼
} catch (err) {
  // err ã¯è‡ªå‹•ã§ ErrorResponse å‹
}
```

Zod ãŒ **å®Ÿè¡Œæ™‚ã«ä¸æ­£æ§‹é€ ã‚’ throw** ã—ã¦ãã‚Œã‚‹ã®ã§ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å¤‰æ›´ã«æ°—ä»˜ã‘ãªã„ â€œsilent failureâ€ ã‚’é˜²ã’ã¾ã™ã€‚

---

## 4. åˆ¤æ–­åŸºæº–ã¾ã¨ã‚

| è¦ä»¶ | æ¨å¥¨ |
| --- | --- |
| **æœ€å°é™ã®å¤‰æ›´ã§ç¾è¡Œãƒ„ãƒ¼ãƒ«ã‚’å»¶å‘½** | `@hey-api/openapi-ts@>=0.68` ã«ã‚¢ãƒƒãƒ—ã€ã‚¨ãƒ©ãƒ¼ç”¨ schema ã‚’ç´°åˆ†åŒ– |
| **OSS ã§ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼ã¾ã§æ¬²ã—ã„** | `openapi-zod-client` / `Orval (client: "zod")` |
| **è»½é‡ã§ fetch ã ã‘å‹ä»˜ã‘ã—ãŸã„** | `openapi-typescript` + `openapi-fetch` |
| **è¤‡æ•°è¨€èª SDK + Docs è‡ªå‹•ç™ºè¡Œ** | Speakeasy / Fernï¼ˆæœ‰å„Ÿï¼‰ |

---

### ã²ã¨ã“ã¨

ã€Œãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹ã¯ compile-time ã ã‘ã§ååˆ†ã‹ï¼Ÿã€ã€Œå®Ÿè¡Œæ™‚æ¤œè¨¼ã‚’å…¥ã‚Œã¦ãƒã‚°ç™ºè¦‹ã‚³ã‚¹ãƒˆã‚’ä¸‹ã’ã‚‹ã‹ï¼Ÿã€ãŒåˆ†å²ç‚¹ã§ã™ã€‚  
é–‹ç™ºè¦æ¨¡ãŒå¤§ãããªã‚‹ã»ã© **Zod ãªã©ã§æ—©æœŸã«å¤±æ•—ã•ã›ã‚‹ä»•çµ„ã¿** ãŒåŠ¹æœã‚’ç™ºæ®ã™ã‚‹ã®ã§ã€ä»Šå›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ CRUD ç¨‹åº¦ã§ã‚‚ `openapi-zod-client` ã‚ãŸã‚Šã‚’è©¦ã—ã¦ã¿ã‚‹ä¾¡å€¤ã¯ååˆ†ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/4 20:47:16*

ãŸã¨ãˆã°ã€(alias) getApiUsers&lt;false&gt;(options?: Options&lt;GetApiUsersData, false&gt; | undefined): Promise&lt;({
    data: {
        data: Array&lt;User&gt;;
        status: "success" | "error";
        message?: string;
    };
    error: undefined;
} | {
    ...;
}) & {
    ...;
}&gt;
import getApiUsers

ã¨ã„ã†å‹ã‚’è¿”ã—ã¦ãã‚‹ã®ã ã‘ã‚Œã©ã‚‚ã“ã‚Œã¯ä¸€èˆ¬çš„ãªã®ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/4 20:47:56*

### ãã® `getApiUsers&lt;false&gt;(â€¦) =&gt; Promise&lt;â€¦&gt;` å‹ã¯ã€Œçµæœã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆResultâ€likeï¼‰ã€ãƒ‘ã‚¿ãƒ¼ãƒ³  
`@hey-api/client-fetch` ãŒæ¡ç”¨ã—ã¦ã„ã‚‹ä¸€èˆ¬çš„ãªè¿”å´ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®ã²ã¨ã¤ã§ã™ã€‚

| ãƒ‘ã‚¿ãƒ¼ãƒ³ | å‹ã®ä¾‹ | æ¡ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | å‚™è€ƒ |
| --- | --- | --- | --- |
| \*\*â˜‘ï¸ çµæœã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã™\*\*&lt;br&gt;ï¼ˆ`{ data, error }` ã®åˆ¤åˆ¥ä»˜ã unionï¼‰ | `Promise&lt;{ data:T; error:undefined } | { data:undefined; error:E }&gt;` | @hey-api/client-fetch, openapi-fetch ãªã© | axios ã® `data` ç›´è¿”ã—å‹ã‚ˆã‚Š \*\*å®‰å…¨ã ãŒ if æ–‡ãŒå¢—ãˆã‚‹\*\* îˆ€citeîˆ‚turn0search1îˆ‚turn5search0îˆ |
| \*\*â˜’ æˆåŠŸæ™‚ã®ã¿å€¤ã‚’è¿”ã—ã¦ã‚¨ãƒ©ãƒ¼ã¯ throw\*\* | `Promise&lt;T&gt;`ï¼ˆcatch ã§ `E`ï¼‰ | openapi-zod-client / Zodios, openapi-typescript-fetch | async/await ã«é¦´æŸ“ã‚€ãŒ \*\*try-catch å¿…é ˆ\*\* |
| \*\*â˜‘ï¸ React Query/SWR ãƒ•ãƒƒã‚¯ã‚’è¿”ã™\*\* | `useGetApiUsers()` â†’ `{ data, error, isLoading }` | Orval ãªã© | UI å±¤å‘ã‘ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥è¾¼ã¿ |

#### å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ `&lt;false&gt;`
`getApiUsers&lt;false&gt;` ã® `&lt;false&gt;` ã¯ \*\*ã€Œãƒ‡ãƒ¼ã‚¿å¤‰æ› (transform) ã‚’è¡Œã‚ãªã„ã€\*\* ã¨ã„ã†ãƒ–ãƒ¼ãƒ«ãƒ•ãƒ©ã‚°ã§ã™ã€‚`true` ã‚’æ¸¡ã™ã¨ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«å®šç¾©ã—ãŸ Transformer ãŒèµ°ã‚Šã€æ—¥ä»˜æ–‡å­—åˆ—â†’`Date` ãªã©ã®å¤‰æ›å¾Œã®å‹ã§è¿”å´ã•ã‚Œã¾ã™ (v0.66ä»¥é™ã§è¿½åŠ )ã€‚åŒã˜é–¢æ•°åã§ \*\*2 ç³»åˆ—ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰\*\* ã‚’ç”¨æ„ã—ã¦ã„ã‚‹ã®ãŒç‰¹å¾´ã§ã™ã€‚ îˆ€citeîˆ‚turn0search7îˆ

---

## â€œResult ãƒ‘ã‚¿ãƒ¼ãƒ³â€ ã¯ã©ã“ã¾ã§ä¸€èˆ¬çš„ã‹ï¼Ÿ

- \*\*OpenAPI ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ç•Œéšˆã§ã¯ã‹ãªã‚Šãƒ¡ã‚¸ãƒ£ãƒ¼\*\*  
  \*å®Ÿè¡Œæ™‚ã« throw ã‚’æŠ‘åˆ¶\* ã—ã€HTTP 200 ä»¥å¤–ã§ã‚‚ 2 ãƒ‘ã‚¹ã§å‡¦ç†ã—ãŸã„ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å¿—å‘ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ç›¸æ€§ãŒè‰¯ã„ã€‚
- ã„ã‚ã‚†ã‚‹ \*\*FP ç³» (fp-ts, neverthrow)\*\* ã§ã‚‚åŒã˜ `Result&lt;T, E&gt;` ã‚’è¿”ã™ãƒ‡ã‚¶ã‚¤ãƒ³ãŒå®šç€ã€‚
- ãŸã ã— \*\*React Query ç­‰ã¨ã®è¦ªå’Œæ€§ã¯ä½ã‚\*\*ï¼ˆ`error: undefined` ãŒå…¥ã‚‹ã¨ãƒ•ãƒƒã‚¯ã®å‹ã‚¬ãƒ¼ãƒ‰ãŒå†—é•·ï¼‰ã€‚

&gt; \*\*è¦ã¯ã€ŒError ã‚’ throw ã™ã‚‹ã‹ã€å€¤ã§è¿”ã™ã‹ã€ã®å¥½ã¿\*\*  
&gt; å°è¦æ¨¡é–‹ç™ºã‚„ UI ãƒ¬ã‚¤ãƒ¤ä¸»ä½“ãªã‚‰ throw æ–¹å¼ã®ã»ã†ãŒã‚³ãƒ¼ãƒ‰é‡ã¯æ¸›ã‚‹ã‚±ãƒ¼ã‚¹ãŒå¤šã„ã§ã™ã€‚

---

## ã‚‚ã£ã¨å‹å®‰å…¨ï¼ˆï¼‹ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼ï¼‰ã«ã—ãŸã„å ´åˆ

| è¦ä»¶ | ç§»è¡Œå€™è£œ | å¤‰æ›´é‡ | ç‰¹è‰² |
| --- | --- | --- | --- |
| \*\*ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ schema æ¤œè¨¼ã—ãŸã„\*\* | openapi-zod-client + Zodios | ä¸­ | Zod ã§ \*\*`parse()` æ¸ˆã¿\*\* ã‚’è¿”ã™ã®ã§ API å´ã®ç ´å£Šçš„å¤‰æ›´ã‚’å³æ¤œçŸ¥ |
| \*\*UI ãƒ•ãƒƒã‚¯ã‚‚è‡ªå‹•ç”Ÿæˆã—ãŸã„\*\* | Orval (`client:"zod"`) | ä¸­ | React Query/SWR/ TanStack Query ã‚’ã¾ã¨ã‚ã¦ç”Ÿæˆï¼ˆZodæ¤œè¨¼å¯ï¼‰ |
| \*\*ç¾è¡Œãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¶­æŒã—ã¦ç´°éƒ¨ã ã‘æ”¹å–„\*\* | @hey-api/client-fetch ã‚’&lt;br&gt;æœ€æ–°ç‰ˆ (â‰¥0.68) ã«æ›´æ–°ã—&lt;br&gt;`ErrorResponse` ã‚’å„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã§å®šç¾© | å° | issue #691 ã® â€œerror unknown å•é¡Œâ€ ãŒè§£æ¶ˆã•ã‚Œå‹ç²¾åº¦â†‘ îˆ€citeîˆ‚turn0search1îˆ |

---

### ã¾ã¨ã‚

- `Promise&lt;{ data; error }&gt;` å½¢å¼ã¯ \*\*OpenAPI SDK ã§ã¯ä¸€èˆ¬çš„\*\*ã€‚  
- ãŸã ã— \*try-catch ã§ throw ã‚’æ‰±ã†æ´¾\* ã¨ \*Result ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ´¾\* ãŒäºŒåˆ†ã—ã¦ãŠã‚Šã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ–‡åŒ–ã§é¸ã¶ã®ãŒãƒ™ã‚¿ãƒ¼ã€‚  
- \*\*ã€Œå®Ÿè¡Œæ™‚æ¤œè¨¼ã¾ã§æ¬²ã—ã„ã‹ã€\*\* ãŒãƒ©ã‚¤ãƒ–ãƒ©ãƒªé¸å®šã®æ±ºã‚æ‰‹ã€‚ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼ãŒå¿…è¦ãªã‚‰ Zod ç”Ÿæˆç³»ã¸ã€IDE å‹ä¿è¨¼ã§ååˆ†ãªã‚‰ `@hey-api` ã‚„ `openapi-fetch` ã‚’ä½¿ã„ç¶šã‘ã¦ã‚‚å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/4 20:52:29*

æœ€æ–°ç‰ˆã§ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®æ›¸ãæ–¹ã‚’æ¯”è¼ƒã—ã¦æ¬²ã—ã„ã€‚ã¡ãªã¿ã«ä»Šã¯æœ€æ–°ç‰ˆã§ã‚ã‚‹

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/4 20:53:08*

## `@hey-api/client-fetch`ï¼ˆ2025-06-æ™‚ç‚¹ v0.10.*ï¼‰ã§æ›¸ã‘ã‚‹ 3 ã¤ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚¹ã‚¿ã‚¤ãƒ«

> ã©ã‚Œã‚‚ **SDK é–¢æ•°ã«çµ„ã¿è¾¼ã¾ã‚ŒãŸã‚¸ã‚§ãƒãƒªã‚¯ã‚¹** ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã ã‘ã§æ›¸ãåˆ†ã‘ã‚‰ã‚Œã¾ã™ã€‚  
> `getApiUsers<ThrowOnError>()` ã® 1 å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚

| ã‚¹ã‚¿ã‚¤ãƒ« | ä½¿ã„æ–¹ | è¿”ã‚Šå€¤ã®å‹ | å…¸å‹ã‚³ãƒ¼ãƒ‰ | é•·æ‰€/çŸ­æ‰€ |
| --- | --- | --- | --- | --- |
| **â‘  Result ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆæ—¢å®šï¼‰** | çœç•¥ or `<false>` | `Promise<{ data:T; error:undefined } \| { data:undefined; error:E }>` | ```ts const { data, error } = await getApiUsers(); if (error) {/*404ç­‰*/} ``` | âœ” ä¾‹å¤–ãƒ•ãƒ­ãƒ¼ã‚’æ±šã•ãªã„<br>âœ˜ `if(error)` ã‚¬ãƒ¼ãƒ‰å¿…é ˆ |
| **â‘¡ throwOnErrorï¼ˆé–¢æ•°å˜ä½ï¼‰** | `<true>` or `getApiUsers({ throwOnError:true })` | `Promise<T>` ï¼ˆå¤±æ•—æ™‚ **throw**ï¼‰ | ```ts try { const { data } = await getApiUsers<true>(); } catch (err: ApiError) { â€¦ } ``` | âœ” async/await ã¨è‡ªç„¶ã«åˆæµ<br>âœ˜ æ¯å› try/catch |
| **â‘¢ ã‚°ãƒ­ãƒ¼ãƒãƒ« throwOnError** | ```ts client.setConfig(createConfig({ throwOnError:true })); ``` îˆ€citeîˆ‚turn1search4îˆ | SDK å…¨é–¢æ•°ãŒ â‘¡ ã¨åŒå‹ | å‘¼ã³å‡ºã—ã¯é€šå¸¸ã® `await getApiUsers()` | âœ” ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§çµ±ä¸€<br>âœ˜ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå¤–ã«ä¾‹å¤–ãŒæ¼ã‚Œã‚‹ |

### 1. Result ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰

```ts
const res = await getApiUsers();           // ThrowOnError = false
if (res.error) {
  // res.error ã¯ HTTP ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã”ã¨ã«å‹ä»˜ã‘ã•ã‚Œã‚‹ï¼ˆ400=ErrorResponse ãªã©ï¼‰
  handle(res.error);
} else {
  render(res.data.data);
}
```

- **å‹ã‚¬ãƒ¼ãƒ‰**: `if (res.error)` ã ã‘ã§ OKã€‚  
- **å‹ç²¾åº¦**: 400/404 ãªã© **å„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ¯ã« schema ã‚’æ›¸ã‘ã°** `res.error.status === 400` æ™‚ã« `ErrorResponse` å‹ã¸çµã‚Šè¾¼ã‚ã¾ã™ îˆ€citeîˆ‚turn0search2îˆã€‚

### 2. é–¢æ•°ã”ã¨ã« `throwOnError`

```ts
try {
  const { data } = await getApiUsers({ throwOnError: true });
  // 200 ç³»ã®ã¿ã“ã“ã«æ¥ã‚‹
} catch (err: ApiError<'404' | '400'>) {
  toast(err.data?.message ?? err.message);
}
```

- SDK å´ã®å‹ã¯ **æˆåŠŸæ™‚ï¼data / å¤±æ•—æ™‚ï¼throw** ã«åˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã™ã€‚  
- generics: `getApiUsers<true>()` ã§ã‚‚åŒã˜ã€‚

### 3. ã‚°ãƒ­ãƒ¼ãƒãƒ«ã« `throwOnError`

```ts
import { createClient, createConfig } from "@hey-api/client-fetch";

const client = createClient();
client.setConfig(createConfig({ throwOnError: true })); // å…¨ API ãŒ throw æ´¾ã«
```

- è¨­å®šå¾Œã¯ **try/catch ã‚¹ã‚¿ã‚¤ãƒ«ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ**ã€‚  
- å˜ä½“ãƒ†ã‚¹ãƒˆã§ã€Œæˆ»ã‚Šå€¤ union ã‚’æ¤œæŸ»ã—ãŸã„ã€å ´åˆãªã©ã¯ `getApiUsers({ throwOnError:false })` ã§éƒ½åº¦ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã§ãã¾ã™ã€‚

---

## Reactï¼TanStack Query ãƒ—ãƒ©ã‚°ã‚¤ãƒ³çµŒç”±ã®åˆ¥è§£

`@tanstack/react-query` ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¿½åŠ ã™ã‚‹ã¨

```ts
const { data, error, isLoading } = useQuery(getApiUsersOptions());
```

ã®ã‚ˆã†ã« **Query ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ¨™æº–ã® `error`** ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¸ãƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚Œã¾ã™ îˆ€citeîˆ‚turn0search6îˆã€‚  
UI ã§ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ãƒªãƒˆãƒ©ã‚¤ã‚’æ‰±ã†ãªã‚‰ã“ã¡ã‚‰ãŒæ¥½ã§ã™ã€‚

---

## ã„ã¤ã©ã‚Œã‚’é¸ã¶ï¼Ÿ

| ã‚·ãƒ¼ãƒ³ | æ¨å¥¨ |
| --- | --- |
| å–å¾—å¾Œã™ãã« UI ã¸æµã™ãƒ»React Query ã¨åˆã‚ã›ãŸã„ | **â‘  Result** or **TanStack** |
| UseCaseï¼Service å±¤ã§æ—©æœŸ return â†’ UI ã¯ catch ã ã‘ | **â‘¡ throwOnError** |
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§ä¾‹å¤–æ–¹é‡ã‚’çµ±ä¸€ã—ãŸã„ | **â‘¢ ã‚°ãƒ­ãƒ¼ãƒãƒ« throwOnError** |

> **ãƒã‚¤ãƒ³ãƒˆ**  
> - **ãƒ¬ã‚¹ãƒãƒ³ã‚¹ schema ã‚’ HTTP ã‚³ãƒ¼ãƒ‰ã”ã¨ã«ç”¨æ„**ã™ã‚‹ã¨ã€ã©ã®ã‚¹ã‚¿ã‚¤ãƒ«ã§ã‚‚ã‚¨ãƒ©ãƒ¼å‹ãŒçµã‚Šè¾¼ã¾ã‚Œã¾ã™ã€‚  
> - ãªãŠ **Transformers** ã¯ *ã‚¨ãƒ©ãƒ¼å¿œç­”ã‚’å¤‰æ›ã—ãªã„* ãŸã‚ã€æ—¥ä»˜æ–‡å­—åˆ—â†’`Date` ç­‰ã‚’è¡Œã†å ´åˆã¯æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã¿å¯¾è±¡ã¨ãªã‚‹ç‚¹ã«æ³¨æ„ îˆ€citeîˆ‚turn0search4îˆã€‚

---

### ã¾ã¨ã‚

æœ€æ–°ã® `@hey-api/client-fetch` ã§ã¯ **ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ 1 ã¤ or ã‚ªãƒ—ã‚·ãƒ§ãƒ³ 1 è¡Œ** ã§  
- **Result ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ–¹å¼**  
- **ä¾‹å¤– throw æ–¹å¼**  
ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã¾ã™ã€‚  
è‡ªåˆ†ã®ã‚¢ãƒ—ãƒªå±¤ãŒã€Œif ã‚¬ãƒ¼ãƒ‰æ´¾ã€ã‹ã€Œtry/catch æ´¾ã€ã‹ã§æœ€é©ãªã‚¹ã‚¿ã‚¤ãƒ«ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/4 20:56:18*

å‹å®‰å…¨ãªã‚³ãƒ¼ãƒ‰ã¯ã©ã¡ã‚‰ã‹ï¼Ÿã¾ãŸã©ã†ã™ã‚Œã°ãã‚Œã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹ã®ã‹ï¼Ÿ
ã¡ãªã¿ã«ã“ã‚“ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ãƒ•ãƒ­ãƒ³ãƒˆã¯æ›¸ã„ã¦ã„ã‚‹ãŒã©ã¡ã‚‰ãŒãŠã™ã™ã‚ãªã®ã‹

import {
  type CreateUserRequest,
  getApiUsers,
  postApiUsers,
  type User,
} from "@myapp/api-client";
import { logger } from "@myapp/shared";
import type { ReactElement } from "react";
import { useEffect, useState } from "react";

function HomePage(): ReactElement {
  const \[users, setUsers\] = useState&lt;User\[\]&gt;(\[\]);
  const \[loading, setLoading\] = useState(false);
  const \[error, setError\] = useState&lt;string | null&gt;(null);
  const \[newUserName, setNewUserName\] = useState("");
  const \[newUserEmail, setNewUserEmail\] = useState("");

  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ã‚’å–å¾—
  const fetchUsers = async () =&gt; {
    try {
      setLoading(true);
      setError(null);
      logger.info("Fetching all users...");
      const response = await getApiUsers();

      if (response.data?.status === "success") {
        setUsers(response.data.data);
        logger.info(`Found ${response.data.data.length} users`);
      } else {
        setError("ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ");
        logger.error("Failed to fetch users");
      }
    } catch (error) {
      setError("ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ");
      logger.error("Error fetching users", error as Error);
    } finally {
      setLoading(false);
    }
  };

  // æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆ
  const createUser = async (e: React.FormEvent) =&gt; {
    e.preventDefault();

    if (!newUserName || !newUserEmail) {
      setError("åå‰ã¨ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
      return;
    }

    try {
      setLoading(true);
      setError(null);

      const userData: CreateUserRequest = {
        name: newUserName,
        email: newUserEmail,
      };

      logger.info(`Creating user: ${userData.name}`);
      const response = await postApiUsers({ body: userData });

      if (response.data?.status === "success") {
        logger.info(`User created: ${response.data.data.id}`);
        setNewUserName("");
        setNewUserEmail("");
        await fetchUsers(); // ãƒªã‚¹ãƒˆã‚’æ›´æ–°
      } else {
        setError("ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ");
        logger.error("Failed to create user");
      }
    } catch (error) {
      setError("ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ");
      logger.error("Error creating user", error as Error);
    } finally {
      setLoading(false);
    }
  };

  // åˆå›èª­ã¿è¾¼ã¿æ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ã‚’å–å¾—
  useEffect(() =&gt; {
    const loadInitialUsers = async () =&gt; {
      try {
        setLoading(true);
        setError(null);
        logger.info("Fetching all users...");
        const response = await getApiUsers();

        if (response.data?.status === "success") {
          setUsers(response.data.data);
          logger.info(`Found ${response.data.data.length} users`);
        } else {
          setError("ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ");
          logger.error("Failed to fetch users");
        }
      } catch (error) {
        setError("ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ");
        logger.error("Error fetching users", error as Error);
      } finally {
        setLoading(false);
      }
    };

    loadInitialUsers();
  }, \[\]); // ä¾å­˜é…åˆ—ã¯ç©ºã§å•é¡Œãªã„

  return (
    &lt;&gt;
      &lt;h1&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†&lt;/h1&gt;

      &lt;div className="card"&gt;
        &lt;h2&gt;æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ&lt;/h2&gt;
        &lt;form onSubmit={createUser}&gt;
          &lt;input
            type="text"
            placeholder="åå‰"
            value={newUserName}
            onChange={(e) =&gt; setNewUserName(e.target.value)}
            disabled={loading}
          /&gt;
          &lt;input
            type="email"
            placeholder="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹"
            value={newUserEmail}
            onChange={(e) =&gt; setNewUserEmail(e.target.value)}
            disabled={loading}
          /&gt;
          &lt;button type="submit" disabled={loading}&gt;
            {loading ? "å‡¦ç†ä¸­..." : "ä½œæˆ"}
          &lt;/button&gt;
        &lt;/form&gt;
      &lt;/div&gt;

      {error && &lt;div className="error"&gt;{error}&lt;/div&gt;}

      &lt;div className="card"&gt;
        &lt;h2&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§&lt;/h2&gt;
        &lt;button type="button" onClick={fetchUsers} disabled={loading}&gt;
          {loading ? "èª­ã¿è¾¼ã¿ä¸­..." : "æ›´æ–°"}
        &lt;/button&gt;

        {users.length === 0 ? (
          &lt;p&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã„ã¾ã›ã‚“&lt;/p&gt;
        ) : (
          &lt;ul className="user-list"&gt;
            {users.map((user) =&gt; (
              &lt;li key={user.id}&gt;
                &lt;strong&gt;{user.name}&lt;/strong&gt; - {user.email}
                &lt;small&gt; (ID: {user.id})&lt;/small&gt;
              &lt;/li&gt;
            ))}
          &lt;/ul&gt;
        )}
      &lt;/div&gt;
    &lt;/&gt;
  );
}

export default HomePage;

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/4 20:56:27*

### ã©ã¡ã‚‰ãŒã€Œã‚ˆã‚Šå‹å®‰å…¨ã€ã‹ï¼Ÿ

| è¦³ç‚¹ | Result ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ–¹å¼ï¼ˆ`ThrowOnError = false`ï¼‰ | ä¾‹å¤– throw æ–¹å¼ï¼ˆ`ThrowOnError = true`ï¼‰ |
| --- | --- | --- |
| **ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚** | é–¢æ•°ã®è¿”ã‚Šå€¤ã«<br>`{ data:T; error:undefined } \| { data:undefined; error:E }` ãŒç¾ã‚Œã‚‹ãŸã‚ã€<br>**ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«è§¦ã‚Œã‚‹å‰ã«å‹ã‚¬ãƒ¼ãƒ‰ãŒå¿…é ˆ**ã€‚<br>ã‚¬ãƒ¼ãƒ‰ã‚’æ›¸ãå¿˜ã‚Œã‚‹ã¨ TS ãŒã‚¨ãƒ©ãƒ¼ | è¿”ã‚Šå€¤ã¯ `T` ã ã‘ã€‚<br>**å‹ä¸Šã¯å¸¸ã«æˆåŠŸæ‰±ã„** ãªã®ã§ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å‚ç…§ã«å‹ã‚¬ãƒ¼ãƒ‰ã¯ä¸è¦ |
| **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ** | å¤±æ•—æ™‚ã§ã‚‚ä¾‹å¤–ã‚’æŠ•ã’ãªã„ã€‚ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å¿˜ã‚Œã‚‹ã¨ silent failure ã®å±é™º | å¤±æ•—æ™‚ã¯å¿…ãš `catch` ã«æ¥ã‚‹ã®ã§ã€**æ”¾ç½®ã—ã«ãã„** |
| **UI ã‚³ãƒ¼ãƒ‰é‡** | `if (response.error)` ãŒæ¯å›å¿…è¦ | ãµã¤ã†ã® `try/catch` ã§æ¸ˆã‚€ |
| **ESLint ãªã©** | un-handled result ã‚’æ¤œçŸ¥ã—ã‚„ã™ã„ | `catch` ã‚’æ›¸ã‹ãªã„ã¨ ESLint ãŒè­¦å‘Š |

**ã¤ã¾ã‚Šã€Œå‹ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ï¼‰ã ã‘ã€ã§è¦‹ã‚‹ã¨ *Result ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ–¹ãŒå³æ ¼***  
â€”å¤±æ•—ã‚±ãƒ¼ã‚¹ã‚’ **Union** ã§è¡¨ç¾ã™ã‚‹ãŸã‚ã€ç„¡è¦–ã™ã‚‹ã¨å‹ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚  
ä¸€æ–¹ã€ä¾‹å¤– throw æ–¹å¼ã¯ **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã«å¼·åˆ¶åŠ›** ãŒã‚ã‚Šã€UI ã‚³ãƒ¼ãƒ‰ã‚‚çŸ­ããªã‚ŠãŒã¡ã§ã™ã€‚

---

### åˆ‡ã‚Šæ›¿ãˆæ–¹æ³•

1. **å‘¼ã³å‡ºã—ã”ã¨ã«åˆ‡ã‚Šæ›¿ãˆã‚‹**

```ts
// Result ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆæ—¢å®šï¼‰
const res = await getApiUsers();                 // getApiUsers<false>() ã¨åŒã˜

// ä¾‹å¤– throw
try {
  const ok = await getApiUsers<true>();          // or getApiUsers({ throwOnError: true })
} catch (err) {
  /* 400/404 ã‚‚ã“ã“ã«æ¥ã‚‹ */
}
```

2. **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå…¨ä½“ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹**

```ts
import { createClient, createConfig } from "@hey-api/client-fetch";

export const api = createClient(
  createConfig({
    baseUrl: "http://localhost:3000",
    throwOnError: true,         // ã“ã“ã‚’ false ã«ã™ã‚Œã° Result å‹ã¸
  }),
);
```
ï¼ˆ`throwOnError` ã¯ v0.10.* æ™‚ç‚¹ã®å…¬å¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ï¼‰ îˆ€citeîˆ‚turn0search5îˆ

---

### ã‚ãªãŸã®ã‚³ãƒ¼ãƒ‰ã«å½“ã¦ã¯ã‚ã‚‹ã¨

#### A. **Result ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç¶­æŒ**ï¼ˆç¾åœ¨ã®æ›¸ãæ–¹ï¼‰

```ts
const res = await getApiUsers();
if (res.error) {
  setError(res.error.data?.message ?? "å–å¾—å¤±æ•—");
} else {
  setUsers(res.data.data);
}
```

- **å‹ã‚¬ãƒ¼ãƒ‰å¿…é ˆ** â†’ æ›¸ãå¿˜ã‚Œã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼
- `res.error.status === 400` ãªã©ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥ã«ã•ã‚‰ã«çµã‚Šè¾¼ã¿ã‚‚å¯èƒ½

#### B. **ä¾‹å¤– throw ã«çµ±ä¸€**

ã¾ãšç”Ÿæˆ SDK ã‚’ *ã‚°ãƒ­ãƒ¼ãƒãƒ« throwOnError* ã«ã—ã¦ãŠãã¨æ¥½ã§ã™ï¼ˆå‰è¿°ã® `createConfig` ä¾‹ï¼‰ã€‚

```ts
try {
  const ok = await getApiUsers();   // æˆåŠŸæ™‚ã ã‘æ¥ã‚‹
  setUsers(ok.data);
} catch (err: ApiError<"400" | "404">) {
  setError(err.data?.message ?? "å–å¾—å¤±æ•—");
}
```

- `ok` ã¯ **ç´”ç²‹ã«æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹** ãªã®ã§ `ok.data` ã«ãã®ã¾ã¾è§¦ã‚Œã‚‰ã‚Œã‚‹
- ã‚¨ãƒ©ãƒ¼ã”ã¨ã®å‹ã¯ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã§çµã‚Šè¾¼ã‚ã‚‹ï¼ˆ`ApiError<'400'>` ç­‰ï¼‰

---

### ã©ã¡ã‚‰ã‚’å‹§ã‚ã‚‹ã‹ï¼Ÿ

| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç‰¹æ€§ | ãŠã™ã™ã‚ |
| --- | --- |
| **UI ä¸»å°ã§ async/await ã‚’å¤šç”¨**<br>React Query / TanStack Query ã¨çµ„ã¿ãŸã„ | **ä¾‹å¤– throw æ–¹å¼**ï¼ˆã‚³ãƒ¼ãƒ‰ãŒç°¡æ½”ï¼‰ |
| **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å¿—å‘ãƒ»FP ãƒ©ã‚¤ã‚¯**<br>ã€Œä¾‹å¤–ã¯æ¥µåŠ›ä½¿ã‚ãªã„ã€æ–‡åŒ– | **Result ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ–¹å¼**ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§æ¼ã‚Œã‚’é˜²ãã‚„ã™ã„ï¼‰ |
| **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼ã‚‚æ¬²ã—ã„** | `openapi-zod-client` ãªã© **Zod ç”Ÿæˆç³»**ã¸ä¹—ã‚Šæ›ãˆï¼ˆæˆåŠŸ/å¤±æ•—ã©ã¡ã‚‰ã§ã‚‚ `parse()` æ¸ˆã¿ã§è¿”ã‚‹ï¼‰ |

ã‚ãªãŸã®ã‚µãƒ³ãƒ—ãƒ«ã¯ã€ŒçŠ¶æ…‹å¤‰æ•°ã‚’è‡ªå‰ã§ç®¡ç†ã™ã‚‹*å°è¦æ¨¡ React ç”»é¢*ã€ãªã®ã§ã€  
**ä¾‹å¤– throw æ–¹å¼ + `try/catch`** ã®ã»ã†ãŒ if ã‚¬ãƒ¼ãƒ‰ãŒæ¸›ã‚Šã€èª­ã¿ã‚„ã™ããªã‚Šã¾ã™ã€‚  
ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®å®‰å…¨åº¦ã‚’ã•ã‚‰ã«é«˜ã‚ãŸã„å ´åˆã¯ã€UI å±¤ã§ React Query ã‚’å™›ã¾ã›ã¦

```ts
const { data, error, isLoading } = useGetApiUsersQuery();
```

ã®å½¢ã«ã¾ã¨ã‚ã¦ã—ã¾ã†ã®ãŒæœ€è¿‘ã®å®šç•ªã§ã™ îˆ€citeîˆ‚turn0search6îˆã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/4 20:59:40*

ä»¥ä¸‹ã®é­…åŠ›ã‚‚æ•™ãˆã¦æ¬²ã—ã„

ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼ã‚‚æ¬²ã—ã„
openapi-zod-client ãªã© Zod ç”Ÿæˆç³»ã¸ä¹—ã‚Šæ›ãˆï¼ˆæˆåŠŸ/å¤±æ•—ã©ã¡ã‚‰ã§ã‚‚ parse() æ¸ˆã¿ã§è¿”ã‚‹ï¼‰

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/4 21:00:00*

### Zod ç”Ÿæˆç³»ï¼ˆ**openapi-zod-client** ãªã©ï¼‰ã¸ä¹—ã‚Šæ›ãˆãŸå ´åˆã®â€œé­…åŠ›â€

| ç›®çš„ | å¾—ã‚‰ã‚Œã‚‹ãƒ¡ãƒªãƒƒãƒˆ | ä»•çµ„ã¿ |
| --- | --- | --- |
| **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼** | - **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ç ´å£Šçš„å¤‰æ›´ã‚’å³æ¤œçŸ¥**<br>- ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚’çµŒãšã«æ··å…¥ã—ãŸã€Œæƒ³å®šå¤–ã® null / å‹ã‚ºãƒ¬ã€ã‚’ãã®å ´ã§ `ZodError` ã¨ã—ã¦æ•æ‰ | SDK å†…ã§ `zod.parse()` / `safeParse()` ã‚’è‡ªå‹•å®Ÿè¡Œã€‚è¿”å´å€¤ã¯ **æ¤œè¨¼æ¸ˆã¿ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**ï¼ä¾‹å¤–ã®ã©ã¡ã‚‰ã‹ã ã‘ã«ãªã‚‹ îˆ€citeîˆ‚turn0search0îˆ‚turn1search0îˆ |
| **ãƒ‘ãƒ¼ã‚¹å¾Œã®å€¤ãŒãã®ã¾ã¾å‹** | - ä¾‹ï¼šæ—¥ä»˜æ–‡å­—åˆ— â†’ `Date` ã¸å¤‰æ›ã—ã¦ã‹ã‚‰è¿”å´<br>- UI ã§æ¯å› `new Date()` ã™ã‚‹æ‰‹é–“ã‚¼ãƒ­ | `transform()` ã‚„ `refine()` ã‚’ OpenAPI `format` / `pattern` ã«åŸºã¥ãè‡ªå‹•ä»˜ä¸ |
| **ã‚¨ãƒ©ãƒ¼ã‚‚å‹å®‰å…¨** | - `catch (err: ZodiosError<"404", ErrorResponse>)` ã®ã‚ˆã†ã« **HTTP ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥ã«çµã‚Šè¾¼ã¿** | openapi-zod-client ãŒ `ApiError` å‹ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã‚’ç”Ÿæˆã—ã€å¤±æ•—æ™‚ã¯å¿…ãš throw îˆ€citeîˆ‚turn0search0îˆ |
| **å…±é€šã‚¹ã‚­ãƒ¼ãƒå†åˆ©ç”¨** | - åŒã˜ Zod ã‚¹ã‚­ãƒ¼ãƒã‚’ **ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»Storybook ãƒ¢ãƒƒã‚¯ãƒ»ãƒ†ã‚¹ãƒˆ** ã«æµç”¨å¯èƒ½ | ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«ã« `schemas/user.ts` ãªã©ãŒå€‹åˆ¥ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ |
| **å˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ« or ã‚¿ã‚°åˆ†å‰²** | - å°è¦æ¨¡ã¯ 1 ãƒ•ã‚¡ã‚¤ãƒ«ã€å·¨å¤§ API ã¯ **tag ã”ã¨ã«è‡ªå‹•åˆ†å‰²**ï¼ˆ`group-strategy: "tag-file"`ï¼‰ã§ IDE ãŒè»½ã„ | CLI/Node API ã§ã‚ªãƒ—ã‚·ãƒ§ãƒ³æŒ‡å®šå¯ îˆ€citeîˆ‚turn0search0îˆ |
| **æœ€æ–°ãƒªãƒªãƒ¼ã‚¹ã®è¿½åŠ æ©Ÿèƒ½** | - `--with-docs` ã§ **JSDoc ã‚³ãƒ¡ãƒ³ãƒˆ**è‡ªå‹•ç”Ÿæˆ â†’ IDE ä¸Šã§ã‚‚èª¬æ˜è¡¨ç¤º (#275)<br>- falsy ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãƒã‚°ä¿®æ­£ (#279) ãªã©å®‰å®šåº¦å‘ä¸Š | v1.18.* ç³»ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ îˆ€citeîˆ‚turn0search1îˆ |

---

### â€œæˆåŠŸ/å¤±æ•—ã©ã¡ã‚‰ã§ã‚‚ parse æ¸ˆã¿â€ ã¨ã¯ï¼Ÿ

```ts
const { data } = await api.get("/api/users"); // æˆåŠŸæ™‚ã®ã¿åˆ°é”
// data ã¯ Zod ã«ã‚ˆã£ã¦å®Œå…¨æ¤œè¨¼ãƒ»å¤‰æ›æ¸ˆã¿
```

- å¤±æ•— (`400`, `404`, Network) ã¯ `ZodiosError` ã‚’ **throw**  
- è¿”å´å€¤ã« `error?: undefined` ãªã©ã¯å«ã¾ã‚Œãšã€UI ã‚³ãƒ¼ãƒ‰ãŒã™ã£ãã‚Š  
- `safeParse()` ç›¸å½“ã® API ã‚‚è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€Œä¾‹å¤–ã‚’ä½¿ã„ãŸããªã„ã€å ´åˆã¯  
  ```ts
  const res = await api.safeGet("/api/users");
  if (!res.success) console.log(res.error);
  ```

---

### å°å…¥ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆæœ€å°ä¾‹ï¼‰

1. **ä¾å­˜è¿½åŠ **

```bash
pnpm add -D openapi-zod-client zod zodios
```

2. **ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**

```ts
// scripts/gen-sdk.ts
import { generate } from "openapi-zod-client";
await generate({ input: "./openapi.yaml", output: "./src/generated" });
```

3. **å‘¼ã³å‡ºã—**

```ts
import { zodios } from "@/generated";
const api = zodios("http://localhost:3000");

try {
  const { data } = await api.get("/api/users"); // â† data: User[]
} catch (e: ZodiosError<"404" | "400", ErrorResponse>) {
  /* å‹å®‰å…¨ã«ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° */
}
```

---

### ã„ã¤æ¡ç”¨ã™ã¹ãï¼Ÿ

| åˆ¤æ–­è»¸ | openapi-zod-client ãŒå…‰ã‚‹ã‚±ãƒ¼ã‚¹ |
| --- | --- |
| **API ã¨ãƒ•ãƒ­ãƒ³ãƒˆã®ã‚¹ã‚­ãƒ¼ãƒãšã‚Œã‚’ã‚¼ãƒ­ã«ã—ãŸã„** | âœ… æœ¬ç•ªã§ã€Œå‹ãŒåˆã‚ãšã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã€ã‚’é˜²ããŸã„ |
| **ãƒ•ã‚©ãƒ¼ãƒ ã‚„ Storybook ã§ã‚‚åŒã˜å‹æ¤œè¨¼ã‚’å†åˆ©ç”¨** | âœ… ç”Ÿæˆã•ã‚ŒãŸ Zod ã‚¹ã‚­ãƒ¼ãƒã‚’ãã®ã¾ã¾ä½¿ãˆã‚‹ |
| **å·¨å¤§ API ã§ IDE è£œå®ŒãŒé‡ã„** | âœ… ã‚¿ã‚°åˆ†å‰²ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰² |
| **throw ãƒ™ãƒ¼ã‚¹ã®ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«** | âœ… ç”Ÿæˆ SDK ãŒæ¨™æº–ã§ throwOnError |

é€†ã«ã€Œã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚å‹ã ã‘ã§ååˆ†ã€ã€Œæ—¢å­˜ã‚³ãƒ¼ãƒ‰ãŒ Result ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‰æã§å¤§è¦æ¨¡ã€ãªã‚‰ã€`@hey-api/client-fetch` ã‚’æœ€æ–°ç‰ˆã§ä½¿ã„ç¶šã‘ã‚‹ã»ã†ãŒç§»è¡Œã‚³ã‚¹ãƒˆã¯ä½ãæ¸ˆã¿ã¾ã™ã€‚

---

#### ã¾ã¨ã‚

- **openapi-zod-client = â€œOpenAPI â†’ Zod ã‚¹ã‚­ãƒ¼ãƒ + Zodios ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆâ€ è‡ªå‹•ç”Ÿæˆå™¨**  
- æˆåŠŸã‚‚å¤±æ•—ã‚‚ **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼æ¸ˆã¿** ã§è¿”ã‚‹ãŸã‚ã€å‹ãƒ»å®Ÿè¡Œæ™‚ã¨ã‚‚ã«å®‰å…¨æ€§ãŒãƒ¯ãƒ³ãƒ©ãƒ³ã‚¯å‘ä¸Š  
- UI ç”¨ã‚³ãƒ¼ãƒ‰ã¯ `try/catch` ã ã‘ã§æ¸ˆã¿ã€å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯ã‚‚ä¸è¦  
- å…±é€šã‚¹ã‚­ãƒ¼ãƒã‚’æµç”¨ã§ãã‚‹ãŸã‚ã€ãƒ•ã‚©ãƒ¼ãƒ ãƒ»ãƒ¢ãƒƒã‚¯ãƒ»ãƒ†ã‚¹ãƒˆã®å®Ÿè£…ã‚³ã‚¹ãƒˆã¾ã§ä¸‹ãŒã‚‹  

ã€Œãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒé »ç¹ã«å¤‰æ›´ã•ã‚Œã‚‹ã€ã€Œãƒãƒ«ãƒãƒãƒ¼ãƒ ã§ API ã‚’ä½¿ã„å›ã™ã€â€•â€•ãã‚“ãªçŠ¶æ³ã»ã©ã€Zod ç”Ÿæˆç³»ã®å°å…¥ãƒ¡ãƒªãƒƒãƒˆã¯å¤§ãããªã‚Šã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/4 21:01:33*

é€†ã«ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã¯? @hey-api/client-fetch ã¨æ¯”è¼ƒã—ã¦æ¬²ã—ã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/4 21:03:00*

ä»¥ä¸‹ã¯ \*\*openapi-zod-client (+ Zodios)\*\* ã«ä¹—ã‚Šæ›ãˆãŸã¨ãã«è¡¨é¢åŒ–ã—ã‚„ã™ã„ â€œã‚³ã‚¹ãƒˆâ€ ã¨ã€  
ç¾è¡Œã® \*\*@hey-api/client-fetch\*\* ã¨æ¯”è¼ƒã—ãŸéš›ã®é•ã„ã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã§ã™ã€‚

| é …ç›® | openapi-zod-client + Zodios ã§ã®æ‡¸å¿µç‚¹ | @hey-api/client-fetch ã®çŠ¶æ³ |
| --- | --- | --- |
| \*\*ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º\*\* | Zod \*\*14.2 kB gzip\*\* ãŒå¿…ãšå…¥ã‚‹ã»ã‹ã€Zodios coreãƒ»ç”Ÿæˆæ¸ˆã¿ã‚¹ã‚­ãƒ¼ãƒã‚‚åŠ ã‚ã‚‹ â†’ ä¸­è¦æ¨¡ API ã§ã‚‚ \*\*+20ã€œ40 kB\*\* å¢—ãˆã‚‹ã“ã¨ãŒå¤šã„ îˆ€citeîˆ‚turn3search0îˆ | ä¾å­˜ã¯ã»ã¼ãƒã‚¤ãƒ†ã‚£ãƒ– fetch ã ã‘ã€‚Flat SDK ãªã‚‰ tree-shaking ã§æœ€å°æ§‹æˆã«ãªã‚Šã‚„ã™ã„ îˆ€citeîˆ‚turn9search0îˆ |
| \*\*å®Ÿè¡Œæ™‚ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰\*\* | ã™ã¹ã¦ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§ `zod.parse()` ã‚’èµ°ã‚‰ã›ã‚‹ãŸã‚ã€\*\*å·¨å¤§ãƒªã‚¹ãƒˆã‚„ã‚¹ãƒˆãƒªãƒ¼ãƒ \*\*ã‚’é »ç¹ã«å‡¦ç†ã™ã‚‹ UI ã§ã¯ CPU ã‚³ã‚¹ãƒˆãŒè·³ã­ä¸ŠãŒã‚‹ï¼ˆç‰¹ã«ãƒ¢ãƒã‚¤ãƒ«ï¼‰ | æ¤œè¨¼å‡¦ç†ãŒç„¡ã„ã¶ã‚“ãƒ©ãƒ³ã‚¿ã‚¤ãƒ è² è·ã¯æœ€å° |
| \*\*ãƒ“ãƒ«ãƒ‰ & IDE ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹\*\* | ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤§ããã€\*\*VS Code IntelliSense é…å»¶ã‚„ tsc æ™‚é–“ã®å¢—å¤§\*\*ãŒå ±å‘Šä¾‹å¤šæ•°ã€‚å¤§è¦æ¨¡ spec ã§ã¯ã€Œãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã‚’ã—ã¦æ¬²ã—ã„ã€ã¨ã„ã† issue ã‚‚ï¼ˆ#332 ã»ã‹ï¼‰ îˆ€citeîˆ‚turn0search1îˆ | Flat ç”Ÿæˆï¼‹å‹-only ãªã®ã§æ¯”è¼ƒçš„è»½é‡ã€‚Class SDK ã‚’é¸ã°ãªã‘ã‚Œã°å‹å®šç¾©ã¯ 1 ãƒ•ã‚¡ã‚¤ãƒ«ã«çµã‚‰ã‚Œã‚‹ |
| \*\*æœªå¯¾å¿œï¼ãƒã‚°\*\* | - 4xx ç³»ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒ NaN â†’ å‹å´©ã‚Œ (#335) &lt;br&gt;- `format:"date-time"` ã®èª¤å¤‰æ› (#311) &lt;br&gt;- `multipart/form-data` ã‚„ `file` type ã®ç”Ÿæˆæ¼ã‚Œ (#313) &lt;br&gt;- `discriminator` ã® enum åˆ¶ç´„ (#327) ãªã©ã€\*\*ä»•æ§˜ã®ã™ãé–“ã§ãƒãƒã‚‹ã‚±ãƒ¼ã‚¹\*\* ãŒæ•£è¦‹ îˆ€citeîˆ‚turn0search1îˆ‚turn0search2îˆ‚turn0search7îˆ | åŒç¨‹åº¦ã®ãƒã‚°ã¯ã‚ã‚‹ã‚‚ã®ã®ã€fetch ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ \*\*ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º/ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã®è²¬å‹™ã‚’è² ã‚ãªã„\*\* ã¶ã‚“å½±éŸ¿ç¯„å›²ãŒé™å®šçš„ |
| \*\*ã‚¨ãƒ©ãƒ¼ãƒ¢ãƒ‡ãƒ«ã®æŸ”è»Ÿæ€§\*\* | Zodios ã¯ \*\*throw å‰æ\*\*ã€‚Result ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹ã«åˆ‡ã‚Šæ›¿ãˆã‚‹é¸æŠè‚¢ãŒç„¡ã„ãŸã‚ã€FP ã‚¹ã‚¿ã‚¤ãƒ« (Either) ã‚’å¾¹åº•ã—ãŸã„å ´åˆã¯è¿½åŠ ãƒ©ãƒƒãƒ‘ãŒå¿…è¦ | `throwOnError` true/false ã‚’ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ 1 ã¤ã§åˆ‡ã‚Šæ›¿ãˆå¯ï¼›ãƒãƒ¼ãƒ æ–¹é‡ã«åˆã‚ã›ã‚„ã™ã„ |
| \*\*ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºé›£åº¦\*\* | Zodios ã®ä¾å­˜ã§ `axios` ãƒ™ãƒ¼ã‚¹ã€‚fetch ã‚’ä½¿ã„ãŸã„å ´åˆã¯ adapter ã‚’è¿½åŠ å°å…¥ã™ã‚‹ã‹è‡ªä½œãŒå¿…è¦ã€‚Zod transform ã‚‚ \*\*Zod API æº–æ‹ \*\* ã®ãŸã‚è¨˜è¿°é‡ãŒå¤šããªã‚ŠãŒã¡ | fetch æ¨™æº–ã€‚`transformers` ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§æ—¥ä»˜â†’Date å¤‰æ›ãªã©ã‚’ declarative ã«æŒ‡å®šå¯ îˆ€citeîˆ‚turn5search5îˆ |
| \*\*é‹ç”¨ãƒ•ã‚§ãƒ¼ã‚º\*\* | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä»•æ§˜å¤‰æ›´æ™‚ã¯ \*\*ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ï¼‹ãƒ©ãƒ³ã‚¿ã‚¤ãƒ  throw\*\* ã§æ—©æœŸã«æ°—ã¥ã‘ã‚‹åé¢ã€æœ¬ç•ªç’°å¢ƒã§ã‚‚ãƒ‘ãƒ¼ã‚¹å¤±æ•—â†’ä¾‹å¤–åœæ­¢ã®ãƒªã‚¹ã‚¯ãŒæ®‹ã‚‹ | å‹å´©ã‚Œã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã—ã‹æ¤œçŸ¥ã§ããªã„ãŒã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¯å½±éŸ¿ã‚’å—ã‘ã«ãã„ |

---

### ã“ã‚“ãªå ´åˆã¯ openapi-zod-client ã‚’é¿ã‘ã¦ã‚‚ã‚ˆã„

- \*\*ãƒ¢ãƒã‚¤ãƒ« Web / Edge Functions\*\* ãªã©ã€\*\*æ•°å kB ã®å¢—é‡ã‚„ CPU æ¶ˆè²»ã‚’ã‚·ãƒ“ã‚¢ã«æŠ‘ãˆãŸã„\*\*  
- IDE ãŒæ—¢ã«é‡ã„å¤§è¦æ¨¡ãƒ¢ãƒãƒ¬ãƒã§ã€ã€Œã•ã‚‰ã«å‹ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«ãŒå¢—ãˆã‚‹ã¨ä½œæ¥­ãŒè¾›ã„ã€  
- Result ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹ã§ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã™ã‚‹æ—¢å­˜ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’å¤§å¹…ã«æ›¸ãæ›ãˆãŸããªã„

### ãã‚Œã§ã‚‚å°å…¥ã™ã‚‹ä¾¡å€¤ãŒé«˜ã„ã‚±ãƒ¼ã‚¹

- \*\*ã€Œãƒ†ã‚¹ãƒˆç’°å¢ƒã‚’é€šã‚‰ãªãã¦ã‚‚æœ¬ç•ªã§å³æ¤œçŸ¥ã—ãŸã„ã€\*\* ã»ã© API å¤‰æ›´ãŒé »ç¹  
- å…±é€šã® Zod ã‚¹ã‚­ãƒ¼ãƒã‚’ \*\*ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»MSW ãƒ¢ãƒƒã‚¯ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰\*\*ã§ã‚‚å†åˆ©ç”¨ã—ãŸã„  
- è§£æãƒ„ãƒ¼ãƒ«ã‚„ç®¡ç†ç”»é¢ã§ \*\*å…¥åŠ›ãƒ»å‡ºåŠ›ã®å®Œå…¨å‹ä¿è¨¼ã¨å³æ™‚ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\*\* ãŒå¿…é ˆ

---

#### ã¾ã¨ã‚

- openapi-zod-client ã¯ \*\*å‹ + å®Ÿè¡Œæ™‚æ¤œè¨¼\*\* ã‚’åŒæ™‚ã«æº€ãŸã™å¼·åŠ›ãªã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã ãŒã€  
  \*\*ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºãƒ»CPUãƒ»é–‹ç™ºä½“é¨“ï¼ˆIDEï¼‰\*\* ã¸ã®è¿½åŠ ã‚³ã‚¹ãƒˆãŒç¾å®Ÿçš„ã«å­˜åœ¨ã—ã¾ã™ã€‚  
- ãã‚Œã‚‰ã®ã‚³ã‚¹ãƒˆãŒè¨±å®¹ã§ããšã€Œå‹å®‰å…¨ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã ã‘ã§ååˆ†ã€ã¨ã„ã†å ´åˆã¯ã€  
  \*\*@hey-api/client-fetch\*\* + å¿…è¦ã«å¿œã˜ã¦ `transformers` ã‚„ `throwOnError` ã‚’é§†ä½¿ã™ã‚‹æ§‹æˆã®æ–¹ãŒè»½å¿«ã§ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/4 21:05:12*

openapi-zod-client ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ¡ãƒ³ãƒ†çŠ¶æ³ã¯ä»–ã®openapi.yaml ã‹ã‚‰ã®è‡ªå‹•ç”Ÿæˆsdkã¨ã®æ¯”è¼ƒã‚‚ã—ã¦æ¬²ã—ã„ã€‚ç§»è¡Œã®ã‚³ã‚¹ãƒˆã¯è€ƒãˆãªãã¦ã„ã„ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/4 21:07:55*

### ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ SDK ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ã€Œãƒ¡ãƒ³ãƒ†çŠ¶æ³ã€æ—©è¦‹è¡¨  
\*(2025-06-04 æ™‚ç‚¹ / ç§»è¡Œã‚³ã‚¹ãƒˆã¯è€ƒæ…®ã›ãš)\*

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | Stars / Forks | æœ€æ–°ãƒªãƒªãƒ¼ã‚¹é »åº¦ãƒ»æ—¥ä»˜ | Open Issues | ä¸»ãªãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼ä½“åˆ¶ | å‚™è€ƒ |
| --- | --- | --- | --- | --- | --- |
| \*\*openapi-zod-client\*\* | â˜… â‰ˆ 980 / 116 forks îˆ€citeîˆ‚turn14search4îˆ | v1.18.1 - 2025-04-18&lt;br&gt;3ã€œ4 å›/æœˆãƒšãƒ¼ã‚¹ã§ patch / minor ãŒå‡ºã‚‹ îˆ€citeîˆ‚turn14search1îˆ | 72 open, PR 16 open (é•·æœŸæ»ç•™ issue ã¯å°‘ãªã‚) îˆ€citeîˆ‚turn14search3îˆ | å€‹äººãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼ + GitHub Actions ã§è‡ªå‹•ãƒªãƒªãƒ¼ã‚¹ | Zod + axios ãƒ™ãƒ¼ã‚¹ã€‚å®Ÿè£…ãŒé€Ÿã„åé¢ \*\*Bus Factor=1\*\* ãªã®ãŒæœ€å¤§ãƒªã‚¹ã‚¯ |
| \*\*openapi-typescript\*\* (+ openapi-fetch) | â˜… ç´„4 kï¼ˆGitHub UI è¡¨ç¤ºï¼‰ | 2025-05-10 ã« 7.8.0ã€‚åŒæ—¥ã« 7.7.3 â†’ 7.7.2 ã‚‚é€£ç¶šå…¬é–‹ï¼\*\*é€±æ¬¡ã€œæ—¥æ¬¡\*\* îˆ€citeîˆ‚turn8search5îˆ | issue #2349 ãŒ 2025-06-02 ã«ç™»éŒ²ï¼ãƒ¡ãƒ³ãƒ†ä¸­ îˆ€citeîˆ‚turn8search8îˆ | ã‚³ã‚¢ 2 å + OSS contributor å¤šæ•° | \*\*å‹å°‚ç”¨ãƒ„ãƒ¼ãƒ«\*\*ãªã®ã§ç ´å£Šçš„å¤‰æ›´ã¯å°‘ãªãã€å®‰å®šå¿—å‘ |
| \*\*@hey-api/openapi-ts\*\* | â˜… ç´„1 kï¼ˆGitHub org æ¦‚è¦ã« Followers 47ï¼‰ îˆ€citeîˆ‚turn0search7îˆ | npm ã§ã¯ 0.10 ç³»ã‚’ \*\*æœˆ1 ãƒšãƒ¼ã‚¹\*\*ã§ç™ºè¡Œ | GitHub ã® open issue ã¯ 50 å¼±ï¼ˆå¤§åŠãŒãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¦æœ›ï¼‰ | å°è¦æ¨¡ãƒãƒ¼ãƒ ï¼ˆHey API ç¤¾å†…ï¼‰ | ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ‹¡å¼µå‰æã€‚å•†ç”¨ SaaS ã¨ã—ã¦ã‚‚é‹å–¶ã•ã‚Œã¦ãŠã‚Š \*\*ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»CI ãŒæ‰‹åšã„\*\* |
| \*\*Orval\*\* | â˜… 4.1 k / 418 forksï¼ˆorg ä¸€è¦§ã‚ˆã‚Šï¼‰ îˆ€citeîˆ‚turn19search3îˆ | 2025-04-17 ç²—å¯†ãƒ‘ãƒƒãƒ (#2041) ç­‰ã€‚\*\*æœˆ2ã€œ3 å›\*\* | 2 k+ issue/PRã€24 h ä»¥å†…ã® triage å¤šã„ îˆ€citeîˆ‚turn19search8îˆ | OSS ã‚³ã‚¢ 3 å + Î± | React Query / SWR ãƒ•ãƒƒã‚¯ã‚‚ç”Ÿæˆã€‚è¦æ¨¡ãŒå¤§ãã IDE ãŒé‡ããªã‚Šã‚„ã™ã„ |
| \*\*Speakeasy CLI\*\* | â€•ï¼ˆæ˜Ÿæ•° &lt;1 kï¼‰ | SaaS å´ã§è‡ªå‹• deployã€GitHub main ã« \*\*æ¯å–¶æ¥­æ—¥ commit\*\* îˆ€citeîˆ‚turn0search4îˆ | Issue â‰’ Discussion ãƒ™ãƒ¼ã‚¹ã€å¯¾å¿œã¯å³æ—¥ã€œæ•°æ—¥ | VC è³‡æœ¬ã®ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ— | 10 è¨€èª SDK & Terraform Provider ã¾ã§è‡ªå‹•ç”Ÿæˆï¼›\*\*ã‚¯ãƒ©ã‚¦ãƒ‰å‰æ\*\* |
| \*\*Fern\*\* | â˜… â‰ˆ 1 k | `fern generate` CLI ã¯ \*\*é€±æ¬¡ãƒªãƒªãƒ¼ã‚¹\*\* | OSS éƒ¨åˆ†ã¯å°‘æ•° issueãƒ»rapid close | Fern, Inc.ï¼ˆYC22ï¼‰ | SaaS ä¾å­˜ã ãŒ \*\*ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚µã‚¤ãƒˆã‚‚åŒæ™‚å‡ºåŠ›\*\* ãŒå¼·ã¿ îˆ€citeîˆ‚turn0search5îˆ |

---

#### openapi-zod-client ã‚’é¸ã¶å ´åˆã®â€œå®‰å¿ƒææ–™â€ã¨â€œæ°—ã«ãªã‚‹ç‚¹â€

| ãƒ—ãƒ©ã‚¹è¦ç´  | ãƒã‚¤ãƒŠã‚¹è¦ç´  |
| --- | --- |
| \* ãƒªãƒªãƒ¼ã‚¹é–“éš”ãŒæœ€çŸ­æ•°æ—¥ã€‚2025 Q2 ã‚‚ patch ãŒç¶™ç¶šã€‚&lt;br&gt;\* Issue/PR ã® \*\*æ”¾ç½®ç‡ãŒä½ã\*\*ã€ä½œè€…ãŒç›´æ¥è¿”ä¿¡ã€‚&lt;br&gt;\* å°ç²’ãª breaking change ã¯ \*\*CHANGELOG ã«è©³ç´°è¨˜è¼‰\*\*ã€‚ | \* ã»ã¼å˜ç‹¬ãƒ¡ãƒ³ãƒ† â†’ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—åœæ­¢ãƒªã‚¹ã‚¯ã€‚&lt;br&gt;\* axios å›ºå®šãƒ»fetch ç‰ˆã¯ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ adapter é ¼ã¿ã€‚&lt;br&gt;\* ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼ã®ãŸã‚ \*\*ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º/CPU ãŒå¢—\*\* (å®Ÿè¡Œæ™‚ parse)ã€‚ |

---

### â€œãƒ¡ãƒ³ãƒ†çŠ¶æ³ã ã‘â€ã§è¦‹ãŸãƒ©ãƒ³ã‚­ãƒ³ã‚°

1. \*\*openapi-typescript / Orval\*\* â€¦ ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è¦æ¨¡ & ãƒªãƒªãƒ¼ã‚¹é »åº¦ã¨ã‚‚ã«å®‰å®šã€‚  
2. \*\*@hey-api/openapi-ts\*\* â€¦ ä¼æ¥­ãƒãƒƒã‚¯ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå……å®Ÿã€ãŸã ã—é–‰é–ãƒã‚¹å› å­ã€‚  
3. \*\*openapi-zod-client\*\* â€¦ 1 äººãƒ¡ãƒ³ãƒ†ãªãŒã‚‰éå¸¸ã«ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã€‚Zod ãŒæ¬²ã—ã„ãªã‚‰æœ€æœ‰åŠ›ã€‚  
4. \*\*Speakeasy / Fern\*\* â€¦ SaaS å¥‘ç´„è¾¼ã¿ã§æ‰‹åšã„ãŒã€OSS éƒ¨åˆ†ã¯è–„ã‚ï¼ˆæ˜Ÿã¯å°‘ãªã„ï¼‰ã€‚  

&gt; \*\*çµè«–\*\*  
&gt; - \*\*ã€Œãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼ + ç´ æ—©ã„ãƒã‚°ä¿®æ­£ã€\*\* ã‚’é‡è¦–ã™ã‚‹ãªã‚‰ \*openapi-zod-client\*ã€‚  
&gt; - \*\*ã€Œé•·æœŸçš„ã«æ¯ã‚ŒãŸã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã€\*\* ã‚’å„ªå…ˆã™ã‚‹ãªã‚‰ \*openapi-typescript\* ã‹ \*Orval\* ãŒç„¡é›£ã€‚  
&gt; - Bus Factor ã«æ•æ„Ÿãªçµ„ç¹”ã§ã‚ã‚Œã°ã€ãƒãƒ«ãƒãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼ or ä¼æ¥­æ”¯æ´ã®ãƒ„ãƒ¼ãƒ«ã‚’é¸ã¶ã¨å®‰å¿ƒã§ã™ã€‚

---
