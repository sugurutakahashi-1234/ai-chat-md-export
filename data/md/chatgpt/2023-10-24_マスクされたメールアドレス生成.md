# ãƒã‚¹ã‚¯ã•ã‚ŒãŸãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ç”Ÿæˆ

æ—¥ä»˜: 2023-10-24

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2023/10/24 18:12:22*

Swiftã§ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä¸€éƒ¨åˆ†ãƒã‚¹ã‚¯ã™ã‚‹å‡¦ç†ã‚’æ›¸ã„ã¦æ¬²ã—ã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2023/10/24 18:12:58*

Swiftã§ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ä¸€éƒ¨ã‚’ãƒã‚¹ã‚¯ã™ã‚‹ï¼ˆä¾‹ãˆã°ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼åã®ä¸€éƒ¨ã‚’ä¼ã›å­—ã«ã™ã‚‹ï¼‰ã«ã¯ã€æ–‡å­—åˆ—æ“ä½œé–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ç‰¹å®šã®éƒ¨åˆ†ã‚’ç½®ãæ›ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä»¥ä¸‹ã«ç°¡å˜ãªä¾‹ã‚’ç¤ºã—ã¾ã™ãŒã€å®Ÿéš›ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€ã©ã®éƒ¨åˆ†ã‚’ãƒã‚¹ã‚¯ã™ã‚‹ã‹ã€ã©ã®ç¨‹åº¦ã®æƒ…å ±ã‚’éš ã™ã‹ã«å¿œã˜ã¦ã€ã“ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’èª¿æ•´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```swift
import Foundation

func maskEmail(_ email: String) -> String? {
    // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³éƒ¨ã«åˆ†å‰²
    let emailComponents = email.components(separatedBy: "@")
    guard emailComponents.count == 2 else { return nil }  // ãƒ¡ãƒ¼ãƒ«å½¢å¼ãŒç„¡åŠ¹ã®å ´åˆã€nilã‚’è¿”ã™
    
    let local = emailComponents[0]
    let domain = emailComponents[1]
    
    // ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã®æ–‡å­—åˆ—ã‚’ä¸€éƒ¨ãƒã‚¹ã‚¯ã™ã‚‹ï¼ˆä¾‹: å…ˆé ­ã¨æœ«å°¾ã‚’é™¤ãå…¨ã¦ã®æ–‡å­—ï¼‰
    let maskedLocal: String
    if local.count > 2 {
        let start = local.index(local.startIndex, offsetBy: 1)
        let end = local.index(local.endIndex, offsetBy: -1)
        let maskingRange = start..<end
        
        maskedLocal = local.replacingCharacters(in: maskingRange, with: String(repeating: "*", count: local.distance(from: start, to: end)))
    } else {
        // ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ãŒ2æ–‡å­—ä»¥ä¸‹ã®å ´åˆã€ãã®ã¾ã¾ãƒã‚¹ã‚¯ï¼ˆå…¨ã¦ã®æ–‡å­—ã‚’"*"ã«ã™ã‚‹ï¼‰
        maskedLocal = String(repeating: "*", count: local.count)
    }
    
    // ãƒã‚¹ã‚¯ã•ã‚ŒãŸãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’çµåˆã—ã¦è¿”ã™
    return "\(maskedLocal)@\(domain)"
}

// ä½¿ç”¨ä¾‹
if let maskedEmail = maskEmail("user@example.com") {
    print(maskedEmail)  // "u***@example.com"
} else {
    print("Invalid email format")
}
```

ã“ã®é–¢æ•°`maskEmail`ã¯ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ï¼ˆ"@"ã®å‰ï¼‰ã‚’éƒ¨åˆ†çš„ã«ãƒã‚¹ã‚¯ã—ã¾ã™ã€‚ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã®å…ˆé ­ã¨æœ«å°¾ã®æ–‡å­—ã¯ãã®ã¾ã¾ã«ã—ã€æ®‹ã‚Šã®æ–‡å­—ã¯ã‚¢ã‚¹ã‚¿ãƒªã‚¹ã‚¯ï¼ˆ"*"ï¼‰ã«ç½®ãæ›ãˆã¾ã™ã€‚ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒç„¡åŠ¹ãªå½¢å¼ã®å ´åˆã€ã¾ãŸã¯ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ãŒéå¸¸ã«çŸ­ã„å ´åˆã¯ã€é©åˆ‡ãªãƒã‚¹ã‚¯å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚ã“ã®ã‚³ãƒ¼ãƒ‰ã¯åŸºæœ¬çš„ãªä¾‹ã§ã™ã®ã§ã€ç‰¹å®šã®è¦ä»¶ã‚„åˆ¶ç´„ã«åˆã‚ã›ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ãã ã•ã„ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2023/10/24 18:13:24*

String ã® extension ã«ã—ã¦ã»ã—ã„ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2023/10/24 18:14:00*

Swiftã«ãŠã„ã¦ã€`String`ã®extensionã‚’ä½¿ç”¨ã—ã¦ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€ä»»æ„ã®æ–‡å­—åˆ—ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ç›´æ¥ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚ä»¥ä¸‹ã«ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãƒã‚¹ã‚¯ã™ã‚‹æ©Ÿèƒ½ã‚’`String`ã®extensionã¨ã—ã¦å®Ÿè£…ã—ãŸä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

```swift
import Foundation

extension String {
    func maskedEmail() -> String? {
        // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³éƒ¨ã«åˆ†å‰²
        let emailComponents = self.components(separatedBy: "@")
        guard emailComponents.count == 2 else { return nil } // ãƒ¡ãƒ¼ãƒ«å½¢å¼ãŒç„¡åŠ¹ã®å ´åˆã€nilã‚’è¿”ã™

        let local = emailComponents[0]
        let domain = emailComponents[1]

        // ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã®æ–‡å­—åˆ—ã‚’ä¸€éƒ¨ãƒã‚¹ã‚¯ã™ã‚‹ï¼ˆä¾‹: å…ˆé ­ã¨æœ«å°¾ã‚’é™¤ãå…¨ã¦ã®æ–‡å­—ï¼‰
        let maskedLocal: String
        if local.count > 2 {
            let start = local.index(local.startIndex, offsetBy: 1)
            let end = local.index(local.endIndex, offsetBy: -1)
            let maskingRange = start..<end

            maskedLocal = local.replacingCharacters(in: maskingRange, with: String(repeating: "*", count: local.distance(from: start, to: end)))
        } else {
            // ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ãŒ2æ–‡å­—ä»¥ä¸‹ã®å ´åˆã€ãã®ã¾ã¾ãƒã‚¹ã‚¯ï¼ˆå…¨ã¦ã®æ–‡å­—ã‚’"*"ã«ã™ã‚‹ï¼‰
            maskedLocal = String(repeating: "*", count: local.count)
        }

        // ãƒã‚¹ã‚¯ã•ã‚ŒãŸãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’çµåˆã—ã¦è¿”ã™
        return "\(maskedLocal)@\(domain)"
    }
}

// ä½¿ç”¨ä¾‹
if let maskedEmail = "user@example.com".maskedEmail() {
    print(maskedEmail) // "u***@example.com"
} else {
    print("Invalid email format")
}
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€`String`ã®extensionã¨ã—ã¦`maskedEmail`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€å…ƒã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®æ–‡å­—åˆ—ï¼ˆ`self`ï¼‰ã‚’ä½¿ç”¨ã—ã€ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ï¼ˆ"@"ã®å‰ï¼‰ã‚’éƒ¨åˆ†çš„ã«ãƒã‚¹ã‚¯ã—ã¦è¿”ã—ã¾ã™ã€‚

ã“ã®å½¢å¼ã§ã¯ã€ä»»æ„ã®æ–‡å­—åˆ—ã«å¯¾ã—ã¦`maskedEmail`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç›´æ¥å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒç„¡åŠ¹ãªå½¢å¼ã®å ´åˆã¯`nil`ã‚’è¿”ã™ã®ã§ã€å‘¼ã³å‡ºã—å…ƒã§é©åˆ‡ãªå‡¦ç†ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2023/10/24 18:14:37*

ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ¼ã«ã—ã¦ã»ã—ã„ã€‚ã¾ãŸã€nil ã§ã¯ãªãã¦é©å½“ãªæ–‡å­—åˆ—ã‚’è¿”å´ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã»ã—ã„ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2023/10/24 18:15:24*

Swiftã®`String`å‹ã®æ‹¡å¼µæ©Ÿèƒ½ã¨ã—ã¦ã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç”¨ã„ã¦ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ä¸€éƒ¨ã‚’ãƒã‚¹ã‚¯ã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä»¥ä¸‹ã«ãã®æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚ã¾ãŸã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒç„¡åŠ¹ãªå ´åˆã«ã¯ã€ç‰¹å®šã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚

```swift
import Foundation

extension String {
    var maskedEmail: String {
        // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³éƒ¨ã«åˆ†å‰²
        let emailComponents = self.components(separatedBy: "@")
        
        // ãƒ¡ãƒ¼ãƒ«å½¢å¼ãŒç„¡åŠ¹ã®å ´åˆã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™
        guard emailComponents.count == 2 else { return "Invalid email format" }

        let local = emailComponents[0]
        let domain = emailComponents[1]

        // ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã®æ–‡å­—åˆ—ã‚’ä¸€éƒ¨ãƒã‚¹ã‚¯ã™ã‚‹ï¼ˆä¾‹: å…ˆé ­ã¨æœ«å°¾ã‚’é™¤ãå…¨ã¦ã®æ–‡å­—ï¼‰
        let maskedLocal: String
        if local.count > 2 {
            let start = local.index(local.startIndex, offsetBy: 1)
            let end = local.index(local.endIndex, offsetBy: -1)
            let maskingRange = start..<end

            maskedLocal = local.replacingCharacters(in: maskingRange, with: String(repeating: "*", count: local.distance(from: start, to: end)))
        } else {
            // ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ãŒ2æ–‡å­—ä»¥ä¸‹ã®å ´åˆã€ãã®ã¾ã¾ãƒã‚¹ã‚¯ï¼ˆå…¨ã¦ã®æ–‡å­—ã‚’"*"ã«ã™ã‚‹ï¼‰
            maskedLocal = String(repeating: "*", count: local.count)
        }

        // ãƒã‚¹ã‚¯ã•ã‚ŒãŸãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’çµåˆã—ã¦è¿”ã™
        return "\(maskedLocal)@\(domain)"
    }
}

// ä½¿ç”¨ä¾‹
let originalEmail = "user@example.com"
let maskedEmail = originalEmail.maskedEmail // "u***@example.com"
print(maskedEmail)

let invalidEmail = "invalidEmail"
let result = invalidEmail.maskedEmail // "Invalid email format"
print(result)
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€`String`ã®æ‹¡å¼µã¨ã—ã¦`maskedEmail`ã¨ã„ã†ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚ã“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€å…ƒã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®æ–‡å­—åˆ—ã«åŸºã¥ã„ã¦å€¤ã‚’è¨ˆç®—ã—ã€ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ï¼ˆ"@"ã®å‰ï¼‰ã‚’éƒ¨åˆ†çš„ã«ãƒã‚¹ã‚¯ã—ãŸãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¿”ã—ã¾ã™ã€‚

ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«å½¢å¼ã®æ–‡å­—åˆ—ãŒä¸ãˆã‚‰ã‚ŒãŸå ´åˆã€ã“ã®å®Ÿè£…ã§ã¯ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ `"Invalid email format"` ã‚’è¿”ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯å¸¸ã«`String`ã‚’è¿”ã™ãŸã‚ã€å‘¼ã³å‡ºã—å…ƒãŒ`nil`ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹å¿…è¦ãŒãªããªã‚Šã¾ã™ã€‚ãŸã ã—ã€å‘¼ã³å‡ºã—å…ƒã¯è¿”ã•ã‚ŒãŸæ–‡å­—åˆ—ãŒå®Ÿéš›ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãªã®ã‹ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãªã®ã‹ã‚’åˆ¤æ–­ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2023/10/24 18:15:51*

Invalid email format ã§ã¯ãªãã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé•å’Œæ„Ÿãªãæ„Ÿã˜ã‚‹å½¢å¼ãŒã„ã„ãŸã¨ãˆã° ***@****ãªã©

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2023/10/24 18:16:45*

äº†è§£ã—ã¾ã—ãŸã€‚ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å ´åˆã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé•å’Œæ„Ÿãªãæ„Ÿã˜ã‚‹å½¢å¼ã€ä¾‹ãˆã° `"***@****"` ã‚’è¿”ã™ã‚ˆã†ã«ã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ›´æ–°ã—ã¾ã—ã‚‡ã†ã€‚

```swift
import Foundation

extension String {
    var maskedEmail: String {
        // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³éƒ¨ã«åˆ†å‰²
        let emailComponents = self.components(separatedBy: "@")
        
        // ãƒ¡ãƒ¼ãƒ«å½¢å¼ãŒç„¡åŠ¹ã®å ´åˆã€"***@****"ã‚’è¿”ã™
        guard emailComponents.count == 2 else { return "***@****" }

        let local = emailComponents[0]
        let domain = emailComponents[1]

        // ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã®æ–‡å­—åˆ—ã‚’ä¸€éƒ¨ãƒã‚¹ã‚¯ã™ã‚‹ï¼ˆä¾‹: å…ˆé ­ã¨æœ«å°¾ã‚’é™¤ãå…¨ã¦ã®æ–‡å­—ï¼‰
        let maskedLocal: String
        if local.count > 2 {
            let start = local.index(local.startIndex, offsetBy: 1)
            let end = local.index(local.endIndex, offsetBy: -1)
            let maskingRange = start..<end

            maskedLocal = local.replacingCharacters(in: maskingRange, with: String(repeating: "*", count: local.distance(from: start, to: end)))
        } else {
            // ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ãŒ2æ–‡å­—ä»¥ä¸‹ã®å ´åˆã€ãã®ã¾ã¾ãƒã‚¹ã‚¯ï¼ˆå…¨ã¦ã®æ–‡å­—ã‚’"*"ã«ã™ã‚‹ï¼‰
            maskedLocal = String(repeating: "*", count: local.count)
        }

        // ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å…ˆé ­éƒ¨åˆ†ã‚’ãƒã‚¹ã‚¯ã™ã‚‹
        let maskedDomain = domain.replacingOccurrences(of: "^\\w+", with: "***", options: .regularExpression)

        // ãƒã‚¹ã‚¯ã•ã‚ŒãŸãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’çµåˆã—ã¦è¿”ã™
        return "\(maskedLocal)@\(maskedDomain)"
    }
}

// ä½¿ç”¨ä¾‹
let originalEmail = "user@example.com"
let maskedEmail = originalEmail.maskedEmail // "u***@***ample.com"
print(maskedEmail)

let invalidEmail = "invalidEmail"
let result = invalidEmail.maskedEmail // "***@****"
print(result)
```

ã“ã®å®Ÿè£…ã§ã¯ã€ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒä¸ãˆã‚‰ã‚ŒãŸå ´åˆã€`"***@****"`ã¨ã„ã†å½¢å¼ã®æ–‡å­—åˆ—ã‚’è¿”ã™ã‚ˆã†ã«`maskedEmail`ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒæ›´æ–°ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒçµæœã‚’è¦‹ãŸã¨ãã«ã€å®Ÿéš›ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ãƒã‚¹ã‚¯ã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚ã‚‹ã¨è‡ªç„¶ã«æ„Ÿã˜ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã¾ãŸã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ä¸€éƒ¨ã‚‚ãƒã‚¹ã‚¯ã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚æ­£è¦è¡¨ç¾ã‚’ä½¿ç”¨ã—ã¦ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å…ˆé ­éƒ¨åˆ†ã‚’"***"ã«ç½®ãæ›ãˆã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šä¸€èˆ¬çš„ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·ã‚’å¼·åŒ–ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ä¸€éƒ¨ã‚‚éš ã•ã‚Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼åã®ã¿ãªã‚‰ãšãƒ‰ãƒ¡ã‚¤ãƒ³åã«å¯¾ã™ã‚‹ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã‚‚ã‚ã‚‹ç¨‹åº¦ä¿è­·ã•ã‚Œã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2023/10/24 18:17:27*

ãƒ‰ãƒ¡ã‚¤ãƒ³ã¶ã¶ã‚“ã¯ãƒã‚¹ã‚¯ã—ãªãã¦ã„ã„ã‚ˆã€‚
ã¾ãŸã€‚ã“ã‚Œã‚’å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ç¶²ç¾…ã™ã‚‹ã‚ˆã†ã«ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ãƒ³ãƒ‰ã§å®Ÿè¡Œã—ã¦æ¬²ã—ã„ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2023/10/24 18:18:28*

äº†è§£ã—ã¾ã—ãŸã€‚ãƒ‰ãƒ¡ã‚¤ãƒ³éƒ¨åˆ†ã®ãƒã‚¹ã‚¯ã‚’å‰Šé™¤ã—ã€Swiftã®Playgroundã§ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¦ã€å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¶²ç¾…ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ä»¥ä¸‹ã«ãã®å®Ÿè£…ã‚’ç¤ºã—ã¾ã™ã€‚

ã¾ãšã€`String`ã®æ‹¡å¼µã‚’ä¿®æ­£ã—ã¾ã™ã€‚

```swift
import Foundation

extension String {
    var maskedEmail: String {
        // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³éƒ¨ã«åˆ†å‰²
        let emailComponents = self.components(separatedBy: "@")
        
        // ãƒ¡ãƒ¼ãƒ«å½¢å¼ãŒç„¡åŠ¹ã®å ´åˆã€"***@****"ã‚’è¿”ã™
        guard emailComponents.count == 2 else { return "***@****" }

        let local = emailComponents[0]
        let domain = emailComponents[1]

        // ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã®æ–‡å­—åˆ—ã‚’ä¸€éƒ¨ãƒã‚¹ã‚¯ã™ã‚‹ï¼ˆä¾‹: å…ˆé ­ã¨æœ«å°¾ã‚’é™¤ãå…¨ã¦ã®æ–‡å­—ï¼‰
        let maskedLocal: String
        if local.count > 2 {
            let start = local.index(local.startIndex, offsetBy: 1)
            let end = local.index(local.endIndex, offsetBy: -1)
            let maskingRange = start..<end

            maskedLocal = local.replacingCharacters(in: maskingRange, with: String(repeating: "*", count: local.distance(from: start, to: end)))
        } else {
            // ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ãŒ2æ–‡å­—ä»¥ä¸‹ã®å ´åˆã€ãã®ã¾ã¾ãƒã‚¹ã‚¯ï¼ˆå…¨ã¦ã®æ–‡å­—ã‚’"*"ã«ã™ã‚‹ï¼‰
            maskedLocal = String(repeating: "*", count: local.count)
        }

        // ãƒã‚¹ã‚¯ã•ã‚ŒãŸãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’çµåˆã—ã¦è¿”ã™
        return "\(maskedLocal)@\(domain)"
    }
}
```

æ¬¡ã«ã€Swiftã®Playgroundã§ã“ã‚Œã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¾ã™ã€‚Xcodeã®Playgroundã‚’é–‹ã„ã¦ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ãã ã•ã„ã€‚

```swift
import Foundation

// ã“ã®æ‹¡å¼µæ©Ÿèƒ½ã‚’ä¸Šè¨˜ã«ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆã—ã¾ã™ã€‚

// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
let testCases = [
    "user@example.com",
    "a@example.com",
    "ab@example.com",
    "@example.com",
    "user@",
    "user",
    ""
]

// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®å®Ÿè¡Œ
for testCase in testCases {
    let result = testCase.maskedEmail
    print("Original: \(testCase), Masked: \(result)")
}

// çµæœã®æ¤œè¨¼
// æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
// Original: user@example.com, Masked: u***@example.com
// Original: a@example.com, Masked: *@example.com
// Original: ab@example.com, Masked: **@example.com
// Original: @example.com, Masked: ***@****
// Original: user@, Masked: ***@****
// Original: user, Masked: ***@****
// Original: , Masked: ***@****
```

ã“ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã¯ã€æ§˜ã€…ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã‚«ãƒãƒ¼ã—ã¦ã„ã¾ã™ã€‚é©åˆ‡ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å½¢å¼ã‹ã‚‰ã€ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ãŒ1æ–‡å­—ã¾ãŸã¯2æ–‡å­—ã®ã‚‚ã®ã€"@"ãŒæ¬ ã‘ã¦ã„ã‚‹ã‚‚ã®ã€å®Œå…¨ã«ç©ºã®æ–‡å­—åˆ—ã¾ã§æ§˜ã€…ãªã‚·ãƒŠãƒªã‚ªãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ãã‚Œãã‚Œã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’å®Ÿè¡Œã—ã€æœŸå¾…ã•ã‚Œã‚‹ãƒã‚¹ã‚¯ã•ã‚ŒãŸçµæœãŒå‡ºåŠ›ã•ã‚Œã‚‹ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2023/10/24 18:19:04*

åŒã˜ã‚ˆã†ãªã‚‚ã®ã‚’é›»è©±ç•ªå·ã§ã‚‚è¡Œãªã£ã¦æ¬²ã—ã„ã€‚ä¸‹3æ¡ã ã‘ã‚’è¡¨ç¤ºã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2023/10/24 18:19:45*

é›»è©±ç•ªå·ã®ä¸‹3æ¡ã ã‘ã‚’è¡¨ç¤ºã—ã€æ®‹ã‚Šã‚’ãƒã‚¹ã‚¯ã™ã‚‹å‡¦ç†ã‚‚ã€`String`ã®æ‹¡å¼µã¨ã—ã¦å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãŸã ã—ã€é›»è©±ç•ªå·ã¯å›½ã‚„åœ°åŸŸã«ã‚ˆã£ã¦å½¢å¼ãŒç•°ãªã‚‹ãŸã‚ã€ã“ã®å®Ÿè£…ã¯ä¸€èˆ¬çš„ãªé›»è©±ç•ªå·ã®å½¢å¼ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚ä»¥ä¸‹ã«ãã®æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚

```swift
import Foundation

extension String {
    var maskedPhoneNumber: String {
        // é›»è©±ç•ªå·ã®æ¡æ•°ãŒä¸ååˆ†ãªå ´åˆã€"***"ã‚’è¿”ã™
        guard self.count >= 3 else { return "***" }

        // é›»è©±ç•ªå·ã®ä¸‹3æ¡ã‚’æŠ½å‡º
        let lastThreeDigits = String(self.suffix(3))

        // ãƒã‚¹ã‚¯ã™ã‚‹éƒ¨åˆ†ã®é•·ã•ã‚’è¨ˆç®—
        let maskLength = self.count - 3

        // ãƒã‚¹ã‚¯ã•ã‚ŒãŸéƒ¨åˆ†ã¨ä¸‹3æ¡ã‚’çµåˆã—ã¦è¿”ã™
        return String(repeating: "*", count: maskLength) + lastThreeDigits
    }
}

// ä½¿ç”¨ä¾‹
let originalPhoneNumber = "1234567890"
let maskedPhoneNumber = originalPhoneNumber.maskedPhoneNumber // "*******890"
print(maskedPhoneNumber)

let shortPhoneNumber = "12"
let result = shortPhoneNumber.maskedPhoneNumber // "***"
print(result)
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€`String`ã®æ‹¡å¼µã¨ã—ã¦`maskedPhoneNumber`ã¨ã„ã†ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚ã“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€å…ƒã®é›»è©±ç•ªå·ã®æ–‡å­—åˆ—ã«åŸºã¥ã„ã¦å€¤ã‚’è¨ˆç®—ã—ã€æœ€å¾Œã®3æ¡ã‚’é™¤ãå…¨ã¦ã®æ•°å­—ã‚’`"*"`ã«ç½®ãæ›ãˆãŸé›»è©±ç•ªå·ã‚’è¿”ã—ã¾ã™ã€‚

ç„¡åŠ¹ãªé›»è©±ç•ªå·ï¼ˆä¾‹ãˆã°ã€3æ¡æœªæº€ï¼‰ãŒä¸ãˆã‚‰ã‚ŒãŸå ´åˆã€ã“ã®å®Ÿè£…ã§ã¯ `"***"` ã‚’è¿”ã™ã“ã¨ã«ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯å¸¸ã«`String`ã‚’è¿”ã™ãŸã‚ã€å‘¼ã³å‡ºã—å…ƒãŒ`nil`ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹å¿…è¦ãŒãªããªã‚Šã¾ã™ã€‚ãŸã ã—ã€å‘¼ã³å‡ºã—å…ƒã¯è¿”ã•ã‚ŒãŸæ–‡å­—åˆ—ãŒå®Ÿéš›ã®é›»è©±ç•ªå·ãªã®ã‹ã€ã‚ã‚‹ã„ã¯å˜ã« `"***"` ãªã®ã‹ã‚’åˆ¤æ–­ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹å ´åˆã‚‚ã€æ§˜ã€…ãªé•·ã•ã‚„å½¢å¼ã®é›»è©±ç•ªå·ã‚’ç”¨æ„ã—ã€ãã‚Œãã‚ŒãŒæœŸå¾…é€šã‚Šã«ãƒã‚¹ã‚¯ã•ã‚Œã‚‹ã‹ã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚ä¸Šè¨˜ã®ä½¿ç”¨ä¾‹ã«ã¯ã€æ­£å¸¸ãªé›»è©±ç•ªå·ã¨çŸ­ã™ãã‚‹é›»è©±ç•ªå·ã®2ã¤ã®ã‚±ãƒ¼ã‚¹ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ãŒã€æ›´ã«å¤šãã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã§ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2023/10/24 18:24:42*

ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ãŸã€‚ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«åˆ†å‰²ã§ããªã„ã‚‚ã®ã¯ä¸€å¾‹ã§ã€***@*** ã«ã—ã¦ã»ã—ã„ã€‚

Original: user@example.com, Masked: u**r@example.com
Original: a@example.com, Masked: *@example.com
Original: ab@example.com, Masked: **@example.com
Original: @example.com, Masked: @example.com
Original: user@, Masked: u**r@
Original: user, Masked: ***@****
Original: , Masked: ***@****

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2023/10/24 18:25:37*

äº†è§£ã—ã¾ã—ãŸã€‚æŒ‡å®šã•ã‚ŒãŸå‡ºåŠ›ã«ãªã‚‹ã‚ˆã†ã«ã€ã‚³ãƒ¼ãƒ‰ã‚’èª¿æ•´ã—ã¾ã™ã€‚ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’é©åˆ‡ã«åˆ†å‰²ã§ããªã„å ´åˆã«ã¯ã€ä¸€å¾‹ã§ `"***@***"` ã‚’è¿”ã™ã‚ˆã†ã«ã—ã€ãã‚Œä»¥å¤–ã®ã‚±ãƒ¼ã‚¹ã§ã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã®å…ˆé ­ã¨æœ«å°¾ã®æ–‡å­—ã‚’æ®‹ã—ã€é–“ã®æ–‡å­—ã‚’ã‚¢ã‚¹ã‚¿ãƒªã‚¹ã‚¯ï¼ˆ`*`ï¼‰ã§ç½®ãæ›ãˆã¾ã™ã€‚ä»¥ä¸‹ãŒãã®å®Ÿè£…ã§ã™ï¼š

```swift
import Foundation

extension String {
    var maskedEmail: String {
        // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³éƒ¨ã«åˆ†å‰²
        let emailComponents = self.components(separatedBy: "@")
        
        // ãƒ¡ãƒ¼ãƒ«å½¢å¼ãŒç„¡åŠ¹ã®å ´åˆã€"***@***"ã‚’è¿”ã™
        if emailComponents.count != 2 || emailComponents[0].isEmpty || emailComponents[1].isEmpty {
            return "***@***"
        }

        let local = emailComponents[0]
        let domain = emailComponents[1]

        // ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã®æ–‡å­—åˆ—ã‚’ä¸€éƒ¨ãƒã‚¹ã‚¯ã™ã‚‹
        let maskedLocal: String
        if local.count > 2 {
            let firstChar = local.prefix(1)
            let lastChar = local.suffix(1)
            let stars = String(repeating: "*", count: local.count - 2)
            maskedLocal = "\(firstChar)\(stars)\(lastChar)"
        } else {
            maskedLocal = String(repeating: "*", count: local.count)
        }

        return "\(maskedLocal)@\(domain)"
    }
}

// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®å®Ÿè¡Œ
let emails = [
    "user@example.com",
    "a@example.com",
    "ab@example.com",
    "@example.com",
    "user@",
    "user",
    ""
]

for email in emails {
    print("Original: \(email), Masked: \(email.maskedEmail)")
}
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€ã¾ãšãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒæ­£ã—ã„å½¢å¼ã§ã‚ã‚‹ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚`"@"`ã§åˆ†å‰²ã—ãŸå¾Œã€2ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå¾—ã‚‰ã‚Œã€ã‹ã¤ã€ãã‚Œãã‚ŒãŒç©ºã§ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚ãã†ã§ãªã„å ´åˆã€`"***@***"` ã‚’è¿”ã—ã¾ã™ã€‚

æ¬¡ã«ã€ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ï¼ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®`"@"`ã®å‰ã®éƒ¨åˆ†ï¼‰ãŒ2æ–‡å­—ä»¥ä¸Šã®å ´åˆã€æœ€åˆã¨æœ€å¾Œã®æ–‡å­—ã‚’ä¿æŒã—ã€æ®‹ã‚Šã‚’ã‚¢ã‚¹ã‚¿ãƒªã‚¹ã‚¯ï¼ˆ`*`ï¼‰ã§ç½®ãæ›ãˆã¾ã™ã€‚2æ–‡å­—ä»¥ä¸‹ã®å ´åˆã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã‚’ãã®ã¾ã¾ã‚¢ã‚¹ã‚¿ãƒªã‚¹ã‚¯ã§ç½®ãæ›ãˆã¾ã™ã€‚

ã“ã®å®Ÿè£…ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã«ã¯ã€ã•ã¾ã–ã¾ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ã‚±ãƒ¼ã‚¹ã‚’ç”¨æ„ã—ã€ãã‚Œãã‚ŒãŒæœŸå¾…é€šã‚Šã«ãƒã‚¹ã‚¯ã•ã‚Œã‚‹ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚ä¸Šã®ä¾‹ã§ã¯ã€æ­£å¸¸ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ä¸å®Œå…¨ãªå½¢å¼ï¼ˆ`"@"`ã®å‰å¾Œã®ã„ãšã‚Œã‹ãŒæ¬ ã‘ã¦ã„ã‚‹ï¼‰ã€ç„¡åŠ¹ãªå½¢å¼ï¼ˆ`"@"`ãŒãªã„ï¼‰ã€ç©ºã®æ–‡å­—åˆ—ã¾ã§ã€ã•ã¾ã–ã¾ãªã‚±ãƒ¼ã‚¹ã‚’ã‚«ãƒãƒ¼ã—ã¦ã„ã¾ã™ã€‚ãã‚Œãã‚Œã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒæœŸå¾…ã•ã‚Œã‚‹çµæœã‚’è¿”ã™ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2023/10/24 18:27:04*

ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨åˆ†ã®å…ˆé ­2æ–‡å­—ã ã‘è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¦ã»ã—ã„ã€‚å…ˆé ­ãŒ2æ–‡å­—ä»¥ä¸‹ã§ã‚ã‚Œã° *** ã«ã—ã¦ã»ã—ã„ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2023/10/24 18:27:48*

äº†è§£ã—ã¾ã—ãŸã€‚ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨åˆ†ã®å…ˆé ­2æ–‡å­—ã®ã¿ã‚’è¡¨ç¤ºã—ã€ãã®ä»–ã®éƒ¨åˆ†ã‚’ãƒã‚¹ã‚¯ã™ã‚‹ã‚ˆã†ã«ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ã¾ã™ã€‚ã¾ãŸã€ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨åˆ†ãŒ2æ–‡å­—ä»¥ä¸‹ã®å ´åˆã¯ã€"***"ã‚’è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ä»¥ä¸‹ãŒãã®å®Ÿè£…ã§ã™ï¼š

```swift
import Foundation

extension String {
    var maskedEmail: String {
        // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³éƒ¨ã«åˆ†å‰²
        let emailComponents = self.components(separatedBy: "@")
        
        // ãƒ¡ãƒ¼ãƒ«å½¢å¼ãŒç„¡åŠ¹ã®å ´åˆã€"***@***"ã‚’è¿”ã™
        if emailComponents.count != 2 || emailComponents[0].isEmpty || emailComponents[1].isEmpty {
            return "***@***"
        }

        let local = emailComponents[0]
        let domain = emailComponents[1]

        // ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ã®æ–‡å­—åˆ—ã‚’ä¸€éƒ¨ãƒã‚¹ã‚¯ã™ã‚‹
        let maskedLocal: String
        if local.count > 2 {
            let firstTwoChars = local.prefix(2)
            let stars = String(repeating: "*", count: local.count - 2)
            maskedLocal = "\(firstTwoChars)\(stars)"
        } else {
            maskedLocal = "***"
        }

        return "\(maskedLocal)@\(domain)"
    }
}

// ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®å®Ÿè¡Œ
let emails = [
    "user@example.com",
    "ab@example.com",
    "a@example.com",
    "@example.com",
    "user@",
    "user",
    ""
]

for email in emails {
    print("Original: \(email), Masked: \(email.maskedEmail)")
}
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€ã¾ãšãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒæ­£ã—ã„å½¢å¼ã§ã‚ã‚‹ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚"@"ã§åˆ†å‰²ã—ãŸå¾Œã€2ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå¾—ã‚‰ã‚Œã€ã‹ã¤ã€ãã‚Œãã‚ŒãŒç©ºã§ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚ãã†ã§ãªã„å ´åˆã€"***@***" ã‚’è¿”ã—ã¾ã™ã€‚

æ¬¡ã«ã€ãƒ­ãƒ¼ã‚«ãƒ«éƒ¨ï¼ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®"@"ã®å‰ã®éƒ¨åˆ†ï¼‰ãŒ2æ–‡å­—ä»¥ä¸Šã®å ´åˆã€æœ€åˆã®2æ–‡å­—ã‚’ä¿æŒã—ã€æ®‹ã‚Šã‚’ã‚¢ã‚¹ã‚¿ãƒªã‚¹ã‚¯ï¼ˆ*ï¼‰ã§ç½®ãæ›ãˆã¾ã™ã€‚2æ–‡å­—ä»¥ä¸‹ã®å ´åˆã¯ã€"***"ã‚’è¿”ã—ã¾ã™ã€‚

ã“ã®å®Ÿè£…ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã«ã¯ã€ã•ã¾ã–ã¾ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ã‚±ãƒ¼ã‚¹ã‚’ç”¨æ„ã—ã€ãã‚Œãã‚ŒãŒæœŸå¾…é€šã‚Šã«ãƒã‚¹ã‚¯ã•ã‚Œã‚‹ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚ä¸Šã®ä¾‹ã§ã¯ã€æ­£å¸¸ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ä¸å®Œå…¨ãªå½¢å¼ï¼ˆ"@"ã®å‰å¾Œã®ã„ãšã‚Œã‹ãŒæ¬ ã‘ã¦ã„ã‚‹ï¼‰ã€ç„¡åŠ¹ãªå½¢å¼ï¼ˆ"@"ãŒãªã„ï¼‰ã€ç©ºã®æ–‡å­—åˆ—ã¾ã§ã€ã•ã¾ã–ã¾ãªã‚±ãƒ¼ã‚¹ã‚’ã‚«ãƒãƒ¼ã—ã¦ã„ã¾ã™ã€‚ãã‚Œãã‚Œã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒæœŸå¾…ã•ã‚Œã‚‹çµæœã‚’è¿”ã™ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚

---
