# FVM 3.0 設定

Date: 2024-12-05

---

## 👤 User
*2024-12-05 17:51:26*

fvm Github で管理すべきファイル

---

## 🤖 Assistant
*2024-12-05 17:51:58*

Flutter Version Management (FVM) を使用している場合、GitHub で管理すべきファイルを整理することで、チーム全体で一貫した Flutter バージョンを利用できるようになります。以下に、管理すべきファイルとその理由を説明します。

---

### **GitHub で管理すべきファイル**

1. **`.fvm/fvm_config.json`**
   - **理由**:  
     このファイルにはプロジェクトで使用する Flutter のバージョンが記載されています。これを管理することで、チーム全体で同じバージョンを使用できます。
   - **例**:
     ```json
     {
       "flutterSdkVersion": "3.10.6",
       "cachePath": ".fvm/flutter_sdk"
     }
     ```

2. **`.gitignore`**
   - **理由**:  
     `.fvm/flutter_sdk` ディレクトリは Flutter SDK のキャッシュであり、ローカルにのみ必要です。このディレクトリを Git 管理から除外するために、`.gitignore` に以下を追加します。
   - **追加内容**:
     ```
     .fvm/flutter_sdk
     ```

3. **`.metadata`** (任意)
   - **理由**:  
     プロジェクトが依存する Flutter バージョンに関する情報が含まれていますが、FVM を使用している場合は必須ではありません。
   - **管理しない場合の対策**:  
     `.gitignore` に以下を追加するのが一般的です。
     ```
     .metadata
     ```

4. **`pubspec.yaml` と `pubspec.lock`**
   - **理由**:  
     Flutter プロジェクトの依存関係が記載されています。これらのファイルを管理することで、プロジェクトの依存関係が確実に一致します。

---

### **GitHub で管理しないファイル**

1. **`.fvm/flutter_sdk`**
   - **理由**:  
     これはローカルキャッシュされた Flutter SDK であり、GitHub で共有する必要はありません。

2. **`build/` ディレクトリ**
   - **理由**:  
     ビルド成果物はバイナリであり、GitHub 管理には不適切です。

3. **`ios/Pods/`** (iOS の場合)
   - **理由**:  
     CocoaPods の依存関係はローカルでインストールすれば十分です。

---

### **Git 管理用の `.gitignore` ファイル例**

以下は FVM を利用する Flutter プロジェクト向けの `.gitignore` の例です。

```gitignore
# Flutter関連
.dart_tool/
.flutter-plugins
.flutter-plugins-dependencies
.packages
.idea/
.vscode/
build/
.fvm/flutter_sdk
.metadata

# iOS関連
ios/Pods/
ios/Flutter/Flutter.framework
ios/Flutter/Flutter.podspec
ios/.symlinks/

# Android関連
android/.gradle/
android/app/build/
```

---

FVM を使用することで、Flutter のバージョン管理が簡単になります。`.fvm/fvm_config.json` を管理し、SDK キャッシュやビルド成果物を除外すれば、チーム全員が効率的に開発を進めることができます。

---

## 🤖 Assistant
*2024-12-05 17:52:07*

最新の FVM バージョン 3.0.0 では、設定ファイルが `.fvmrc` に変更されました。このファイルには、プロジェクトで使用する Flutter SDK のバージョンが記載されています。そのため、`.fvmrc` を GitHub で管理することで、チーム全体で統一された Flutter バージョンを共有できます。 citeturn0search1

また、`.gitignore` ファイルには `.fvm/` ディレクトリを追加することが推奨されています。これにより、FVM によって作成されるローカルの Flutter SDK キャッシュや関連ファイルがバージョン管理から除外されます。 citeturn0search1

さらに、FVM 3.0.0 では、`.gitignore` に `.fvm/` を自動的に追加する機能が導入されています。これにより、手動での設定が不要になり、開発者の負担が軽減されます。 citeturn0search1

これらの設定を行うことで、FVM を使用した Flutter プロジェクトにおいて、チーム全体で一貫した開発環境を維持することが可能になります。

---
