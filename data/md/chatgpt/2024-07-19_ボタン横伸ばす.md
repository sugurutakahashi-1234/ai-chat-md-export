# ãƒœã‚¿ãƒ³æ¨ªä¼¸ã°ã™

æ—¥ä»˜: 2024-07-19

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/07/19 14:00:26*

ãƒœã‚¿ãƒ³ã‚’æ¨ªã„ã£ã±ã„ã«ä¼¸ã°ã—ãŸã„

public struct PhoneNumberInputView&lt;Dependency: RootDIContainerDependency&gt;: View {
    private let dependency: Dependency
    @StateObject private var presenter: PhoneNumberInputPresenter&lt;Dependency&gt;
    @FocusState private var isFocused: Bool

    public init(dependency: Dependency) {
        self.dependency = dependency
        _presenter = .init(wrappedValue: PhoneNumberInputPresenter(dependency: dependency))
    }

    public var body: some View {
        VStack {
            HStack {
                Text("é›»è©±ç•ªå·")
                Spacer()
            }
            .padding(.vertical)

            TextField("09012345678", text: $presenter.rawPhoneNumber)
                .keyboardType(.numberPad)
                .textFieldStyle(.roundedBorder)
                .focused($isFocused)

            Text("æœ‰åŠ¹ãªé›»è©±ç•ªå·ã§ã¯ãªã„ã‚ˆã†ã§ã™ã€‚æ­£ã—ã„é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
                .isHidden(!presenter.showInvalidMessage)
                .foregroundStyle(.red)

            Button {
                presenter.onTapNext()
            } label: {
                Text("æ¬¡ã¸")
            }
            .buttonStyle(.borderedProminent)
            .disabled(!presenter.isValidPhoneNumber)

            Spacer()
        }
        .padding()
        .navigationTitle("é›»è©±ç•ªå·å…¥åŠ›")
        .navigationDestination(isPresented: $presenter.showConfirmationCodeInput, destination: {
            ConfirmationCodeInputView(dependency: dependency)
        })
        .task {
            await presenter.onAppear()
        }
        .onAppear {
            isFocused = true
        }
        .onDisappear {
            presenter.onDisappear()
        }
    }
}

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/07/19 14:00:36*

ãƒœã‚¿ãƒ³ã‚’æ¨ªã„ã£ã±ã„ã«ä¼¸ã°ã™ãŸã‚ã«ã¯ã€`Button`ã‚’`HStack`å†…ã«é…ç½®ã—ã€`Spacer`ã§å·¦å³ã«ä½™ç™½ã‚’å–ã‚‹ã“ã¨ã§ãƒœã‚¿ãƒ³ãŒæ¨ªã„ã£ã±ã„ã«ä¼¸ã³ã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä»¥ä¸‹ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚

```swift
public struct PhoneNumberInputView<Dependency: RootDIContainerDependency>: View {
    private let dependency: Dependency
    @StateObject private var presenter: PhoneNumberInputPresenter<Dependency>
    @FocusState private var isFocused: Bool

    public init(dependency: Dependency) {
        self.dependency = dependency
        _presenter = .init(wrappedValue: PhoneNumberInputPresenter(dependency: dependency))
    }

    public var body: some View {
        VStack {
            HStack {
                Text("é›»è©±ç•ªå·")
                Spacer()
            }
            .padding(.vertical)

            TextField("09012345678", text: $presenter.rawPhoneNumber)
                .keyboardType(.numberPad)
                .textFieldStyle(.roundedBorder)
                .focused($isFocused)

            Text("æœ‰åŠ¹ãªé›»è©±ç•ªå·ã§ã¯ãªã„ã‚ˆã†ã§ã™ã€‚æ­£ã—ã„é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
                .isHidden(!presenter.showInvalidMessage)
                .foregroundStyle(.red)

            HStack {
                Spacer()
                Button {
                    presenter.onTapNext()
                } label: {
                    Text("æ¬¡ã¸")
                }
                .buttonStyle(.borderedProminent)
                .disabled(!presenter.isValidPhoneNumber)
                Spacer()
            }
            .padding(.top, 10)

            Spacer()
        }
        .padding()
        .navigationTitle("é›»è©±ç•ªå·å…¥åŠ›")
        .navigationDestination(isPresented: $presenter.showConfirmationCodeInput, destination: {
            ConfirmationCodeInputView(dependency: dependency)
        })
        .task {
            await presenter.onAppear()
        }
        .onAppear {
            isFocused = true
        }
        .onDisappear {
            presenter.onDisappear()
        }
    }
}
```

ã“ã®ä¿®æ­£ã«ã‚ˆã‚Šã€ãƒœã‚¿ãƒ³ãŒæ¨ªã„ã£ã±ã„ã«åºƒãŒã‚Šã€ãƒœã‚¿ãƒ³ã®å·¦å³ã«å‡ç­‰ã«ä½™ç™½ãŒã§ãã¾ã™ã€‚ã¾ãŸã€`padding(.top, 10)`ã‚’è¿½åŠ ã—ã¦ã€ãƒœã‚¿ãƒ³ã¨ä¸Šã®ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨ã®é–“ã«é©åº¦ãªã‚¹ãƒšãƒ¼ã‚¹ã‚’å–ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/07/19 14:02:53*

presenter.showInvalidMessage ã§ã‚ã‚Œã° TextField ã®æ ç·šã‚’èµ¤ãã—ãŸã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/07/19 14:03:03*

`TextField`ã®æ ç·šã‚’èµ¤ãã™ã‚‹ã«ã¯ã€`Overlay`ã‚’ä½¿ç”¨ã—ã¦ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã§ãã¾ã™ã€‚`presenter.showInvalidMessage`ã«åŸºã¥ã„ã¦æ¡ä»¶ä»˜ãã§æ ç·šã®è‰²ã‚’å¤‰æ›´ã™ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚

```swift
public struct PhoneNumberInputView<Dependency: RootDIContainerDependency>: View {
    private let dependency: Dependency
    @StateObject private var presenter: PhoneNumberInputPresenter<Dependency>
    @FocusState private var isFocused: Bool

    public init(dependency: Dependency) {
        self.dependency = dependency
        _presenter = .init(wrappedValue: PhoneNumberInputPresenter(dependency: dependency))
    }

    public var body: some View {
        VStack {
            HStack {
                Text("é›»è©±ç•ªå·")
                Spacer()
            }
            .padding(.vertical)

            ZStack {
                TextField("09012345678", text: $presenter.rawPhoneNumber)
                    .keyboardType(.numberPad)
                    .textFieldStyle(.roundedBorder)
                    .focused($isFocused)
                    .padding()
                    .overlay(
                        RoundedRectangle(cornerRadius: 8)
                            .stroke(presenter.showInvalidMessage ? Color.red : Color.gray, lineWidth: 1)
                    )
            }

            Text("æœ‰åŠ¹ãªé›»è©±ç•ªå·ã§ã¯ãªã„ã‚ˆã†ã§ã™ã€‚æ­£ã—ã„é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
                .isHidden(!presenter.showInvalidMessage)
                .foregroundStyle(.red)

            HStack {
                Spacer()
                Button {
                    presenter.onTapNext()
                } label: {
                    Text("æ¬¡ã¸")
                }
                .buttonStyle(.borderedProminent)
                .disabled(!presenter.isValidPhoneNumber)
                Spacer()
            }
            .padding(.top, 10)

            Spacer()
        }
        .padding()
        .navigationTitle("é›»è©±ç•ªå·å…¥åŠ›")
        .navigationDestination(isPresented: $presenter.showConfirmationCodeInput, destination: {
            ConfirmationCodeInputView(dependency: dependency)
        })
        .task {
            await presenter.onAppear()
        }
        .onAppear {
            isFocused = true
        }
        .onDisappear {
            presenter.onDisappear()
        }
    }
}
```

ã“ã®ä¿®æ­£ã§ã¯ã€`TextField`ã‚’`ZStack`å†…ã«é…ç½®ã—ã€`TextField`ã«`overlay`ã‚’é©ç”¨ã—ã¦æ ç·šã®è‰²ã‚’å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚`presenter.showInvalidMessage`ãŒ`true`ã®å ´åˆã¯èµ¤è‰²ã«ã€ãã†ã§ãªã„å ´åˆã¯ç°è‰²ã®æ ç·šãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/07/19 14:03:53*

TextField è‡ªä½“ã‚’ã‚¢ãƒ³ãƒ€ãƒ¼ãƒãƒ¼ã«ã—ã¦ãã‚Œã‚’èµ¤ãã—ãŸã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/07/19 14:04:03*

`TextField`è‡ªä½“ã‚’ã‚¢ãƒ³ãƒ€ãƒ¼ãƒãƒ¼ã«ã—ã¦ã€ãã‚Œã‚’èµ¤ãã™ã‚‹ã«ã¯ã€`overlay`ã‚’ä½¿ã£ã¦ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã§ãã¾ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€`TextField`ã®ä¸‹ã«èµ¤ã„ã‚¢ãƒ³ãƒ€ãƒ¼ãƒãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚

```swift
public struct PhoneNumberInputView<Dependency: RootDIContainerDependency>: View {
    private let dependency: Dependency
    @StateObject private var presenter: PhoneNumberInputPresenter<Dependency>
    @FocusState private var isFocused: Bool

    public init(dependency: Dependency) {
        self.dependency = dependency
        _presenter = .init(wrappedValue: PhoneNumberInputPresenter(dependency: dependency))
    }

    public var body: some View {
        VStack {
            HStack {
                Text("é›»è©±ç•ªå·")
                Spacer()
            }
            .padding(.vertical)

            TextField("09012345678", text: $presenter.rawPhoneNumber)
                .keyboardType(.numberPad)
                .focused($isFocused)
                .padding(.bottom, 5)
                .overlay(
                    VStack {
                        Spacer()
                        Rectangle()
                            .frame(height: 2)
                            .foregroundColor(presenter.showInvalidMessage ? .red : .gray)
                    }
                )

            Text("æœ‰åŠ¹ãªé›»è©±ç•ªå·ã§ã¯ãªã„ã‚ˆã†ã§ã™ã€‚æ­£ã—ã„é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
                .isHidden(!presenter.showInvalidMessage)
                .foregroundColor(.red)
                .padding(.top, 5)

            HStack {
                Spacer()
                Button {
                    presenter.onTapNext()
                } label: {
                    Text("æ¬¡ã¸")
                }
                .buttonStyle(.borderedProminent)
                .disabled(!presenter.isValidPhoneNumber)
                Spacer()
            }
            .padding(.top, 10)

            Spacer()
        }
        .padding()
        .navigationTitle("é›»è©±ç•ªå·å…¥åŠ›")
        .navigationDestination(isPresented: $presenter.showConfirmationCodeInput, destination: {
            ConfirmationCodeInputView(dependency: dependency)
        })
        .task {
            await presenter.onAppear()
        }
        .onAppear {
            isFocused = true
        }
        .onDisappear {
            presenter.onDisappear()
        }
    }
}
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€`TextField`ã«`overlay`ã‚’ä½¿ç”¨ã—ã¦ã‚¢ãƒ³ãƒ€ãƒ¼ãƒãƒ¼ã‚’è¿½åŠ ã—ã€`presenter.showInvalidMessage`ã®çŠ¶æ…‹ã«å¿œã˜ã¦è‰²ã‚’å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚ã‚¢ãƒ³ãƒ€ãƒ¼ãƒãƒ¼ã¯`Rectangle`ã‚’ä½¿ã£ã¦å®Ÿè£…ã•ã‚Œã€é«˜ã•ã‚’`2`ã«è¨­å®šã—ã¦ã„ã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/07/19 14:04:22*

ã¤ã­ã«ã‚¢ãƒ³ãƒ€ãƒ¼ãƒãƒ¼ã‚’è¡¨ç¤ºã•ã›ã¦ãŠã„ã¦ã€ãã‚Œã‚’èµ¤ãã—ãŸã„ã‚“ã 

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/07/19 14:04:33*

å¸¸ã«ã‚¢ãƒ³ãƒ€ãƒ¼ãƒãƒ¼ã‚’è¡¨ç¤ºã•ã›ã€ãã‚Œã‚’å¿…è¦ã«å¿œã˜ã¦èµ¤ãã™ã‚‹ãŸã‚ã«ã¯ã€`TextField`ã®ä¸‹ã«å¸¸ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚¢ãƒ³ãƒ€ãƒ¼ãƒãƒ¼ã‚’è¿½åŠ ã—ã€ãã®è‰²ã‚’`presenter.showInvalidMessage`ã®çŠ¶æ…‹ã«å¿œã˜ã¦å¤‰æ›´ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’ã”è¦§ãã ã•ã„ã€‚

```swift
public struct PhoneNumberInputView<Dependency: RootDIContainerDependency>: View {
    private let dependency: Dependency
    @StateObject private var presenter: PhoneNumberInputPresenter<Dependency>
    @FocusState private var isFocused: Bool

    public init(dependency: Dependency) {
        self.dependency = dependency
        _presenter = .init(wrappedValue: PhoneNumberInputPresenter(dependency: dependency))
    }

    public var body: some View {
        VStack {
            HStack {
                Text("é›»è©±ç•ªå·")
                Spacer()
            }
            .padding(.vertical)

            VStack(spacing: 0) {
                TextField("09012345678", text: $presenter.rawPhoneNumber)
                    .keyboardType(.numberPad)
                    .focused($isFocused)
                    .padding(.bottom, 5)
                
                Rectangle()
                    .frame(height: 2)
                    .foregroundColor(presenter.showInvalidMessage ? .red : .gray)
            }

            Text("æœ‰åŠ¹ãªé›»è©±ç•ªå·ã§ã¯ãªã„ã‚ˆã†ã§ã™ã€‚æ­£ã—ã„é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
                .isHidden(!presenter.showInvalidMessage)
                .foregroundColor(.red)
                .padding(.top, 5)

            HStack {
                Spacer()
                Button {
                    presenter.onTapNext()
                } label: {
                    Text("æ¬¡ã¸")
                }
                .buttonStyle(.borderedProminent)
                .disabled(!presenter.isValidPhoneNumber)
                Spacer()
            }
            .padding(.top, 10)

            Spacer()
        }
        .padding()
        .navigationTitle("é›»è©±ç•ªå·å…¥åŠ›")
        .navigationDestination(isPresented: $presenter.showConfirmationCodeInput, destination: {
            ConfirmationCodeInputView(dependency: dependency)
        })
        .task {
            await presenter.onAppear()
        }
        .onAppear {
            isFocused = true
        }
        .onDisappear {
            presenter.onDisappear()
        }
    }
}
```

ã“ã®ä¿®æ­£ã§ã¯ã€`TextField`ã‚’`VStack`ã«å…¥ã‚Œã€ãã®ä¸‹ã«å¸¸ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚¢ãƒ³ãƒ€ãƒ¼ãƒãƒ¼ã¨ã—ã¦`Rectangle`ã‚’é…ç½®ã—ã¦ã„ã¾ã™ã€‚ã‚¢ãƒ³ãƒ€ãƒ¼ãƒãƒ¼ã®è‰²ã¯ã€`presenter.showInvalidMessage`ãŒ`true`ã®å ´åˆã¯èµ¤è‰²ã€ãã†ã§ãªã„å ´åˆã¯ç°è‰²ã«è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚

---
