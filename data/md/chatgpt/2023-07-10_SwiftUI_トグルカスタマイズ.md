# SwiftUI ãƒˆã‚°ãƒ«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

Date: 2023-07-10

---

## ğŸ‘¤ User
*2023-07-10 15:52:16*

SwiftUI ã§ãƒˆã‚°ãƒ«ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ã€ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã«ã—ã¦ã€ã•ã‚‰ã«disableæ™‚ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚‚è¨­å®šã—ãŸã„ã€‚ã©ã†ã™ã‚Œã°ã„ã„ã‹ï¼Ÿ

---

## ğŸ¤– Assistant
*2023-07-10 15:53:04*

SwiftUI ã§ã¯ã€æ¨™æº–ã® `Toggle` ãƒ“ãƒ¥ãƒ¼ã‚’åˆ©ç”¨ã—ã¦ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®ã‚ˆã†ãªæŒ¯ã‚‹èˆã„ã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã—ã‹ã—ã€`Toggle` ã®è¡¨ç¤ºã‚’å®Œå…¨ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã«ã¯ã€è‡ªåˆ†ã§æ–°ã—ã„ãƒ“ãƒ¥ãƒ¼ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã«ãã®ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

ã¾ãšã€ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’è¡¨ç¾ã™ã‚‹ãŸã‚ã®æ–°ã—ã„ãƒ“ãƒ¥ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã®ãƒ“ãƒ¥ãƒ¼ã¯ã€é¸æŠçŠ¶æ…‹ã®å¤‰åŒ–ã«å¿œã˜ã¦ç•°ãªã‚‹ç”»åƒã‚’è¡¨ç¤ºã—ã¾ã™ã€‚ã¾ãŸã€`disabled` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç”¨ã„ã¦ã€ãƒ“ãƒ¥ãƒ¼ãŒç„¡åŠ¹åŒ–ã•ã‚ŒãŸã¨ãã®ã‚¢ã‚¤ã‚³ãƒ³ã‚‚è¨­å®šã—ã¾ã™ã€‚

```swift
import SwiftUI

struct CheckBox: View {
    @Binding var isChecked: Bool
    var disabled: Bool = false

    var body: some View {
        Button(action: {
            if !disabled {
                isChecked.toggle()
            }
        }) {
            Image(systemName: disabled ? "minus.square" : (isChecked ? "checkmark.square" : "square"))
        }
        .disabled(disabled)
    }
}
```

ã“ã® `CheckBox` ãƒ“ãƒ¥ãƒ¼ã§ã¯ã€`isChecked` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®çŠ¶æ…‹ã‚’åˆ¶å¾¡ã—ã€`disabled` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ãƒ“ãƒ¥ãƒ¼ã®ç„¡åŠ¹åŒ–ã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚

æ¬¡ã«ã€ã“ã® `CheckBox` ãƒ“ãƒ¥ãƒ¼ã‚’ä½¿ã£ã¦ãƒˆã‚°ãƒ«ã‚’è¡¨ç¾ã™ã‚‹ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

```swift
struct ContentView: View {
    @State private var isOn = false
    @State private var isDisabled = false

    var body: some View {
        VStack {
            CheckBox(isChecked: $isOn, disabled: isDisabled)
            Button(action: {
                isDisabled.toggle()
            }) {
                Text("Disable/Enable")
            }
        }
    }
}
```

ã“ã“ã§ã¯ã€`CheckBox` ãƒ“ãƒ¥ãƒ¼ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã‚‹ã¨ã€ãã®é¸æŠçŠ¶æ…‹ãŒãƒˆã‚°ãƒ«ã•ã‚Œã¾ã™ã€‚ã¾ãŸã€"Disable/Enable" ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ãŒç„¡åŠ¹åŒ–/æœ‰åŠ¹åŒ–ã•ã‚Œã¾ã™ã€‚

ä¸Šè¨˜ã®ä¾‹ã§ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ç”»åƒãŒä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ãŒã€ç‹¬è‡ªã®ç”»åƒã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ãŸã ã—ã€ãã®éš›ã«ã¯ã€ç”»åƒã®åå‰ã‚’æ­£ã—ãæŒ‡å®šã—ã€è©²å½“ã®ç”»åƒãŒã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¢ã‚»ãƒƒãƒˆã«å«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

---

## ğŸ‘¤ User
*2023-07-10 15:53:54*

ToggleStyle ã¨ makeBody ã§ã†ã¾ãè¡¨ç¾ã§ããªã„ã‹ãªï¼Ÿ

---

## ğŸ¤– Assistant
*2023-07-10 15:54:27*

ã‚‚ã¡ã‚ã‚“ã€`ToggleStyle` ã‚’ä½¿ã£ã¦ `Toggle` ã®è¡¨ç¤ºã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚ä»¥ä¸‹ã«ã€ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã¨ã—ã¦æ©Ÿèƒ½ã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ  `ToggleStyle` ã‚’ä½œæˆã™ã‚‹ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€disableæ™‚ã«è¡¨ç¤ºã™ã‚‹ã‚¢ã‚¤ã‚³ãƒ³ã‚‚æŒ‡å®šã§ãã¾ã™ã€‚

```swift
import SwiftUI

struct CheckboxToggleStyle: ToggleStyle {
    var disabledIcon: String = "minus.square"
    
    func makeBody(configuration: Self.Configuration) -> some View {
        Button(action: {
            if !configuration.isOn.wrappedValue {
                configuration.isOn.wrappedValue.toggle()
            }
        }) {
            Image(systemName: configuration.isOn ? "checkmark.square" : (configuration.isDisabled ? disabledIcon : "square"))
        }
        .disabled(configuration.isDisabled)
    }
}
```

ã“ã®ã‚«ã‚¹ã‚¿ãƒ  `ToggleStyle` ã‚’ä½¿ã†ã«ã¯ã€ `Toggle` ãƒ“ãƒ¥ãƒ¼ã® `toggleStyle` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚

```swift
struct ContentView: View {
    @State private var isOn = false
    @State private var isDisabled = false

    var body: some View {
        VStack {
            Toggle(isOn: $isOn) {
                Text("Check me")
            }
            .toggleStyle(CheckboxToggleStyle())
            .disabled(isDisabled)
            
            Button(action: {
                isDisabled.toggle()
            }) {
                Text("Disable/Enable")
            }
        }
    }
}
```

ã“ã®ä¾‹ã§ã¯ã€`Toggle` ãƒ“ãƒ¥ãƒ¼ãŒ "Check me" ã¨ã„ã†ãƒ†ã‚­ã‚¹ãƒˆã¨å…±ã«è¡¨ç¤ºã•ã‚Œã€ãã®çŠ¶æ…‹ã¯ `isOn` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ãƒã‚¤ãƒ³ãƒ‰ã•ã‚Œã¦ã„ã¾ã™ã€‚ã¾ãŸã€"Disable/Enable" ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€`Toggle` ãƒ“ãƒ¥ãƒ¼ãŒç„¡åŠ¹åŒ–/æœ‰åŠ¹åŒ–ã•ã‚Œã¾ã™ã€‚

ã“ã®æ–¹æ³•ã§ã‚ã‚Œã°ã€SwiftUIã® `Toggle` ã®ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ï¼ˆçŠ¶æ…‹ã®ãƒˆã‚°ãƒ«ï¼‰ã‚’ç¶­æŒã—ãªãŒã‚‰ã€è¦‹ãŸç›®ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

---

## ğŸ‘¤ User
*2023-07-10 15:55:15*

configuration.isOn.wrappedValue.toggle() ã¯ã©ã†ã„ã†ã“ã¨ãªã®ï¼Ÿã‚‚ã£ã¨ã„ã„æ„Ÿã˜ã«è¡¨ç¾ã§ããªã„ã®ï¼Ÿ

---

## ğŸ¤– Assistant
*2023-07-10 15:55:45*

ç¢ºã‹ã«ã€ã‚ãªãŸãŒæä¾›ã—ãŸã‚³ãƒ¼ãƒ‰ã¯ã€`configuration.isOn.wrappedValue.toggle()` ã‚’ä½¿ç”¨ã—ã¦ `isOn` ã®çŠ¶æ…‹ã‚’å¤‰æ›´ã—ã‚ˆã†ã¨ã—ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ã€ã“ã‚Œã¯å†—é•·ã§ã€`ToggleStyle` å†…ã§ã¯ `configuration.isOn` ãŒã™ã§ã«ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã¨ã—ã¦æ©Ÿèƒ½ã™ã‚‹ã®ã§ã€ç›´æ¥ `toggle()` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚ä»¥ä¸‹ã«ä¿®æ­£ç‰ˆã‚’ç¤ºã—ã¾ã™ã€‚

```swift
import SwiftUI

struct CheckboxToggleStyle: ToggleStyle {
    var disabledIcon: String = "minus.square"
    
    func makeBody(configuration: Self.Configuration) -> some View {
        Button(action: {
            if !configuration.isDisabled {
                configuration.isOn.toggle()
            }
        }) {
            Image(systemName: configuration.isOn ? "checkmark.square" : (configuration.isDisabled ? disabledIcon : "square"))
        }
        .disabled(configuration.isDisabled)
    }
}
```

ãã—ã¦ã€`ContentView` ã§ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š

```swift
struct ContentView: View {
    @State private var isOn = false
    @State private var isDisabled = false

    var body: some View {
        VStack {
            Toggle(isOn: $isOn) {
                Text("Check me")
            }
            .toggleStyle(CheckboxToggleStyle())
            .disabled(isDisabled)
            
            Button(action: {
                isDisabled.toggle()
            }) {
                Text("Disable/Enable")
            }
        }
    }
}
```

`configuration.isOn` ã¯ `Binding<Bool>` å‹ã§ã€`ToggleStyle` å†…ã§ã¯æ—¢ã«å€¤ã®å¤‰æ›´ã‚’ãƒªãƒƒã‚¹ãƒ³ã—ã¦ã„ã¾ã™ã€‚`toggle()` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç›´æ¥å‘¼ã³å‡ºã™ã“ã¨ã§ã€å†—é•·æ€§ã‚’æ’é™¤ã—ã€ã‚³ãƒ¼ãƒ‰ã‚’ã‚ˆã‚Šç›´æ„Ÿçš„ã§ç°¡æ½”ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

---

## ğŸ‘¤ User
*2023-07-10 15:57:24*

disabled ã®ã¨ãã¯ square.fill ãŒã¯ã„ã„ã‚ã®ã»ã†ãŒã„ã„ã‹ã‚‚

---

## ğŸ¤– Assistant
*2023-07-10 15:57:44*

ç„¡åŠ¹åŒ–ã•ã‚ŒãŸæ™‚ã«ç‰¹å®šã®è‰²ã§ `square.fill` ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¡¨ç¤ºã—ãŸã„å ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ã« `CheckboxToggleStyle` ã‚’ä¿®æ­£ã§ãã¾ã™ã€‚

```swift
import SwiftUI

struct CheckboxToggleStyle: ToggleStyle {
    var disabledIcon: String = "square.fill"
    var disabledColor: Color = .gray
    
    func makeBody(configuration: Self.Configuration) -> some View {
        Button(action: {
            if !configuration.isDisabled {
                configuration.isOn.toggle()
            }
        }) {
            Image(systemName: configuration.isOn ? "checkmark.square" : (configuration.isDisabled ? disabledIcon : "square"))
                .foregroundColor(configuration.isDisabled ? disabledColor : .primary)
        }
        .disabled(configuration.isDisabled)
    }
}
```

ã“ã“ã§ã¯ã€`disabledIcon` ã‚’ `square.fill` ã«å¤‰æ›´ã—ã€æ–°ãŸã« `disabledColor` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚ãã®çµæœã€ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ãŒç„¡åŠ¹åŒ–ã•ã‚ŒãŸã¨ãã«ã¯ã€`square.fill` ã‚¢ã‚¤ã‚³ãƒ³ãŒç°è‰²ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã‚‚ã¡ã‚ã‚“ã€`disabledColor` ã®å€¤ã¯ãŠå¥½ã¿ã§å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

---

## ğŸ‘¤ User
*2023-07-11 07:31:23*

configuration ã£ã¦ToggleStyleã«ã‚ã£ãŸã£ã‘ï¼Ÿ

---

## ğŸ¤– Assistant
*2023-07-11 07:31:55*

`ToggleStyle` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã® `makeBody` ãƒ¡ã‚½ãƒƒãƒ‰ã«ã¯ã€ `Configuration` ã¨ã„ã†åå‰ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã™ã€‚ã“ã® `Configuration` ã¯ `ToggleStyle` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãŒå®šç¾©ã—ã¦ã„ã‚‹ãƒã‚¹ãƒˆã•ã‚ŒãŸå‹ã§ã€ãƒˆã‚°ãƒ«ã®ç¾åœ¨ã®çŠ¶æ…‹ï¼ˆ`isOn`ï¼‰ã¨ã€ãƒˆã‚°ãƒ«ã®ãƒ©ãƒ™ãƒ«ï¼ˆ`label`ï¼‰ã‚’æä¾›ã—ã¾ã™ã€‚

ã—ãŸãŒã£ã¦ã€`makeBody` ãƒ¡ã‚½ãƒƒãƒ‰å†…ã® `configuration` ã¯ã€ãã®ãƒˆã‚°ãƒ«ã®çŠ¶æ…‹ã¨ãƒ©ãƒ™ãƒ«ã‚’å‚ç…§ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚ã“ã® `Configuration` å‹ã¯ `ToggleStyle` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«ã‚ˆã£ã¦å®šç¾©ã•ã‚Œã¦ãŠã‚Šã€ã‚«ã‚¹ã‚¿ãƒ ã®ãƒˆã‚°ãƒ«ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹éš›ã«ã¯ã€ã“ã® `Configuration` ã‚’ç”¨ã„ã¦ãƒˆã‚°ãƒ«ã®çŠ¶æ…‹ã¨ãƒ©ãƒ™ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

ä»¥ä¸‹ã«ã€`ToggleStyle` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®å®šç¾©ã‚’ç¤ºã—ã¾ã™ï¼š

```swift
public protocol ToggleStyle {

    associatedtype Body : View

    typealias Configuration = ToggleStyleConfiguration

    func makeBody(configuration: Self.Configuration) -> Self.Body
}
```

ãã—ã¦ã€`ToggleStyleConfiguration` ã®å®šç¾©ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ï¼š

```swift
public struct ToggleStyleConfiguration {

    public var isOn: Binding<Bool>

    public var label: AnyView

    public var isDisabled: Bool
}
```

`ToggleStyle` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã§ã€Toggleã®è¡¨ç¤ºæ–¹æ³•ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã“ã¨ãŒå¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚

---

## ğŸ‘¤ User
*2023-07-11 07:34:11*

isDisabled ãŒãªã„ã¿ãŸã„ãªã‚“ã ãŒã€‚ã€‚ã€‚

---

## ğŸ¤– Assistant
*2023-07-11 07:34:42*

ã™ã¿ã¾ã›ã‚“ã€ç§ã®é–“é•ã„ã§ã™ã€‚`Configuration` (ã¾ãŸã¯ `ToggleStyleConfiguration`) ã«ã¯ `isOn` ã¨ `label` ã®ã¿ãŒã‚ã‚Šã€ `isDisabled` ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã“ã® `isDisabled` ã®çŠ¶æ…‹ã‚’æ‰±ã†ãŸã‚ã«ã¯ã€ä»£ã‚ã‚Šã«ãƒˆã‚°ãƒ«è‡ªä½“ã« `.disabled()` ãƒ¢ãƒ‡ã‚£ãƒ•ã‚¡ã‚¤ã‚¢ã‚’é©ç”¨ã—ã¾ã™ã€‚ãã—ã¦ã€ã‚«ã‚¹ã‚¿ãƒ ã® `ToggleStyle` ã§ã¯ã€ `isOn` ã®çŠ¶æ…‹ã ã‘ã‚’åˆ¤æ–­ã—ã¾ã™ã€‚

ä»¥ä¸‹ã«ä¿®æ­£ã—ãŸã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚

```swift
struct CheckboxToggleStyle: ToggleStyle {
    var disabledIcon: String = "square.fill"
    var disabledColor: Color = .gray
    
    func makeBody(configuration: Configuration) -> some View {
        Button(action: {
            configuration.isOn.toggle()
        }) {
            if configuration.isOn.wrappedValue {
                Image(systemName: "checkmark.square")
            } else {
                Image(systemName: disabledIcon)
                    .foregroundColor(disabledColor)
            }
        }
    }
}
```

ãã—ã¦ã€ `Toggle` ãƒ“ãƒ¥ãƒ¼ã®éƒ¨åˆ†ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```swift
struct ContentView: View {
    @State private var isOn = false
    @State private var isDisabled = false

    var body: some View {
        VStack {
            Toggle(isOn: $isOn) {
                Text("Check me")
            }
            .toggleStyle(CheckboxToggleStyle())
            .disabled(isDisabled)
            
            Button(action: {
                isDisabled.toggle()
            }) {
                Text("Disable/Enable")
            }
        }
    }
}
```

ã“ã®ã‚ˆã†ã«ã™ã‚‹ã¨ã€ç„¡åŠ¹ãªçŠ¶æ…‹ï¼ˆ `isDisabled` ãŒ trueï¼‰ã§ã‚ã‚‹ã¨ãã«ã¯ã€ãƒˆã‚°ãƒ«ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›ã«åå¿œã›ãšã€ã¾ãŸã€æŒ‡å®šã—ãŸã‚¢ã‚¤ã‚³ãƒ³ã¨è‰²ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

---

## ğŸ‘¤ User
*2023-07-11 07:35:20*

3ã¤ã®çŠ¶æ…‹ã‚’ã¤ãã‚ŠãŸã„ã‚“ã ã€on,off, isDisabled

---

## ğŸ¤– Assistant
*2023-07-11 07:36:02*

ã‚ã‹ã‚Šã¾ã—ãŸã€‚ãƒˆã‚°ãƒ«ãŒ3ã¤ã®çŠ¶æ…‹ï¼ˆon, off, isDisabledï¼‰ã‚’æŒã¤ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã¯ã€ä¸€éƒ¨ã®èª¿æ•´ãŒå¿…è¦ã§ã™ã€‚ã“ã“ã§ã¯ã€`Optional<Bool>` å‹ã® `@State` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ç”¨ã—ã¦ `isOn` ã®çŠ¶æ…‹ã‚’ç®¡ç†ã—ã¾ã™ã€‚ã“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€æ¬¡ã®3ã¤ã®çŠ¶æ…‹ã‚’è¡¨ã™ã“ã¨ãŒã§ãã¾ã™ï¼š

- `nil`: ãƒˆã‚°ãƒ«ãŒç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹çŠ¶æ…‹
- `true`: ãƒˆã‚°ãƒ«ãŒã‚ªãƒ³ã®çŠ¶æ…‹
- `false`: ãƒˆã‚°ãƒ«ãŒã‚ªãƒ•ã®çŠ¶æ…‹

ãã—ã¦ã€ãƒˆã‚°ãƒ«ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ãŸã‚ã®æ–°ã—ã„ `CheckboxToggleStyle` ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ä½œæˆã—ã¾ã™ï¼š

```swift
struct CheckboxToggleStyle: ToggleStyle {
    var disabledIcon: String = "square.fill"
    var disabledColor: Color = .gray

    func makeBody(configuration: Configuration) -> some View {
        Button(action: {
            configuration.isOn?.wrappedValue.toggle()
        }) {
            if configuration.isOn?.wrappedValue == true {
                Image(systemName: "checkmark.square")
            } else if configuration.isOn?.wrappedValue == false {
                Image(systemName: "square")
            } else {
                Image(systemName: disabledIcon)
                    .foregroundColor(disabledColor)
            }
        }
        .disabled(configuration.isOn == nil)
    }
}
```

ã“ã“ã§ `isOn` ã®å€¤ãŒ `nil` ã®å ´åˆã« `disabledIcon` ãŒè¡¨ç¤ºã•ã‚Œã€ãƒˆã‚°ãƒ«ãŒç„¡åŠ¹åŒ–ã•ã‚Œã¾ã™ã€‚ã¾ãŸã€`isOn` ã®å€¤ãŒ `true` ã®å ´åˆã«ã¯ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯ãŒã€`false` ã®å ´åˆã«ã¯ç©ºã®å››è§’ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

æ¬¡ã«ã€`isOn` ã®çŠ¶æ…‹ã‚’ç®¡ç†ã™ã‚‹ `@State` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ `Optional<Bool>` å‹ã§å®£è¨€ã—ã¾ã™ï¼š

```swift
struct ContentView: View {
    @State private var isOn: Bool? = false

    var body: some View {
        VStack {
            Toggle(isOn: $isOn) {
                Text("Check me")
            }
            .toggleStyle(CheckboxToggleStyle())
            
            Button(action: {
                if isOn != nil {
                    isOn = nil
                } else {
                    isOn = false
                }
            }) {
                Text("Toggle Disabled State")
            }
        }
    }
}
```

ã“ã“ã§ `isOn` ã®åˆæœŸå€¤ã¯ `false` ã¨ã—ã€ãƒˆã‚°ãƒ«ã¯ã‚ªãƒ•ã®çŠ¶æ…‹ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚"Toggle Disabled State" ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ `isOn` ã®å€¤ãŒ `nil` ã¨ `false` ãŒåˆ‡ã‚Šæ›¿ã‚ã‚Šã€ãƒˆã‚°ãƒ«ãŒç„¡åŠ¹åŒ–ã•ã‚ŒãŸçŠ¶æ…‹ã¨ã‚ªãƒ•ã®çŠ¶æ…‹ã‚’äº¤äº’ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚

---

## ğŸ‘¤ User
*2023-07-11 07:41:38*

nil ã¯åˆ¥ã®æ„å‘³ã¨ã—ã¦ä½¿ã„ãŸã„ã‹ã‚‰ã“ã‚Œã¯å¾®å¦™ã‹ã‚‚ã—ã‚Œãªã„

---

## ğŸ¤– Assistant
*2023-07-11 07:42:14*

ç†è§£ã—ã¾ã—ãŸã€‚ãã‚Œã§ã‚ã‚Œã°ã€åˆ¥ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ã—ã¦ `Toggle` ã®æœ‰åŠ¹ãƒ»ç„¡åŠ¹çŠ¶æ…‹ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®æ–°ãŸãª `@State` å¤‰æ•°ã‚’å°å…¥ã™ã‚‹ã“ã¨ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚

ã“ã“ã§ã¯ `isDisabled` ã¨ã„ã† `@State` å¤‰æ•°ã‚’ç”¨ã„ã¦ãƒˆã‚°ãƒ«ã®æœ‰åŠ¹ãƒ»ç„¡åŠ¹çŠ¶æ…‹ã‚’ç®¡ç†ã—ã€ `isOn` å¤‰æ•°ã¯ `Bool` å‹ã¨ã—ã¦ç¶­æŒã—ã¾ã™ã€‚

ã¾ãšã¯ã€ã‚«ã‚¹ã‚¿ãƒ  `ToggleStyle` ã‚’ä½œæˆã—ã¾ã™ï¼š

```swift
struct CheckboxToggleStyle: ToggleStyle {
    var disabledIcon: String = "square.fill"
    var disabledColor: Color = .gray

    func makeBody(configuration: Configuration) -> some View {
        Button(action: {
            configuration.isOn.toggle()
        }) {
            if configuration.isOn {
                Image(systemName: "checkmark.square")
            } else {
                Image(systemName: "square")
            }
        }
        .disabledStyle(configuration.isDisabled, disabledIcon: disabledIcon, disabledColor: disabledColor)
    }
}

extension View {
    @ViewBuilder
    func disabledStyle(_ isDisabled: Bool, disabledIcon: String, disabledColor: Color) -> some View {
        if isDisabled {
            Image(systemName: disabledIcon)
                .foregroundColor(disabledColor)
        } else {
            self
        }
    }
}
```

ãã—ã¦ã€ `ContentView` ã§ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š

```swift
struct ContentView: View {
    @State private var isOn = false
    @State private var isDisabled = false

    var body: some View {
        VStack {
            Toggle(isOn: $isOn) {
                Text("Check me")
            }
            .toggleStyle(CheckboxToggleStyle())
            .disabled(isDisabled)
            
            Button(action: {
                isDisabled.toggle()
            }) {
                Text("Toggle Disabled State")
            }
        }
    }
}
```

`isDisabled` ã®å€¤ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ã€ãƒˆã‚°ãƒ«ã®è¡¨ç¤ºãŒ `checkmark.square`ï¼ˆæœ‰åŠ¹ã§ã‚ªãƒ³ï¼‰ã€ `square`ï¼ˆæœ‰åŠ¹ã§ã‚ªãƒ•ï¼‰ã€ `square.fill`ï¼ˆç„¡åŠ¹ï¼‰ã®3ã¤ã®çŠ¶æ…‹ã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚

---

## ğŸ‘¤ User
*2023-07-11 07:45:18*

å®Ÿéš›ã«disabled ã¨ã—ãŸã¨ã—ã¦ã€ã‚¿ãƒƒãƒ—ã¯ã§ãã¦ã—ã¾ã†ã‚“ã ã‚ˆã­ï¼Ÿ

---

## ğŸ¤– Assistant
*2023-07-11 07:45:52*

ã™ã¿ã¾ã›ã‚“ã€ãŠã£ã—ã‚ƒã‚‹ã¨ãŠã‚Šã§ã™ã€‚`disabled()` ãƒ¢ãƒ‡ã‚£ãƒ•ã‚¡ã‚¤ã‚¢ã¯è¦–è¦šçš„ãªå¤‰æ›´ã ã‘ã§ãªãã€å¯¾è±¡ã®ãƒ“ãƒ¥ãƒ¼ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚‚ç„¡åŠ¹ã«ã—ã¾ã™ã€‚ã—ã‹ã—ã€ã“ã®å ´åˆã€`Button` ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å†…éƒ¨ã§çŠ¶æ…‹ã®åˆ‡ã‚Šæ›¿ãˆã‚’åˆ¶å¾¡ã™ã‚‹ãŸã‚ã€ãƒœã‚¿ãƒ³è‡ªä½“ã¯ç„¡åŠ¹åŒ–ã•ã‚Œãšã«å¸¸ã«ã‚¿ãƒƒãƒ—å¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚

ã“ã‚Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã¯ã€`Button` ã®ä»£ã‚ã‚Šã« `TapGesture` ã‚’ç”¨ã„ã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚ä»¥ä¸‹ã®ã‚ˆã†ã« `CheckboxToggleStyle` ã‚’ä¿®æ­£ã—ã¾ã™ï¼š

```swift
struct CheckboxToggleStyle: ToggleStyle {
    var disabledIcon: String = "square.fill"
    var disabledColor: Color = .gray

    func makeBody(configuration: Configuration) -> some View {
        Image(systemName: configuration.isOn ? "checkmark.square" : "square")
            .foregroundColor(configuration.isDisabled ? disabledColor : .primary)
            .opacity(configuration.isDisabled ? 0.5 : 1)
            .onTapGesture {
                if !configuration.isDisabled {
                    configuration.isOn.toggle()
                }
            }
    }
}
```

ã“ã®ä¿®æ­£ã«ã‚ˆã‚Šã€ãƒˆã‚°ãƒ«ãŒç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ã¨ãã«ã¯ã‚¿ãƒƒãƒ—ã—ã¦ã‚‚çŠ¶æ…‹ãŒåˆ‡ã‚Šæ›¿ã‚ã‚‰ãªã„ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã¾ãŸã€ç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ã¨ãã«ã¯é€æ˜åº¦ã‚’ä¸‹ã’ã‚‹ã“ã¨ã§è¦–è¦šçš„ã«ã‚‚ãã®çŠ¶æ…‹ã‚’è¡¨ç¾ã—ã¦ã„ã¾ã™ã€‚

ãªãŠã€ã“ã® `CheckboxToggleStyle` ã¯ãƒˆã‚°ãƒ«è‡ªä½“ãŒç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ `isDisabled` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦æŒã¤ã¨æƒ³å®šã—ã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã™ã‚‹ `Toggle` ãƒ“ãƒ¥ãƒ¼ã¯ã€ãã®ç„¡åŠ¹åŒ–çŠ¶æ…‹ã‚’åŒæ§˜ã«ç®¡ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

---

## ğŸ‘¤ User
*2023-07-11 07:46:01*

configuration.isDisabled ã‚’ã‚‚ã£ã¦ã„ãªã„ã‚ˆ

---

## ğŸ¤– Assistant
*2023-07-11 07:46:40*

ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ã€ã‚ãªãŸã®ã”æŒ‡æ‘˜ã®é€šã‚Šã§ã€`Configuration`å‹ã¯`isDisabled`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒã£ã¦ã„ã¾ã›ã‚“ã€‚èª¤è§£ã‚’æ‹›ãæƒ…å ±ã‚’æä¾›ã—ã¦ã—ã¾ã£ãŸã“ã¨ã‚’ãŠè©«ã³ã—ã¾ã™ã€‚

`ToggleStyleConfiguration` ã¯ `isOn` ã¨ `label` ã®2ã¤ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒã¤ã®ã¿ã§ã€ãƒˆã‚°ãƒ«ãŒç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’çŸ¥ã‚‹ãŸã‚ã®ç›´æ¥çš„ãªæ–¹æ³•ã¯æä¾›ã—ã¦ã„ã¾ã›ã‚“ã€‚

ã§ã¯ã€åˆ¥ã®æ–¹æ³•ã§å•é¡Œã‚’è§£æ±ºã—ã¾ã—ã‚‡ã†ã€‚å…·ä½“çš„ã«ã¯ã€ãƒˆã‚°ãƒ«ã®çŠ¶æ…‹ã‚’è¡¨ç¾ã™ã‚‹ãŸã‚ã«å°‚ç”¨ã®å‹ã‚’å®šç¾©ã—ã€ãã®å‹ã«åŸºã¥ã„ã¦ãƒˆã‚°ãƒ«ã®è¦‹ãŸç›®ã‚’è¨­å®šã—ã¾ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯ã€ãã®ä¸€ä¾‹ã§ã™ã€‚

```swift
enum ToggleState {
    case on, off, disabled
}

struct CheckboxToggleStyle: ToggleStyle {
    var disabledIcon: String = "square.fill"
    var disabledColor: Color = .gray
    
    func makeBody(configuration: Configuration) -> some View {
        let state: ToggleState = configuration.isOn.wrappedValue ? .on : .off
        
        Button(action: {
            if state != .disabled {
                configuration.isOn.wrappedValue.toggle()
            }
        }) {
            switch state {
            case .on:
                Image(systemName: "checkmark.square")
            case .off:
                Image(systemName: "square")
            case .disabled:
                Image(systemName: disabledIcon)
                    .foregroundColor(disabledColor)
            }
        }
        .disabled(state == .disabled)
    }
}
```

ã“ã®æ–¹æ³•ã§ã¯ã€ã¾ãš `ToggleState` ã¨ã„ã†æ–°ã—ã„å‹ã‚’å®šç¾©ã—ã¾ã™ã€‚ã“ã‚Œã¯ãƒˆã‚°ãƒ«ã®3ã¤ã®çŠ¶æ…‹ã‚’è¡¨ç¾ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚ãã—ã¦ã€ã“ã® `ToggleState` å‹ã‚’ä½¿ç”¨ã—ã¦ãƒˆã‚°ãƒ«ã®è¦‹ãŸç›®ã‚’è¨­å®šã—ã¾ã™ã€‚

ã—ã‹ã—ã€ã“ã‚Œã¯å®Œå…¨ãªè§£æ±ºç­–ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãªãœãªã‚‰ã€ã“ã®æ–¹æ³•ã§ã¯ `Toggle` ã®ç„¡åŠ¹åŒ–çŠ¶æ…‹ã‚’é©åˆ‡ã«åæ˜ ã§ããªã„ã‹ã‚‰ã§ã™ã€‚`ToggleStyle` ã‚’ä½¿ç”¨ã—ã¦ãƒˆã‚°ãƒ«ã®è¦‹ãŸç›®ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã¨ãã«ã¯ã€ã“ã®å•é¡Œã‚’å®Œå…¨ã«è§£æ±ºã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€å®Œå…¨ãªè§£æ±ºç­–ã‚’æ±‚ã‚ã‚‹å ´åˆã«ã¯ã€ã‚«ã‚¹ã‚¿ãƒ ã®ãƒˆã‚°ãƒ«ãƒ“ãƒ¥ãƒ¼ã‚’ã‚¼ãƒ­ã‹ã‚‰ä½œæˆã™ã‚‹ã“ã¨ã‚’æ¤œè¨ã™ã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚

---
