# 部分一致を確認する。

Date: 2023-07-14

---

## 👤 User
*2023-07-15 00:30:16*

以下の処理について、`hoges.contains(hoge)` だと falseになってしまうが、hogesの各要素について、hogeの中に含まれているなら true にしたい場合はどうすればいい？

let hoge: String = "https://www.viagate.com/#"
let hoges: [String] = ["https://apps.viagate.com/", "https://research.viagate.com/", "https://www.viagate.com/"]

hoges.contains(hoge)

---

## 🤖 Assistant
*2023-07-15 00:30:54*

`contains` メソッドは配列の各要素と指定した値が完全に一致するかどうかを確認します。今回のケースでは `hoge` という文字列が `hoges` 配列のどれかと完全に一致しないため、falseが返ってきています。

あなたがしたいことは、`hoge` が `hoges` のいずれかの文字列に部分一致するかを確認したいということだと思います。その場合は、Swiftの `contains(where:)` メソッドと `hasPrefix` メソッドを組み合わせて使用できます。

以下にコードを示します：

```swift
let hoge: String = "https://www.viagate.com/#"
let hoges: [String] = ["https://apps.viagate.com/", "https://research.viagate.com/", "https://www.viagate.com/"]

let result = hoges.contains { hoge.hasPrefix($0) }
print(result)  // true を出力します
```

上記のコードでは `contains(where:)` メソッドを使用して `hoges` の各要素に対して条件を適用しています。その条件として `hoge.hasPrefix($0)` と指定し、`hoge` の開始部分が配列の要素と一致するかを調べています。もし一致する要素が存在すれば `true` を返し、存在しなければ `false` を返します。

ただし、上記のコードは `hoge` が `hoges` のいずれかの文字列で始まるかを確認します。そのため、`hoge` が `hoges` のいずれかの文字列を含むかどうかを確認したい場合には、`contains` メソッドを使います：

```swift
let hoge: String = "https://www.viagate.com/#"
let hoges: [String] = ["https://apps.viagate.com/", "https://research.viagate.com/", "https://www.viagate.com/"]

let result = hoges.contains { hoge.contains($0) }
print(result)  // true を出力します
```

こちらのコードは `hoge` が `hoges` のいずれかの文字列を含むかどうかを確認します。一致する要素が存在すれば `true` を返し、存在しなければ `false` を返します。

---
