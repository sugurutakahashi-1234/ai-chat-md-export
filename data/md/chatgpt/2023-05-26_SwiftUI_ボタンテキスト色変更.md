# SwiftUI ボタンテキスト色変更

Date: 2023-05-26

---

## 👤 User
*2023-05-26 11:01:40*

SwiftUI でボタンのラベルにテキストを使用しているが、disable時にテキストの色を変えるにはどうしたらいい？

---

## 🤖 Assistant
*2023-05-26 11:02:16*

SwiftUIでは、`Button`の表示を制御するのに`ButtonStyle`プロトコルを使うことができます。このプロトコルを使うと、`Button`の見た目をカスタム化することができます。例えば、以下には`Button`が無効化(disabled)された時にテキストの色が変わるスタイルを定義する例を示します：

```swift
struct CustomButtonStyle: ButtonStyle {
    func makeBody(configuration: Configuration) -> some View {
        configuration.label
            .foregroundColor(configuration.isPressed || !configuration.isEnabled ? .gray : .blue)
    }
}

struct ContentView: View {
    @State private var isEnabled: Bool = false

    var body: some View {
        Button(action: {
            print("Button pressed")
        }) {
            Text("Button")
        }
        .buttonStyle(CustomButtonStyle())
        .disabled(!isEnabled)

        Toggle(isOn: $isEnabled) {
            Text("Enable Button")
        }
    }
}
```

この例では、`CustomButtonStyle`が定義され、その中で`.foregroundColor`を使ってテキストの色を制御しています。`configuration.isPressed` か `!configuration.isEnabled` の場合（つまり、ボタンが押されているか、無効化されている場合）は色を灰色にし、それ以外の場合は色を青にします。

`ContentView`では、このスタイルを適用してボタンを作成し、`Toggle`を使ってボタンを有効/無効にできるようにしています。

---
