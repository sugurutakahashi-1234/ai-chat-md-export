# SwiftUI è¨­å®šç”»é¢

æ—¥ä»˜: 2023-05-26

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2023/05/26 18:41:29*

SwiftUIã§ã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã—ã¦ã„ã‚‹ã‘ã©ä»¥ä¸‹ã®ç”»é¢ã‚’ä½œæˆã—ã¦ã»ã—
- é€šçŸ¥ã®ã‚ªãƒ³/OFF ã‚’ãƒˆã‚°ãƒ«ã§åˆ¶å¾¡
- ã‚«ãƒ¡ãƒ©ã®è¨±è«¾ã®ON/OFFã‚’ãƒˆã‚°ãƒ«ã§åˆ¶å¾¡
- ãã‚Œãã‚Œè¨­å®šã—ã¦ã„ã‚‹ã‹ã©ã†ã‹ã¯è¨­å®šã‚¢ãƒ—ãƒªã®å€¤ã‚’åæ˜ ã™ã‚‹

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2023/05/26 18:42:23*

SwiftUIã‚’ä½¿ã£ã¦è¨­å®šç”»é¢ã‚’ä½œã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚ã—ã‹ã—ã€ã‚¢ãƒ—ãƒªã®é€šçŸ¥ã‚„ã‚«ãƒ¡ãƒ©è¨±å¯ã®è¨­å®šã¯ã€è¨­å®šã‚¢ãƒ—ãƒªã‹ã‚‰ã—ã‹å¤‰æ›´ã§ãã¾ã›ã‚“ã€‚ãã‚Œãã‚Œã®è¨­å®šãŒæœ‰åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã®APIãŒiOSã«ã¯å­˜åœ¨ã—ã¾ã™ãŒã€ãã‚Œã‚’ãƒˆã‚°ãƒ«ã§åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

```swift
import SwiftUI

struct SettingsView: View {
    @State private var notificationsEnabled: Bool = UserDefaults.standard.bool(forKey: "notifications")
    @State private var cameraPermissionEnabled: Bool = AVCaptureDevice.authorizationStatus(for: .video) == .authorized

    var body: some View {
        NavigationView {
            Form {
                Toggle(isOn: $notificationsEnabled) {
                    Text("é€šçŸ¥")
                }
                .onChange(of: notificationsEnabled) { value in
                    // Change your settings here
                    UserDefaults.standard.set(value, forKey: "notifications")
                }

                Toggle(isOn: $cameraPermissionEnabled) {
                    Text("ã‚«ãƒ¡ãƒ©ã®è¨±è«¾")
                }
                .disabled(true)
                .onChange(of: cameraPermissionEnabled) { value in
                    // Change your settings here
                    // This is not allowed by Apple. You can only request permissions, not revoke them.
                }
            }
            .navigationBarTitle("è¨­å®š")
        }
    }
}

struct SettingsView_Previews: PreviewProvider {
    static var previews: some View {
        SettingsView()
    }
}
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€UserDefaultsã«ä¿å­˜ã•ã‚ŒãŸé€šçŸ¥è¨­å®šã‚’è¡¨ç¤ºã—ã€å¤‰æ›´ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚ã—ã‹ã—ã€ã‚«ãƒ¡ãƒ©ã®è¨±è«¾è¨­å®šã«ã¤ã„ã¦ã¯ã€ç¾åœ¨ã®è¨­å®šçŠ¶æ…‹ã‚’è¡¨ç¤ºã™ã‚‹ã ã‘ã§ã€å¤‰æ›´ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ï¼ˆãƒˆã‚°ãƒ«ã¯ç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã¾ã™ï¼‰ã€‚

é€šçŸ¥ã‚„ã‚«ãƒ¡ãƒ©ã®è¨­å®šã‚’å¤‰æ›´ã™ã‚‹ã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾ã—ã¦è¨­å®šã‚¢ãƒ—ãƒªã‚’é–‹ã„ã¦å¤‰æ›´ã™ã‚‹ã‚ˆã†æ¡ˆå†…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã‚¢ãƒ—ãƒªå†…ã‹ã‚‰ãƒªãƒ³ã‚¯ã‚’æä¾›ã™ã‚‹ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2023/05/26 18:42:56*

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ã¯ä¿å­˜ã—ãªã„ã§ã„ã„ã‚ˆã€ä¸¡æ–¹ã¨ã‚‚ãƒˆã‚°ãƒ«ã‚’ã‚¿ãƒƒãƒ—ã—ãŸã‚‰è¨­å®šã‚¢ãƒ—ãƒªã«ã¨ã°ã—ã¦ã»ã—ã„ã€‚è¨­å®šã‚¢ãƒ—ãƒªã§è¨±å¯ã—ã¦ã€ã‚¢ãƒ—ãƒªã«ã‚‚ã©ã£ãŸã‚‰ã€è¨­å®šçŠ¶æ…‹ã‚’æ›´æ–°ã—ã¦ã»ã—ã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2023/05/26 18:44:19*

ã‚¢ãƒ—ãƒªã®é€šçŸ¥ã‚„ã‚«ãƒ¡ãƒ©è¨±è«¾è¨­å®šã‚’é–‹ããŸã‚ã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¨­å®šã‚¢ãƒ—ãƒªã«èª˜å°ã—ã€ãã®å¾Œã®è¨­å®šã®æ›´æ–°ã‚’åæ˜ ã•ã›ã‚‹ãŸã‚ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚

```swift
import SwiftUI
import AVFoundation
import UserNotifications

struct SettingsView: View {
    @State private var notificationsEnabled: Bool = false
    @State private var cameraPermissionEnabled: Bool = AVCaptureDevice.authorizationStatus(for: .video) == .authorized

    var body: some View {
        NavigationView {
            Form {
                Button(action: {
                    openAppSettings()
                    checkNotifications()
                }) {
                    HStack {
                        Text("é€šçŸ¥")
                        Spacer()
                        if notificationsEnabled {
                            Text("On")
                                .foregroundColor(.blue)
                        } else {
                            Text("Off")
                                .foregroundColor(.red)
                        }
                    }
                }

                Button(action: {
                    openAppSettings()
                    checkCameraPermission()
                }) {
                    HStack {
                        Text("ã‚«ãƒ¡ãƒ©ã®è¨±è«¾")
                        Spacer()
                        if cameraPermissionEnabled {
                            Text("On")
                                .foregroundColor(.blue)
                        } else {
                            Text("Off")
                                .foregroundColor(.red)
                        }
                    }
                }
            }
            .navigationBarTitle("è¨­å®š")
            .onAppear {
                checkNotifications()
                checkCameraPermission()
            }
        }
    }

    private func openAppSettings() {
        guard let settingsUrl = URL(string: UIApplication.openSettingsURLString) else {
            return
        }

        if UIApplication.shared.canOpenURL(settingsUrl) {
            UIApplication.shared.open(settingsUrl, completionHandler: { _ in
                checkNotifications()
                checkCameraPermission()
            })
        }
    }

    private func checkNotifications() {
        UNUserNotificationCenter.current().getNotificationSettings { settings in
            DispatchQueue.main.async {
                notificationsEnabled = settings.authorizationStatus == .authorized
            }
        }
    }

    private func checkCameraPermission() {
        cameraPermissionEnabled = AVCaptureDevice.authorizationStatus(for: .video) == .authorized
    }
}

struct SettingsView_Previews: PreviewProvider {
    static var previews: some View {
        SettingsView()
    }
}
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨è¨­å®šã‚¢ãƒ—ãƒªãŒé–‹ãã¾ã™ã€‚ãã‚Œãã‚Œã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€è¨­å®šã‚¢ãƒ—ãƒªãŒé–‹ãã¾ã™ã€‚è¨­å®šãŒé–‹ã‹ã‚ŒãŸã‚‰ã€é€šçŸ¥ã®è¨±å¯ã¨ã‚«ãƒ¡ãƒ©ã®è¨±å¯ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒæ›´æ–°ã•ã‚Œã¾ã™ã€‚

ãŸã ã—ã€iOSã®åˆ¶ç´„ã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¨­å®šã‚¢ãƒ—ãƒªã‹ã‚‰æˆ»ã£ã¦ããŸã¨ãã«è‡ªå‹•çš„ã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¨­å®šã‚’å¤‰æ›´ã—ãŸå¾Œã«ã‚¢ãƒ—ãƒªã«æˆ»ã£ã¦ããŸã¨ãã€ã¾ãŸã¯ç”»é¢ãŒå†è¡¨ç¤ºã•ã‚ŒãŸã¨ãã«çŠ¶æ…‹ãŒæ›´æ–°ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

ãªãŠã€ã“ã®ã‚³ãƒ¼ãƒ‰ã¯iOS 14ä»¥ä¸Šã§å‹•ä½œã—ã¾ã™ã€‚ãã‚Œä»¥ä¸‹ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯å‹•ä½œã—ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€iOSã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼ã«ã‚ˆã‚Šã€ç‰¹å®šã®æ©Ÿèƒ½ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã‚’å–å¾—ã™ã‚‹ãŸ

---
