# 即時関数の作成方法

Date: 2023-06-07

---

## 👤 User
*2023-06-07 12:38:07*

Swiftで値を返さない即時関数みたいなものってる作れるの？ 関数で公開する必要はないのだけれども処理をまとめたいという意味合いで使いたい。

---

## 🤖 Assistant
*2023-06-07 12:38:25*

Swiftでは即時関数（Immediate Function）または自己実行関数（Self-executing Function）のようなものを作成することができます。これらは、関数を定義すると同時にその関数を実行します。主に処理をカプセル化し、名前空間を汚染しないために使われます。

以下にその基本的な形式を示します：

```swift
{ 
  // ここに処理を記述します
}() // これによって関数が即座に実行されます
```

もちろん、この即時関数に引数を与えることも可能です：

```swift
{ (arg1: Type, arg2: Type) in
  // ここで引数arg1とarg2を使った処理を記述します
}(value1, value2) // ここで引数を渡します
```

このように、Swiftでは無名関数（クロージャ）を利用して、即時関数のような形式で処理を記述することができます。

---

## 👤 User
*2023-06-07 12:39:02*

それに、どのような処理を行っているかわかるように変数名みたいなものをせっていできないの？

---

## 🤖 Assistant
*2023-06-07 12:39:22*

Swiftのクロージャでは、即時に実行する関数を変数に割り当ててから実行することも可能です。これにより、そのクロージャ（関数）が何をするのかを示す変数名を使用できます。

以下にその例を示します：

```swift
let doSomething = { 
  // ここに処理を記述します
}
doSomething() // これによって関数が即座に実行されます
```

これにより、ある種の処理が何を行うのかを示す変数名を付けることができます。ただし、この方法ではそのクロージャがスコープ外でも参照可能となり、名前空間を多少汚染する可能性があることに注意してください。即時関数の主な目的が名前空間の汚染を避けることである場合、上記の無名の即時関数の使用が適しています。

---
