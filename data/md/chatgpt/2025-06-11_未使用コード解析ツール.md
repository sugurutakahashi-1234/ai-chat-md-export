# æœªä½¿ç”¨ã‚³ãƒ¼ãƒ‰è§£æãƒ„ãƒ¼ãƒ«

æ—¥ä»˜: 2025-06-11

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/11 19:58:47*

TypeScriptã§ä½¿ã‚ã‚Œã¦ã„ãªã„é–¢æ•°ã‚„å¤‰æ•°ã‚„sdkã®é™çš„è§£æãƒ„ãƒ¼ãƒ«ã®å€™è£œã‚’æ•™ãˆã¦æ¬²ã—ã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/11 19:59:30*

### ä½¿ã‚ã‚Œã¦ã„ãªã„ã‚³ãƒ¼ãƒ‰ã‚’æ¤œå‡ºã™ã‚‹ä¸»ãªãƒ„ãƒ¼ãƒ«ä¸€è¦§

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | ä»£è¡¨çš„ãƒ„ãƒ¼ãƒ« | ç‰¹å¾´ãƒ»æ¤œå‡ºç¯„å›² | å‚™è€ƒ |
|---|---|---|---|
| \*\*ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©\*\* | \*\*TypeScript `--noUnusedLocals` / `--noUnusedParameters`\*\* | å¤‰æ•°ãƒ»ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ»æœªä½¿ç”¨ private ãƒ¡ãƒ³ãƒãƒ¼ã‚’ãƒ“ãƒ«ãƒ‰æ™‚ã«ã‚¨ãƒ©ãƒ¼åŒ– | è¨­å®šã™ã‚‹ã ã‘ã§ CI ã«çµ„ã¿è¾¼ã¿ã‚„ã™ã„ îˆ€citeîˆ‚turn3search2îˆ |
| \*\*Linter\*\* | \*\*ESLint + @typescript-eslint\*\*&lt;br&gt;`no-unused-vars` ãªã© | ãƒ•ã‚¡ã‚¤ãƒ«å˜ä½ã§æœªä½¿ç”¨å¤‰æ•°/å¼•æ•°/å¼ã‚’æ¤œå‡º | VS Code ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è­¦å‘Šã¨ã‚‚é€£å‹• îˆ€citeîˆ‚turn0search0îˆ |
| | \*\*eslint-plugin-unused-imports\*\* | æœªä½¿ç”¨ `import` ã‚’è‡ªå‹•å‰Šé™¤ã™ã‚‹ autofix ä»˜ã | Biome ã«ä¹—ã‚Šæ›ãˆã‚’ç¤ºå”†ã™ã‚‹ã‚±ãƒ¼ã‚¹ã‚‚å¢—åŠ  îˆ€citeîˆ‚turn2search0îˆ‚turn2search1îˆ |
| | \*\*Oxlint\*\* | Rust è£½ã§ ESLint ã‚ˆã‚Š 3-10 å€é«˜é€Ÿã€‚æœªä½¿ç”¨ã‚³ãƒ¼ãƒ‰æ¤œå‡ºã‚’å«ã‚€ | å¤§è¦æ¨¡ãƒ¢ãƒãƒ¬ãƒã®ãƒ—ãƒªãƒã‚§ãƒƒã‚¯ç”¨ã«â— îˆ€citeîˆ‚turn0search2îˆ |
| | \*\*Biome\*\* (æ—§ Rome) | `biome check --apply` ã§æœªä½¿ç”¨ import ã‚„å¤‰æ•°ã‚’è‡ªå‹•ä¿®æ­£ | ESLint äº’æ›ã§ã¯ãªã„ãŒè¨­å®šãŒæœ€å° îˆ€citeîˆ‚turn0search3îˆ |
| \*\*ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ãƒ•ã‚¡ã‚¤ãƒ«è§£æ\*\* | \*\*ts-prune\*\* | `tsconfig.json` ã‚’è§£æã—ã¦æœªä½¿ç”¨ export ã‚’åˆ—æŒ™ | 0 è¨­å®šã§å®Ÿè¡Œå¯ã€CI ã§å·®åˆ†æ¤œå‡ºãŒæ¥½ îˆ€citeîˆ‚turn0search4îˆ |
| | \*\*ts-unused-exports\*\* | æœªä½¿ç”¨ export ã¨ã€Œã¾ã‚‹ã”ã¨æœªä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã€ã‚’æ¤œå‡ºãƒ»ã‚«ã‚¦ãƒ³ãƒˆ | `--findCompletelyUnusedFiles` ãŒä¾¿åˆ© îˆ€citeîˆ‚turn4search0îˆ |
| | \*\*ts-remove-unused\*\* | æœªä½¿ç”¨ export ã‚’å‰Šé™¤ã—ã€ç©ºã«ãªã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•å‰Šé™¤ | `--check` ãƒ¢ãƒ¼ãƒ‰ã§å®‰å…¨ã«å°å…¥å¯ îˆ€citeîˆ‚turn4search6îˆ |
| | \*\*Knip\*\* | æœªä½¿ç”¨ \*\*export / ä¾å­˜ / ãƒ•ã‚¡ã‚¤ãƒ«\*\* ã‚’ä¸€æ‹¬æ¤œå‡ºã€‚ãƒ¢ãƒãƒ¬ãƒå‘ã‘ | ä¾å­˜è§£æã‚‚å…¼ã­ã‚‰ã‚Œã‚‹ã®ãŒå¼·ã¿ îˆ€citeîˆ‚turn0search1îˆ‚turn1search4îˆ |
| \*\*ä¾å­˜ï¼ˆSDKï¼‰ãƒ¬ãƒ™ãƒ«\*\* | \*\*depcheck\*\* | `package.json` ã«ã‚ã‚‹ãŒå‘¼ã°ã‚Œã¦ã„ãªã„ä¾å­˜ã‚’æ¤œå‡º | å‹å®šç¾© (`@types/\*`) ã‚‚ã‚ã‚ã›ã¦è§£æå¯ îˆ€citeîˆ‚turn1search0îˆ |
| | \*\*npm-check\*\* | å¯¾è©±å¼ CLI ã§æœªä½¿ç”¨ä¾å­˜ãƒ»æ›´æ–°å¾…ã¡ä¾å­˜ã‚’ä¸€æ‹¬ç®¡ç† | `npm-check -u` ã§å‰Šé™¤/æ›´æ–°ã‚’é¸æŠ îˆ€citeîˆ‚turn1search6îˆ |
| | \*\*Knip\*\* | æœªä½¿ç”¨ä¾å­˜ã®æ¤œå‡ºã‚‚åŒæ™‚ã«ã“ãªã™ï¼ˆä¸Šè¨˜å‚ç…§ï¼‰ | monorepo ã‚’ä¸€æœ¬ã§ç®¡ç†ã—ãŸã„å ´åˆã«â— |

---

#### çµ„ã¿åˆã‚ã›ä¾‹ï¼ˆå‚è€ƒãƒ•ãƒ­ãƒ¼ï¼‰

1. \*\*æ—¥å¸¸é–‹ç™º\*\*  
   \* `tsc --noUnusedLocals --noUnusedParameters` ã§ãƒ“ãƒ«ãƒ‰å¤±æ•—ã‚’é˜²æ­¢  
   \* ESLintï¼ˆã¾ãŸã¯ Biome/Oxlintï¼‰ã‚’ IDE & pre-commit ã§å®Ÿè¡Œ

2. \*\*CI / PR ãƒã‚§ãƒƒã‚¯\*\*  
   \* `ts-prune` ã‹ `ts-unused-exports` ã§ export ãƒ¬ãƒ™ãƒ«ã®ãƒ‡ãƒƒãƒ‰ã‚³ãƒ¼ãƒ‰ã‚’æ¤œå‡º  
   \* `depcheck` ã¾ãŸã¯ `knip --dependencies` ã§ä¸è¦ SDK ã‚’æ´—ã„å‡ºã—  
   \* å¤‰æ›´ãŒã‚ã‚Œã° PR ã‚’ Fail ã—ã¦å‰Šé™¤ã‚’ä¿ƒã™

3. \*\*å®šæœŸã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆæ‰‹å‹• or cronï¼‰\*\*  
   \* `knip --fix` ã‚„ `ts-remove-unused --check` â†’ ãƒ¬ãƒãƒ¼ãƒˆç¢ºèª  
   \* å•é¡Œãªã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•å‰Šé™¤ / ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºè¨ˆæ¸¬

---

### é¸å®šã®ãƒ’ãƒ³ãƒˆ

| ã‚±ãƒ¼ã‚¹ | æ¨ã—ãƒ„ãƒ¼ãƒ« |
|---|---|
| \*\*ã¨ã‚Šã‚ãˆãšã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æ­¢ã‚ãŸã„\*\* | TypeScript ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã¿ |
| \*\*IDE ã§å³ãƒã‚¤ãƒ©ã‚¤ãƒˆã—ãŸã„ / autofix ã‚‚æ¬²ã—ã„\*\* | ESLint + eslint-plugin-unused-imports&lt;br&gt;ã¾ãŸã¯ Biome |
| \*\*ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–‹ç™ºã§â€œå…¬é–‹ API ä»¥å¤–â€ã®æ­»ã‚“ã  export ã‚’å‰Šé™¤ã—ãŸã„\*\* | ts-prune / ts-unused-exports |
| \*\*å¤§è¦æ¨¡ãƒ¢ãƒãƒ¬ãƒã§ä¾å­˜ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚å«ã‚ã¦æƒé™¤ã—ãŸã„\*\* | Knip |
| \*\*node\_modules ã®ãƒ€ã‚¤ã‚¨ãƒƒãƒˆãŒæ€¥å‹™\*\* | depcheck â†’ npm-check ã§å‰Šé™¤ |

&gt; \*\*è£œè¶³:\*\* barrel ãƒ•ã‚¡ã‚¤ãƒ« (`index.ts` ã§å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ) ã‚„å‹•çš„ import ã‚’å¤šç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€ã©ã®ãƒ„ãƒ¼ãƒ«ã‚‚èª¤æ¤œçŸ¥ãŒèµ·ã“ã‚Šã‚„ã™ã„ã§ã™ã€‚ã¾ãš \*\*ãƒ¬ãƒãƒ¼ãƒˆã‚’äººé–“ãŒç¢ºèª\*\* â†’ `ignore` è¨­å®šã‚’è¿½åŠ  â†’ CI ã§å¼·åˆ¶ã€ã®é †ã§å°å…¥ã™ã‚‹ã¨å®‰å…¨ã§ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/11 20:04:49*

ãƒ¢ãƒãƒ¬ãƒæ§‹æˆãªã‚“ã ã€‚
ã‚„ã‚ŠãŸã„ã“ã¨ã¯ä½¿ã‚ã‚Œã¦ã„ãªã„exportãªã©ã‚’æ¤œçŸ¥ã—ãŸã„ã€‚
ã¾ãŸã€sdkã‚‚ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚Œã°å‰Šé™¤ã—ã¦ã„ããŸã„ã€‚
Biomeã¯åŸºæœ¬è¨­å®šã§å…¥ã£ã¦ã„ã‚‹ã®ã§importã¯å‰Šé™¤ã§ãã¦ã„ã‚‹ã¯ãšã€
TypeScritpã®è¨­å®šã¯ã™ã§ã«å…¥ã£ã¦ã„ãŸã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/11 20:05:10*

#### ãƒ¢ãƒãƒ¬ãƒã§ â€œæœªä½¿ç”¨ exportï¼æœªå‚ç…§ SDK ãƒ•ã‚¡ã‚¤ãƒ«â€ ã‚’æ´—ã„å‡ºã™é‰„æ¿ã‚»ãƒƒãƒˆ

| é …ç›® | æœ€é©ãƒ„ãƒ¼ãƒ« | ä½¿ã„åˆ†ã‘ã®ãƒã‚¤ãƒ³ãƒˆ |
|------|-----------|-------------------|
| **æœªä½¿ç”¨ exportï¼æœªä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ¨ªæ–­ï¼‰** | **Knip** | - workspacesï¼ˆpnpm / npm / Yarnï¼‰ã‚’è‡ªå‹•èªè­˜ã—ã€**ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é–“ import ã‚‚è§£æ**<br>- `knip src --workspaces --fix` ã§ <br>â€ƒâ‘ æœªä½¿ç”¨ export â†’ `export` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã ã‘å¤–ã™<br>â€ƒâ‘¡èª°ã‹ã‚‰ã‚‚ import ã•ã‚Œãªã„ãƒ•ã‚¡ã‚¤ãƒ« â†’ å‰Šé™¤ææ¡ˆ<br>- ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚åŒæ™‚ã«ãƒã‚§ãƒƒã‚¯ã§ãã‚‹ã®ã§ã€Œä½¿ã‚ã‚Œã¦ã„ãªã„ SDKã€æ•´ç†ã«ã‚‚â— îˆ€citeîˆ‚turn0search0îˆ‚turn0search3îˆ |
| **export å˜ä½“ã®é™çš„ãƒ¬ãƒãƒ¼ãƒˆï¼ˆå·®åˆ† CI å‘ã‘ï¼‰** | **ts-unused-exports** ã¾ãŸã¯ **ts-prune** | - **å°è¦æ¨¡ã€œå˜ä¸€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**ãªã‚‰èµ·å‹•ãŒé€Ÿã„<br>- false-positive ãŒå‡ºã‚„ã™ã„ aliasï¼å‚ç…§æ§‹æˆã§ã¯ `--ignorePattern` ã‚„ `paths` è¨­å®šã§ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°å¿…é ˆ îˆ€citeîˆ‚turn0search4îˆ‚turn0search5îˆ |
| **â€œæ¶ˆã™ã¨ã“ã‚ã¾ã§è‡ªå‹•â€ æ´¾** | **ts-remove-unused (tsr)** | - Knip ã® `--fix` ã¯ *export ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰* ã‚’å¤–ã™ã ã‘ â†’ â€œã‚³ãƒ¼ãƒ‰ã”ã¨å‰Šé™¤ã—ãŸã„â€ å ´åˆã¯ tsr/ts-remove-unused ã®æ–¹ãŒè¸ã¿è¾¼ã‚“ã§æ¶ˆã—ã¦ãã‚Œã‚‹îˆ€citeîˆ‚turn1search1îˆ‚turn1search8îˆ |
| **æœªä½¿ç”¨ä¾å­˜ï¼ˆpackage.jsonï¼‰** | depcheck / Knip | - æ—¢ã« Knip ã‚’å…¥ã‚Œã‚‹ãªã‚‰ `knip --dependencies` ã§å®Œçµ îˆ€citeîˆ‚turn1search0îˆ‚turn0search8îˆ |

> **æ—¢ã«ã‚ã‚‹ã‚‚ã®**  
> * **Biome** â†’ import ã®æ­»æ´»æ•´ç†ã¯ OK  
> * **TypeScript `--noUnusedLocals / --noUnusedParameters`** â†’ ãƒ•ã‚¡ã‚¤ãƒ«å†…ã®ãƒ­ãƒ¼ã‚«ãƒ«æ­»æ´»ã¯ OK  
> â†’ ã¤ã¾ã‚Šæ®‹ã‚¿ã‚¹ã‚¯ã¯ **ã€Œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã¾ãŸã export ã¨ãƒ•ã‚¡ã‚¤ãƒ«ã€** ã§ã™ã€‚

---

### ğŸ› ï¸ ã™ãå‹•ãæœ€å°æ§‹æˆï¼ˆpnpm ãƒ¢ãƒãƒ¬ãƒä¾‹ï¼‰

```bash
pnpm add -Dw knip
```

`knip.json`ï¼ˆãƒªãƒã‚¸ãƒˆãƒªãƒ«ãƒ¼ãƒˆï¼‰

```jsonc
{
  // workspace æ¤œçŸ¥ã¯è‡ªå‹•ã ãŒã€root è¨­å®šã§èª¤æ¤œçŸ¥ã‚’é˜²æ­¢
  "$schema": "https://knip.dev/knip.schema.json",
  "workspaces": [
    "packages/*"
  ],
  // ç”Ÿæˆ SDK ãƒ•ã‚©ãƒ«ãƒ€ãªã© â€œå¯¾è±¡å¤–ã«ã—ãŸã„â€ ã‚‚ã®
  "ignore": [
    "packages/**/src/generated/**"
  ],
  // ãƒ¢ãƒãƒ¬ãƒã§ alias ã‚’å¤šç”¨ã—ã¦ã„ã‚‹å ´åˆ
  "paths": {
    "@myapp/*": ["packages/*/src"]
  }
}
```

**CI ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**

```json
{
  "scripts": {
    "lint:deadcode": "knip --report --dependencies",
    "lint:deadcode:fix": "knip --fix"
  }
}
```

* `knip --report` â€¦ exit â‰  0 ã§ PR ã‚’ãƒ–ãƒ­ãƒƒã‚¯  
* `knip --fix` â€¦ ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œã§ä¸è¦ export â†’ `export` å‰¥ãŒã—ï¼ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤

---

### è‡ªå‹•å‰Šé™¤ã¾ã§ã‚„ã‚ŠãŸã„å ´åˆ

1. **å®‰å…¨ãƒ¢ãƒ¼ãƒ‰ã§ä¸€è¦§å–å¾—**

   ```bash
   pnpm ts-remove-unused --check --project packages/sdk/tsconfig.json
   ```

2. **å·®åˆ†ã‚’ç¢ºèªã—ã¦ã‹ã‚‰ä¸€æ‹¬é©ç”¨**

   ```bash
   pnpm ts-remove-unused --project packages/sdk/tsconfig.json
   pnpm biome check --apply   # import ã‚‚å†æ•´ç†
   ```

---

### å°å…¥æ™‚ã®è½ã¨ã—ç©´ & å›é¿ç­–

| ã‚±ãƒ¼ã‚¹ | ç—‡çŠ¶ / å½±éŸ¿ | å¯¾ç­– |
|--------|-------------|------|
| **ãƒ‘ã‚¹ alias (`paths` / babel-module-resolver)** | Knip / ts-prune ãŒ â€œä½¿ã‚ã‚Œã¦ã„ãªã„â€ ã¨èª¤åˆ¤å®š | `knip.json > paths` ã§ aliasâ†’å®Ÿãƒ‘ã‚¹ã‚’ç™»éŒ²ï¼tsconfig ã® `baseUrl` ã‚’åˆã‚ã›ã‚‹ îˆ€citeîˆ‚turn0search6îˆ |
| **`export * from` ãƒãƒ¬ãƒ«** | *å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ* ã ã‘æ®‹ã£ã¦å®Ÿè£…ã‚’èª¤æ¤œçŸ¥ | â‘  Knip: `knip --includeExports` ã‚’ä½µç”¨<br>â‘¡ ts-prune: `--exclude` ã§ã¾ã¨ã‚ã¦ç„¡è¦– |
| **ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ•ã‚©ãƒ«ãƒ€ (openapi-sdk ç­‰) ãŒå·¨å¤§** | è§£æãŒé…ã„ï¼èª¤æ¤œçŸ¥ | `ignore` ã§é™¤å¤–ã—ã€ç”Ÿæˆå…ƒã® YAML å¤‰æ›´æ™‚ã ã‘åˆ¥ CI ã§ dead-code ãƒã‚§ãƒƒã‚¯ |
| **ã‚¸ãƒ§ãƒ–æ™‚é–“** | Knip ã¯å…¨ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹è§£æ â†’ æ•°åƒãƒ•ã‚¡ã‚¤ãƒ«ã§ 30-60 s ç¨‹åº¦ | PR ã”ã¨ãªã‚‰ OKã€‚æ›´ã«é«˜é€ŸåŒ–ã—ãŸã„å ´åˆã¯<br> `--changes` ã§å·®åˆ†é™å®šè§£æ (Git å¤‰æ›´åˆ†ã®ã¿) |

---

### ã¾ã¨ã‚

* **import æ•´ç†** â†’ Biome ã§æ—¢ã«å¯¾å¿œ  
* **ãƒ­ãƒ¼ã‚«ãƒ«æœªä½¿ç”¨å¤‰æ•°** â†’ TypeScript ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§å¯¾å¿œ  
* **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ¨ªæ–­ã®æœªä½¿ç”¨ export / ãƒ•ã‚¡ã‚¤ãƒ« / ä¾å­˜** â†’ **Knip** ä¸€æŠï¼ˆmonorepo ãƒã‚¤ãƒ†ã‚£ãƒ– & ä¾å­˜ã‚‚åŒæ™‚ãƒã‚§ãƒƒã‚¯ï¼‰  
* **ã€Œæœ¬å½“ã«ã‚³ãƒ¼ãƒ‰ã‚‚å‰Šé™¤ã—ãŸã„ã€** â†’ `ts-remove-unused` or `tsr` ã‚’ spot ã§ä½µç”¨  

ã“ã‚Œã§ **â€œä¸è¦ãª SDK ãƒ•ã‚¡ã‚¤ãƒ«ã¾ã§å«ã‚ãŸãƒ‡ãƒƒãƒ‰ã‚³ãƒ¼ãƒ‰ç‹©ã‚Šâ€** ãŒ CI ã§è‡ªå‹•åŒ–ã§ãã¾ã™ã€‚ã¾ãšã¯ `knip --report --workspaces` ã‚’å›ã—ã¦ãƒ¬ãƒãƒ¼ãƒˆã‚’çœºã‚ã€èª¤æ¤œçŸ¥ã‚’ ignore ã«å…¥ã‚Œã¦ã‹ã‚‰ PR ãƒ–ãƒ­ãƒƒã‚¯ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹æ‰‹é †ãŒå®‰å…¨ã§ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/12 11:34:13*

ignoreExportsUsedInFileã‚„includeEntryExportsã®è¨­å®šã¯ãƒ¢ãƒãƒ¬ãƒã§ã©ã†ã™ã‚‹ã¹ãã‹æ•™ãˆã¦ã»ã—ã„ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/12 11:34:43*

### ã¾ãšæŠ¼ã•ãˆã¦ãŠããŸã„ãƒã‚¤ãƒ³ãƒˆ

| ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | ä½œç”¨ç¯„å›² | ä¸»ãªå½¹å‰² | ãƒ¢ãƒãƒ¬ãƒã§ã®æ‰±ã„ |
|------------|----------|----------|------------------|
| `ignoreExportsUsedInFile` | **ãƒ«ãƒ¼ãƒˆè¨­å®šã®ã¿**ï¼ˆå„ workspace ã‹ã‚‰ã¯ä¸Šæ›¸ãä¸å¯ï¼‰ | **åŒä¸€ãƒ•ã‚¡ã‚¤ãƒ«å†…ã ã‘ã§å‚ç…§ã•ã‚Œã‚‹ export** ã‚’æœªä½¿ç”¨æ‰±ã„ã‹ã‚‰é™¤å¤–ã™ã‚‹ | ã€Œ**å®Ÿè£…é–¢æ•°+ãƒ†ã‚¹ãƒˆç”¨é–¢æ•°ã‚’åŒå±…ã•ã›ã‚‹**ã€æ§‹æˆãŒå¤šã„ã‚¢ãƒ—ãƒªç³»ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯ **true** ãŒä¾¿åˆ©<br>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç³»ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ **false** ã«ã—ãŸã„å ´åˆã¯ JSDoc ã® `@internal`/`@lintignore` ãªã©ã§å€‹åˆ¥ã«ç„¡è¦–ã™ã‚‹ îˆ€citeîˆ‚turn6search6îˆ‚turn1search0îˆ |
| `includeEntryExports` | **workspace å˜ä½** ã§ ON/OFF å¯èƒ½ | `src/index.ts` ã‚„ `package.json#exports` ãªã© **ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®æœªä½¿ç”¨ export** ã‚‚æ¤œå‡ºå¯¾è±¡ã«ã™ã‚‹ | **ç¤¾å†…å°‚ç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**ã¯ trueï¼æƒé™¤å¯¾è±¡ã«ã€**å¤–éƒ¨å…¬é–‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**ã¯ falseï¼API ã¨ã—ã¦æ®‹ã™ã€ã¨ã„ã†åˆ‡ã‚Šåˆ†ã‘ãŒé‰„æ¿ îˆ€citeîˆ‚turn0search1îˆ‚turn1search1îˆ |

---

## æ¨å¥¨ãƒ•ãƒ­ãƒ¼

1. **ãƒ«ãƒ¼ãƒˆã® `knip.json` ã§å…¨ä½“æ–¹é‡ã‚’æ±ºã‚ã‚‹**
   ```jsonc
   {
     "$schema": "https://knip.dev/knip.schema.json",

     // â”€â”€â‘  ãƒ•ã‚¡ã‚¤ãƒ«å†…å°‚ç”¨ã® export ã¯é™¤å¤–ï¼ˆãƒ†ã‚¹ãƒˆè£œåŠ©ãªã©ï¼‰
     "ignoreExportsUsedInFile": true,

     // â”€â”€â‘¡ ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å®šç¾©
     "workspaces": {
       // ã‚¢ãƒ—ãƒª / CLI ãªã©ç¤¾å†…å®Œçµãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
       "packages/app": {
         "includeEntryExports": true          // index.ts ã®ä¸è¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚‚å ±å‘Š
       },
       "packages/cli": {
         "includeEntryExports": true
       },

       // å…¬é–‹ npm ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç³»
       "packages/ui-kit": {
         "includeEntryExports": false         // å…¬é–‹ API ã¯æ®‹ã™
       },
       "packages/sdk": {
         "includeEntryExports": false
       }
     }
   }
   ```
   *`includeEntryExports` ã‚’æŒ‡å®šã—ãªã„ workspace ã¯ **false** ã¨åŒç¾©ã€‚*

2. **CI ã§å·®åˆ†ãƒã‚§ãƒƒã‚¯**
   ```json
   {
     "scripts": {
       "lint:deadcode": "knip --report --workspaces",
       "lint:deadcode:prod": "knip --production --report"
     }
   }
   ```
   - **é€šå¸¸ãƒ¢ãƒ¼ãƒ‰** â€¦ ãƒ†ã‚¹ãƒˆã‚‚å«ã‚ãŸæœªä½¿ç”¨ export/ãƒ•ã‚¡ã‚¤ãƒ«/ä¾å­˜ã‚’æ¤œå‡º  
   - **production ãƒ¢ãƒ¼ãƒ‰** â€¦ æœ¬ç•ªãƒãƒ³ãƒ‰ãƒ«ã«ä¸è¦ãªã‚³ãƒ¼ãƒ‰ã‚’ã•ã‚‰ã«å³ã—ãæ¤œå‡º

3. **èª¤æ¤œçŸ¥ãŒå‡ºãŸã‚‰å€‹åˆ¥ã«å›é¿**
   * JSDoc `@internal` / `@lintignore` ã‚¿ã‚°ã§ export ã”ã¨ã«ç„¡è¦–  
   * `knip.json > ignore` ã§ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ä¾å­˜ã‚’ç„¡è¦–  
   * å‹•çš„ importãƒ»åå°„å‘¼ã³å‡ºã—ãŒã‚ã‚‹ç®‡æ‰€ã¯ã‚³ãƒ¡ãƒ³ãƒˆãƒ¡ãƒ¢ã‚’æ®‹ã—ã¦ãŠã

---

## è¿·ã£ãŸã¨ãã®æŒ‡é‡

| ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ | è¨­å®šä¾‹ |
|------------------|--------|
| **ãƒ†ã‚¹ãƒˆãƒ˜ãƒ«ãƒ‘ã‚„ Storybook ç”¨ã® export ãŒå¤§é‡** | `ignoreExportsUsedInFile: true`ï¼ˆãƒ«ãƒ¼ãƒˆï¼‰<br>â†’ ã€Œå®Ÿè£…å´ã§ä½¿ã‚ã‚Œãªããªã£ãŸã‚‰è‡ªå‹•ã§å ±å‘Šã€ãªã®ã§æƒé™¤ã—ã‚„ã™ã„ |
| **npm å…¬é–‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã® `src/index.ts`** ã«<br>å…ˆè¡Œå®Ÿé¨“ API ã‚’éš ã—æŒãŸã›ãŸã„ | ãã® workspace ã ã‘ `includeEntryExports: false` + JSDoc `@deprecated` ã§å¾ã€…ã«ç§»è¡Œ |
| **ç¤¾å†…ãƒ„ãƒ¼ãƒ«ãŒå¢—ãˆã¦ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãŒä¹±ç«‹** | ã¾ãš `includeEntryExports: true` ã§ã‚´ãƒŸæƒé™¤ â†’ ç„¡è¦–ãŒå¿…è¦ãªã‚‚ã®ã ã‘ `@public` ãªã©ã‚¿ã‚°ç®¡ç† |

---

### ä»•ä¸Šã’ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ âœ“

- [ ] `ignoreExportsUsedInFile` ã¯ **ãƒ«ãƒ¼ãƒˆã§ä¸€å›** ã ã‘è¨­å®šã—ã¦ã„ã‚‹ã‹  
- [ ] `includeEntryExports` ã‚’ **å†…éƒ¨å‘ã‘ / å…¬é–‹å‘ã‘** ã§æ­£ã—ãæŒ¯ã‚Šåˆ†ã‘ãŸã‹  
- [ ] `paths` ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚„ç”Ÿæˆã‚³ãƒ¼ãƒ‰ã¯ `paths` / `ignore` ã«æ˜ç¤ºã—ã¦èª¤æ¤œçŸ¥ã‚’æŠ‘ãˆãŸã‹  
- [ ] `knip --production` ã‚‚å®šæœŸå®Ÿè¡Œã—ã€ãƒ†ã‚¹ãƒˆå°‚ç”¨ã‚³ãƒ¼ãƒ‰ãŒæœ¬ç•ªã«æ··ã–ã£ã¦ã„ãªã„ã‹ç¢ºèª  

ã“ã‚Œã§ **ãƒ¢ãƒãƒ¬ãƒå…¨ä½“ã®â€œæ­»ã« exportãƒ»æ­»ã« SDKâ€ã‚’å®‰å…¨ã‹ã¤æ®µéšçš„ã«æ’²æ»…**ã§ãã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/12 11:37:40*

ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã§ã¯ã©ã†ãªã‚‹

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/12 11:37:41*

### ã€Œã‚µãƒ¼ãƒãƒ¼ç”¨ workspaceã€ã¨ã€Œãƒ•ãƒ­ãƒ³ãƒˆç”¨ workspaceã€ã‚’åˆ†ã‘ãŸã¨ãã® `knip` è¨­å®šæŒ‡é‡

| é …ç›® | **Server-side workspace**<br>ï¼ˆHono / Express / Nest ãªã©ï¼‰ | **Front-side workspace**<br>ï¼ˆVite / Next.js / React SPA ãªã©ï¼‰ |
|------|------------------------------------------------------------|-----------------------------------------------------------------|
| **å…¸å‹çš„ãªãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ** | `src/index.ts` ãŒã‚¢ãƒ—ãƒªæœ¬ä½“ã€‚<br>ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯ã‚³ãƒ¼ãƒ‰ã§ `import` ã•ã‚Œã‚‹ã“ã¨ãŒå¤šã„ | Next.js ã® `src/pages/**` ã‚„ `app/**`ã€Vite ã® `src/main.tsx` ãªã©ã€**ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒ â€œãƒ•ã‚¡ã‚¤ãƒ«åâ€ ã§å–ã‚Šè¾¼ã‚€** ãƒ‘ã‚¿ãƒ¼ãƒ³ |
| **`includeEntryExports` æ—¢å®šå€¤ã®ã¾ã¾ (`false`) ã«ã™ã‚‹ã¨** | *index.ts* ã«ç½®ã„ãŸãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ãŒæœªä½¿ç”¨ã§ã‚‚æ¤œçŸ¥ã•ã‚Œ **ãªã„** â†’ æ­»ã«ã‚³ãƒ¼ãƒ‰ãŒæ®‹ã‚‹æã‚Œ | Next.js ãƒšãƒ¼ã‚¸ / API ãƒ«ãƒ¼ãƒˆã® `export default` ãŒã€Œæœªä½¿ç”¨ã€ã¨èª¤åˆ¤å®šã•ã‚Œ **ã‚‹** |
| **æ¨å¥¨** | **`true`** â€¦â€¦ `src/index.ts` å†…ã®ä¸è¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚‚ãƒ¬ãƒãƒ¼ãƒˆ<br>ï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒ import ã§æ‹¾ã†ã®ã§èª¤æ¤œçŸ¥ã¯å°‘ãªã„ï¼‰ | **`false`** â€¦â€¦ ãƒšãƒ¼ã‚¸ãƒ»API ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãŒèª­ã‚€ã ã‘ã§ import ã•ã‚Œãªã„ãŸã‚èª¤æ¤œçŸ¥ã‚’é˜²ã |
| **è¿½åŠ ã®ç„¡è¦–è¨­å®šä¾‹** | Nest ã® `@Module({ providers })` ã‚„ Prisma seed ãªã©<br>**ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿çµŒç”±ã§å‚ç…§ã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«** â†’ `"ignore": ["src/**/migrations/**", "src/**/seed.ts"]` | Next.js ã® `src/pages/**`, `src/app/**/route.ts` ã¯<br> `"ignore": ["src/pages/**", "src/app/**"]` ã§ä¸¸ã”ã¨é™¤å¤–ã§ã‚‚å¯ |
| **SDK / ç”Ÿæˆã‚³ãƒ¼ãƒ‰ã®æ‰±ã„** | OpenAPI ç”Ÿæˆç‰©ãªã© â†’ `"ignore": ["src/generated/**"]`<br>or workspace è‡ªä½“ã§ `include = []` | åŒä¸Šï¼ˆç”Ÿæˆ GraphQL codegen ãªã©ï¼‰ |

---

## å…·ä½“çš„ãª `knip.json` ã‚µãƒ³ãƒ—ãƒ«

```jsonc
{
  "$schema": "https://knip.dev/knip.schema.json",

  /* â¶ åŒä¸€ãƒ•ã‚¡ã‚¤ãƒ«å†…ã ã‘ã§ä½¿ã†ãƒ†ã‚¹ãƒˆè£œåŠ© export ã¯ç„¡è¦– */
  "ignoreExportsUsedInFile": true,

  /* â· workspaces ã”ã¨ã®ç´°ã‹ã„è¨­å®š */
  "workspaces": {
    /* â”€â”€ Server side â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    "packages/server": {
      "includeEntryExports": true,          // index.ts ã®æ­»ã« export ã‚’æ¤œå‡º
      "ignore": [
        "src/generated/**",                 // OpenAPI SDK
        "src/**/migrations/**",
        "src/**/seed.ts"
      ],
      "paths": {                            // TS alias ã‚’ knip ã«æ•™ãˆã‚‹
        "@server/*": ["src/*"]
      }
    },

    /* â”€â”€ Front side â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    "packages/web": {
      "includeEntryExports": false,         // Next.js ãƒšãƒ¼ã‚¸ã‚’èª¤æ¤œçŸ¥ã•ã›ãªã„
      "ignore": [
        "src/pages/**",                     // file-system routing
        "src/app/**",                       // Next.js app router
        "src/generated/**"                  // GraphQL codegen ãªã©
      ],
      "paths": {
        "@web/*": ["src/*"]
      }
    }
  }
}
```

> `includeEntryExports` ã¯ **workspace å˜ä½ã§ ON/OFF** ã§ãã‚‹å”¯ä¸€ã®ã‚¹ã‚¤ãƒƒãƒã§ã™ã€‚èª¤åˆ¤å®šã—ã‚„ã™ã„ â€œãƒ•ã‚¡ã‚¤ãƒ«åã§èª­ã¿è¾¼ã‚€ç³»ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯â€ ã ã‘ **false** ã«ã™ã‚‹ã®ãŒå®‰å…¨ã€‚

---

### FAQ ã‚ˆãã‚ã‚‹è¿·ã„ã©ã“ã‚

| Q | A |
|---|---|
| **Server ã§ã‚‚ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆtRPC ã® `router/*` ãªã©ï¼‰ã‚’ä½¿ã£ã¦ã„ã‚‹** | ãã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã ã‘ `"ignore": ["src/router/**"]` ã§é™¤å¤–ã™ã‚‹ã‹ã€`includeEntryExports: false` ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ |
| **Next.js ã§ã‚‚ â€œdesign-system ã ã‘ã‚’ export ã—ãŸã‚µãƒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸â€ ãŒã‚ã‚‹** | ãã®ã‚µãƒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å´ã§ `includeEntryExports: true` ã«ã—ã¦æ­»ã« export ã‚’æ¤œå‡º |
| **import alias ãŒå¤šã™ãã¦èª¤æ¤œçŸ¥ãŒæ¸›ã‚‰ãªã„** | ãƒ«ãƒ¼ãƒˆ `knip.json` ã® `"paths"` ã§ **ãƒ¢ãƒãƒ¬ãƒå…¨ alias** ã‚’ä¸€å…ƒç®¡ç†ã™ã‚‹ã¨æ¥½ |

---

### æœ€å°å°å…¥ã‚¹ãƒ†ãƒƒãƒ—

1. **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸Šè¨˜ã®å½¢ã§ç½®ã**  
2. CI ã§  
   ```bash
   pnpm knip --workspaces --report
   ```  
   ã‚’å›ã—ã€**exit code â‰  0** ãªã‚‰ PR ã‚’ãƒ–ãƒ­ãƒƒã‚¯  
3. èª¤æ¤œçŸ¥ãŒå‡ºãŸã‚‰ `ignore` ã¾ãŸã¯ã‚³ãƒ¡ãƒ³ãƒˆæŒ‡ç¤º `// knip-ignore` ã§æŠ‘åˆ¶  
4. æ…£ã‚Œã¦ããŸã‚‰ `knip --fix` ã§ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«è‡ªå‹•å‰Šé™¤ â†’ `pnpm biome check --apply` ã§ import æ•´ç†

ã“ã‚Œã§ **ã‚µãƒ¼ãƒãƒ¼ / ãƒ•ãƒ­ãƒ³ãƒˆã®ä¸¡æ–¹ã‚’ â€œæ­£ã—ã„é–¾å€¤â€ ã§ç›£è¦–ã—ãªãŒã‚‰ã€ãƒ¢ãƒãƒ¬ãƒå…¨ä½“ã®æ­»ã«ã‚³ãƒ¼ãƒ‰ã¨ä¸è¦ SDK ã‚’ç¶™ç¶šçš„ã«æ’é™¤** ã§ãã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/12 11:40:04*

è¨­å®šã‚’è¦‹ç›´ã—ã¦ã»ã—ã„ã€‚ 

{
  "files": \[\],
  "references": \[
    { "path": "./packages/shared" },
    { "path": "./packages/database" },
    { "path": "./packages/api-client" },
    { "path": "./packages/web-client" },
    { "path": "./packages/server" }
  \]
}

{
  "name": "@myapp/web-client",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "main": "dist/index.js",
  "types": "dist/index.d.ts",
  "files": \[
    "dist"
  \],
  "scripts": {
    "// ğŸš€ é–‹ç™ºãƒ»å®Ÿè¡Œ": "",
    "dev": "vite",
    "start": "vite preview",
    "preview": "vite preview",
    "// ğŸ—ï¸ ãƒ“ãƒ«ãƒ‰ãƒ»å“è³ªç®¡ç†": "",
    "build": "vite build",
    "typecheck": "tsc -p . --noEmit",
    "lint": "biome check .",
    "lint:fix": "biome check . --write",
    "test": "vitest --run",
    "test:watch": "vitest",
    "// âœ… çµ±åˆæ¤œè¨¼": "",
    "verify": "pnpm lint && pnpm build && pnpm typecheck && pnpm test",
    "// ğŸ§¹ ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—": "",
    "clean": "rm -rf dist \*.tsbuildinfo"
  },
  "dependencies": {
    "@myapp/api-client": "workspace:\*",
    "@myapp/shared": "workspace:\*",
    "react": "19.1.0",
    "react-dom": "19.1.0",
    "react-router": "7.6.2",
    "zod": "3.25.51"
  },
  "devDependencies": {
    "@testing-library/dom": "10.4.0",
    "@testing-library/react": "16.3.0",
    "@types/node": "22.15.29",
    "@types/react": "19.1.6",
    "@types/react-dom": "19.1.6",
    "@vitejs/plugin-react": "4.5.1",
    "jsdom": "26.1.0",
    "tsx": "4.19.4",
    "typescript": "5.8.3",
    "vite": "6.3.5"
  }
}


import type { KnipConfig } from "knip";

const config: KnipConfig = {
  // pnpm workspaceã®å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¨­å®š
  workspaces: {
    // ã‚µãƒ¼ãƒãƒ¼ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸: Honoã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
    "packages/server": {
      entry: \["src/index.ts"\],
      project: \["src/\*\*/\*.ts"\],
    },
    // Webã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: Reactã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
    "packages/web-client": {
      entry: \["src/main.tsx"\],
      project: \["src/\*\*/\*.{ts,tsx}"\],
    },
    // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸: Prismaã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆãªã—ï¼‰
    "packages/database": {
      entry: \[\],
      project: \["src/\*\*/\*.ts"\],
    },
    // APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: è‡ªå‹•ç”Ÿæˆã‚³ãƒ¼ãƒ‰ï¼ˆã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆãªã—ï¼‰
    "packages/api-client": {
      entry: \[\],
      project: \["src/\*\*/\*.ts"\],
    },
    // å…±æœ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸: å…±é€šå‹å®šç¾©ï¼ˆã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆãªã—ï¼‰
    "packages/shared": {
      entry: \[\],
      project: \["src/\*\*/\*.ts"\],
    },
  },

  // Knipãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®š
  vitest: {
    config: \["vitest.config.ts", "packages/\*/vitest.config.ts"\],
  },
  typescript: {
    config: \["tsconfig.json", "packages/\*/tsconfig.json"\],
  },

  // ç„¡è¦–ã™ã‚‹ä¾å­˜é–¢ä¿‚
  ignoreDependencies: \[
    // TypeScript é–¢é€£
    "tslib", // TypeScript ã® importHelpers ã§è‡ªå‹•çš„ã«ä½¿ç”¨ã•ã‚Œã‚‹
    "tsx", // ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œç”¨ï¼ˆpackage.jsonã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ä½¿ç”¨ï¼‰

    // å‹å®šç¾©ãƒ»ã‚¹ã‚­ãƒ¼ãƒé–¢é€£
    "zod", // ã‚µãƒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ä½¿ç”¨ã€ãƒ«ãƒ¼ãƒˆã§ã‚‚å‹å®šç¾©ã®ãŸã‚ã«å¿…è¦

    // ã‚³ãƒ¼ãƒ‰ç”Ÿæˆé–¢é€£
    "@prisma/client", // Prisma generate ã§å¿…è¦ï¼ˆå®Ÿéš›ã®ä½¿ç”¨ã¯ç”Ÿæˆã‚³ãƒ¼ãƒ‰å†…ï¼‰
    "@hey-api/client-fetch", // openapi-ts.config.ts ã§ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã«ä½¿ç”¨
  \],

  // ç„¡è¦–ã™ã‚‹æœªè§£æ±ºã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆKnipã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ç›¸å¯¾ãƒ‘ã‚¹è§£æ±ºã®å•é¡Œå›é¿ï¼‰
  ignoreUnresolved: \[
    "./src/\_\_tests\_\_/setup.ts", // Vitest setup files - å®Ÿéš›ã«ã¯å­˜åœ¨ã™ã‚‹ãŒKnipãŒç›¸å¯¾ãƒ‘ã‚¹ã‚’è§£æ±ºã§ããªã„
  \],

  // ç„¡è¦–ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹
  ignoreWorkspaces: \[
    "docs/api", // è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
  \],

  // é™¤å¤–ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
  ignore: \[
    // è‡ªå‹•ç”Ÿæˆ
    "packages/\*\*/src/generated/\*\*",
    "docs/api/\*\*",

    // ãƒ“ãƒ«ãƒ‰æˆæœç‰©
    "\*\*/dist/\*\*",
    "\*\*/build/\*\*",
    "\*\*/\*.tsbuildinfo",

    // è¨­å®šãƒ»ç’°å¢ƒãƒ•ã‚¡ã‚¤ãƒ«
    "knip.config.ts",
    ".husky/\*\*",

    // ãƒ†ã‚¹ãƒˆé–¢é€£
    "\*\*/\*.manual.test.ts",
  \],

  // === å³æ ¼ãªè¨­å®š ===
  // ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã«é–¢ã™ã‚‹è¨­å®š
  ignoreExportsUsedInFile: false, // ãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹exportã‚‚æ¤œå‡ºå¯¾è±¡
  includeEntryExports: false, // ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®exportã¯æ¤œå‡ºå¯¾è±¡å¤–ï¼ˆã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆãªã®ã§ï¼‰
};

export default config;

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/12 11:40:19*

ä»¥ä¸‹ã®è¦³ç‚¹ã§è¦‹ç›´ã™ã¨ã€ãƒ¢ãƒãƒ¬ãƒå…¨ä½“ã® **èª¤æ¤œçŸ¥ã‚’æ¸›ã‚‰ã—ã¤ã¤ â€œæ­»ã« exportï¼æ­»ã« SDKâ€ ã‚’æ¼ã‚Œãªãæ‹¾ãˆã‚‹** æ§‹æˆã«ãªã‚Šã¾ã™ã€‚

---

## 1ï¸âƒ£ ã‚°ãƒ­ãƒ¼ãƒãƒ«æ–¹é‡

| ç›®çš„ | æ¨å¥¨å€¤ | ç†ç”± |
|------|--------|------|
| **åŒä¸€ãƒ•ã‚¡ã‚¤ãƒ«å†…ã ã‘ã§ä½¿ã†ãƒ†ã‚¹ãƒˆè£œåŠ©ç­‰ã‚’ç„¡è¦–ã—ãŸã„** | `ignoreExportsUsedInFile: true` | ãƒ«ãƒ¼ãƒˆã« 1 å›æŒ‡å®šã™ã‚Œã°ã€ãƒ†ã‚¹ãƒˆãƒ˜ãƒ«ãƒ‘ã‚„ Storybook ã®ãƒ¢ãƒƒã‚¯é–¢æ•°ã§èª¤æ¤œçŸ¥ã—ãªããªã‚‹ îˆ€citeîˆ‚turn0search6îˆ |
| **ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã® export ã‚’æ¤œæŸ»ã™ã‚‹ã‹** | workspace ã”ã¨ã«åˆ‡æ›¿ | - **Server** â†’ `true` ã§ `src/index.ts` ã®ä¸è¦ export ã‚‚æƒé™¤<br>- **Web (Next/Vite)** â†’ `false` ã§ãƒšãƒ¼ã‚¸ï¼API ãƒ«ãƒ¼ãƒˆã®èª¤æ¤œçŸ¥ã‚’é˜²ã îˆ€citeîˆ‚turn0search1îˆ‚turn0search10îˆ |
| **ãƒ‘ã‚¹ alias èª¤æ¤œçŸ¥å›é¿** | `paths` ã‚’æ˜ç¤º | TS ã® `compilerOptions.paths` ã¯è‡ªå‹•å–å¾—ã•ã‚Œã‚‹ãŒã€<br>ãƒ¢ãƒãƒ¬ãƒè·¨ãã® alias ã¯ `knip.json#paths` ã«åˆ—æŒ™ã™ã‚‹ã¨ç¢ºå®Ÿ îˆ€citeîˆ‚turn0search0îˆ‚turn0search9îˆ |

---

## 2ï¸âƒ£ æ”¹å–„ç‰ˆ `knip.config.ts`

```ts
import type { KnipConfig } from "knip";

const config: KnipConfig = {
  /* ---------- å…±é€š ---------- */
  ignoreExportsUsedInFile: true,      // ãƒ†ã‚¹ãƒˆè£œåŠ© export ã¯ç„¡è¦–
  workspaces: {
    /* ----- Server (Hono) ----- */
    "packages/server": {
      entry: ["src/index.ts"],        // ã‚µãƒ¼ãƒãƒ¼èµ·ç‚¹
      project: ["src/**/*.ts"],
      includeEntryExports: true,      // index.ts ã® dead export ã‚‚æ¤œå‡º
      paths: { "@server/*": ["src/*"] }
    },

    /* ----- Web (Vite / React) ----- */
    "packages/web-client": {
      entry: ["src/main.tsx"],        // Vite èµ·ç‚¹
      project: ["src/**/*.{ts,tsx}"],
      includeEntryExports: false,     // ãƒšãƒ¼ã‚¸/Route ã‚’èª¤æ¤œçŸ¥ã•ã›ãªã„
      paths: { "@web/*": ["src/*"] }
    },

    /* ----- Database (Prisma) ----- */
    "packages/database": {
      project: ["src/**/*.ts"],
      includeEntryExports: true       // ä½™åˆ†ãª util ã‚’æ¤œå‡ºã—ãŸã„
    },

    /* ----- API Client (ç”Ÿæˆ) ----- */
    "packages/api-client": {
      project: ["src/**/*.ts"],
      includeEntryExports: false,     // è‡ªå‹•ç”Ÿæˆ â†’ åŸºæœ¬é™¤å¤–
      ignore: ["src/generated/**"]
    },

    /* ----- Shared Types ----- */
    "packages/shared": {
      project: ["src/**/*.ts"],
      includeEntryExports: true
    }
  },

  /* ---------- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ ---------- */
  vitest: { config: ["vitest.config.ts", "packages/*/vitest.config.ts"] },
  typescript: { config: ["tsconfig.json", "packages/*/tsconfig.json"] },

  /* ---------- ã‚°ãƒ­ãƒ¼ãƒãƒ« ignore ---------- */
  paths: { "@myapp/*": ["packages/*/src"] },         // ãƒ¢ãƒãƒ¬ãƒ alias
  ignore: [
    "packages/**/src/generated/**",                  // è‡ªå‹•ç”Ÿæˆ
    "**/dist/**", "**/build/**", "**/*.tsbuildinfo",
    "docs/api/**", ".husky/**", "**/*.manual.test.ts"
  ],
  ignoreWorkspaces: ["docs/api"],
  ignoreDependencies: [
    "tslib", "tsx", "zod",
    "@prisma/client", "@hey-api/client-fetch"
  ]
};

export default config;
```

### å¤‰æ›´ç‚¹ã¾ã¨ã‚

| ç®‡æ‰€ | BEFORE | AFTER | åŠ¹æœ |
|------|--------|-------|------|
| **ignoreExportsUsedInFile** | `false` | `true` | ãƒ†ã‚¹ãƒˆï¼Storybook è£œåŠ©é–¢æ•°ã‚’èª¤æ¤œçŸ¥ã—ãªã„ |
| **includeEntryExports** | ã™ã¹ã¦ `false` | Server / DB / Shared ã ã‘ `true` | ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã¾ã§æƒé™¤ã—ãŸã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’é™å®š |
| **paths alias** | ãªã— | è¿½åŠ  | ãƒ¢ãƒãƒ¬ãƒè·¨ãã® `@myapp/*` import ã‚’æ­£ã—ãè§£æ |
| **workspace-level ignore** | ç”Ÿæˆã‚³ãƒ¼ãƒ‰ã‚’å…¨ä½“ã§é™¤å¤– | `api-client` ã®ã¿ã«ãƒ­ãƒ¼ã‚«ãƒ« override | ä»–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§èª¤æ¤œçŸ¥ãŒæ¸›ã‚‹ |
| **plugin tsconfig ãƒ‘ã‚¹** | æ—¢å­˜ | å¤‰æ›´ãªã— | OK |

---

## 3ï¸âƒ£ `tsconfig.json` é€£æºãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

1. **å„ package ã® `tsconfig.json` ã« `composite: true` ã¨ `references`**  
   ãƒ«ãƒ¼ãƒˆ `references` ã ã‘ã§ã¯å¿…è¦ãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ“ãƒ«ãƒ‰å¯¾è±¡ã«ãªã‚‰ãªã„å ´åˆãŒã‚ã‚‹ã€‚
2. **`baseUrl` / `paths` ã‚’ package å´ã«ã‚‚åˆã‚ã›ã‚‹**  
   Knip ã¯ `compilerOptions.paths` ã‚’æ‹¾ã†ã®ã§æ•´åˆæ€§ãŒå–ã‚Œã‚‹ã€‚

---

## 4ï¸âƒ£ å°å…¥ãƒ•ãƒ­ãƒ¼

1. ãƒ«ãƒ¼ãƒˆã«ç½®ã„ãŸ `knip.config.ts` ã‚’ä¸Šè¨˜ã®å½¢ã«æ›´æ–°  
2. `pnpm knip --report --workspaces` ã§å®Ÿè¡Œ  
3. èª¤æ¤œçŸ¥ãŒå‡ºãŸã‚‰  
   * ç”Ÿæˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª â†’ `ignore`  
   * ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ« â†’ `// knip-ignore` ã‚³ãƒ¡ãƒ³ãƒˆ  
4. å®‰å®šå¾Œã€CI ã«  
   ```bash
   pnpm lint && pnpm knip --report --workspaces
   ```  
   ã‚’è¿½åŠ ã—ã€PR å˜ä½ã§ â€œæ­»ã«ã‚³ãƒ¼ãƒ‰ç¦æ­¢â€ ã‚’å¾¹åº•

ã“ã†ã—ã¦ãŠãã¨ **Server / Web åŒæ–¹ã§ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ç‰¹æœ‰ã®èª¤æ¤œçŸ¥ã‚’é˜²ããªãŒã‚‰ã€æœªä½¿ç”¨ exportãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ä¾å­˜ã‚’ CI ã§ç¶™ç¶šçš„ã«æ’é™¤** ã§ãã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/12 11:57:16*

--report ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒãªã‹ã£ãŸã€‚ 

Unknown option '--report'

âœ‚ï¸  Find unused dependencies, exports and files in your JavaScript and TypeScript projects

Usage: knip \[options\]

Options:
  -c, --config \[file\]      Configuration file path (default: \[.\]knip.json\[c\], knip.(js|ts), knip.config.(js|ts) or package.json#knip)
  -t, --tsConfig \[file\]    TypeScript configuration path (default: tsconfig.json)
  --production             Analyze only production source files (e.g. no test files, devDependencies)
  --strict                 Consider only direct dependencies of workspace (not devDependencies, not other workspaces)
  -W, --workspace \[dir\]    Analyze a single workspace (default: analyze all configured workspaces)
  --directory \[dir\]        Run process from a different directory (default: cwd)
  --cache                  Enable caching
  --cache-location         Change cache location (default: node\_modules/.cache/knip)
  --watch                  Watch mode
  --no-gitignore           Don't use .gitignore
  --include                Report only provided issue type(s), can be comma-separated or repeated (1)
  --exclude                Exclude provided issue type(s) from report, can be comma-separated or repeated (1)
  --dependencies           Shortcut for --include dependencies,unlisted,binaries,unresolved
  --exports                Shortcut for --include exports,nsExports,classMembers,types,nsTypes,enumMembers,duplicates
  --files                  Shortcut for --include files
  --fix                    Fix issues
  --fix-type               Fix only issues of type, can be comma-separated or repeated (2)
  --format                 Format modified files after --fix using the local formatter
  --allow-remove-files     Allow Knip to remove files (with --fix)
  --include-libs           Include type definitions from external dependencies (default: false)
  --include-entry-exports  Include entry files when reporting unused exports
  --isolate-workspaces     Isolate workspaces into separate programs
  -n, --no-progress        Don't show dynamic progress updates (automatically enabled in CI environments)
  --preprocessor           Preprocess the results before providing it to the reporter(s), can be repeated
  --preprocessor-options   Pass extra options to the preprocessor (as JSON string, see --reporter-options example)
  --reporter               Select reporter: symbols, compact, codeowners, json, codeclimate, markdown, disclosure, can be repeated (default: symbols)
  --reporter-options       Pass extra options to the reporter (as JSON string, see example)
  --tags                   Include or exclude tagged exports
  --no-config-hints        Suppress configuration hints
  --treat-config-hints-as-errors    Exit with non-zero code (1) if there are any configuration hints
  --no-exit-code           Always exit with code zero (0)
  --max-issues             Maximum number of issues before non-zero exit code (default: 0)
  -d, --debug              Show debug output
  --trace                  Show trace output
  --trace-export \[name\]    Show trace output for named export(s)
  --trace-file \[file\]      Show trace output for exports in file
  --performance            Measure count and running time of key functions and display stats table
  --performance-fn \[name\]  Measure only function \[name\]
  --memory                 Measure memory usage and display data table
  --memory-realtime        Log memory usage in realtime
  -h, --help               Print this help text
  -V, --version            Print version

(1) Issue types: files, dependencies, unlisted, unresolved, exports, nsExports, classMembers, types, nsTypes, enumMembers, duplicates
(2) Fixable issue types: dependencies, exports, types

Examples:

$ knip
$ knip --production
$ knip --workspace packages/client --include files,dependencies
$ knip -c ./config/knip.json --reporter compact
$ knip --reporter codeowners --reporter-options '{"path":".github/CODEOWNERS"}'
$ knip --tags=-lintignore

Website: https://knip.dev

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/12 11:57:18*

### ğŸ™‡â€â™‚ï¸ å¤±ç¤¼ã—ã¾ã—ãŸ â€” `--report` ã¯ v4 ç³»ã§å»ƒæ­¢

Knip v4 ä»¥é™ã¯ **â€œæ¤œå‡ºçµæœã‚’ä¸€è¦§è¡¨ç¤ºï¼‹ exit codeâ‰ 0â€** ã¨ã„ã†æŒ™å‹•ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ãªã‚Šã€  
æ—§ v3 ã® `--report` ç›¸å½“ã‚¹ã‚¤ãƒƒãƒã¯å‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚ç¾è¡Œç‰ˆã§ã¯ **ãã®ã¾ã¾ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ**ã™ã‚Œã° CI ã§å¤±æ•—ã•ã›ã‚‰ã‚Œã¾ã™ã€‚

```bash
# ã“ã‚Œã ã‘ã§ OKï¼ˆå•é¡ŒãŒã‚ã‚Œã° exit code 1ï¼‰
pnpm knip --workspace packages/web-client        # å˜ä½“
pnpm knip --isolate-workspaces                   # ã™ã¹ã¦
```

---

## CI ç”¨ã®æœ€æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³

| ç›®çš„ | æ¨å¥¨ã‚³ãƒãƒ³ãƒ‰ | è£œè¶³ |
|------|--------------|------|
| **é€šå¸¸ãƒã‚§ãƒƒã‚¯**<br>ï¼ˆé–‹ç™ºãƒ»CI å…±é€šï¼‰ | `knip --isolate-workspaces` | ã™ã¹ã¦ã® workspace ã‚’ç‹¬ç«‹è§£æã— exit code ç®¡ç† |
| **æœ¬ç•ªãƒãƒ³ãƒ‰ãƒ«ã«ä¸è¦ãªã‚‚ã®ã ã‘æ¤œå‡º** | `knip --production` | `devDependencies` ã¨ãƒ†ã‚¹ãƒˆç³»ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•é™¤å¤– |
| **ç‰¹å®š issue ã‚¿ã‚¤ãƒ—ã ã‘**<br>ï¼ˆä¾å­˜ï¼‹æœªè§£æ±º import ã ã‘æ‹¾ã„ãŸã„ç­‰ï¼‰ | `knip --dependencies`<br>ã¾ãŸã¯<br>`knip --include dependencies,unresolved` | `--include/--exclude` ã§ç´°ç²’åº¦ãƒ•ã‚£ãƒ«ã‚¿ |
| **ãƒã‚·ãƒ³åˆ¤å®šã—ã‚„ã™ã„ JSON å‡ºåŠ›** | `knip --reporter json > knip-result.json` | GitHub Actions ã® `actions/upload-artifact` ã¨ç›¸æ€§â— |

> **exit code ãƒ«ãƒ¼ãƒ«**  
> * å•é¡Œã‚¼ãƒ­ â€¦ **0**  
> * æ¤œå‡ºã‚ã‚Š â€¦ **1**ï¼ˆ`--max-issues` ã§ä¸Šé™åˆ¶å¾¡å¯ï¼‰  
> * `--no-exit-code` ã‚’ä»˜ã‘ã‚‹ã¨å¸¸ã« 0

---

## `package.json` ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¾‹ï¼ˆä¿®æ­£ç‰ˆï¼‰

```jsonc
{
  "scripts": {
    "// âš¡ ãƒ‡ãƒƒãƒ‰ã‚³ãƒ¼ãƒ‰æ¤œå‡º": "",
    "deadcode":      "knip --isolate-workspaces",
    "deadcode:prod": "knip --production --isolate-workspaces",
    "deadcode:json": "knip --isolate-workspaces --reporter json > knip-report.json",

    "// ğŸ§¹ è‡ªå‹•ä¿®æ­£": "",
    "deadcode:fix":  "knip --isolate-workspaces --fix --allow-remove-files && biome check . --write"
  }
}
```

---

## å‚è€ƒ: ä¸»ãª v4 ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ

| å¤‰æ›´ç‚¹ | æ—§ v3 |  v4 ç¾è¡Œ |
|--------|-------|----------|
| ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è¡¨ç¤º | `exports,files,dependencies` ã‚’ã¾ã¨ã‚ãŸä¸€è¦§ | åŒã˜ã ãŒ `--report` ä¸è¦ |
| `--report` | ä¸€è¦§è¡¨ç¤ºï¼‹ exit=0 | **å‰Šé™¤** |
| `--fix` ã®å®‰å…¨è£…ç½® | è‡ªå‹•ã§é™¤å¤–ã•ã‚Œã¦ã„ãŸ | ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤ã¯ **`--allow-remove-files`** å¿…é ˆ |
| `--include-entry-exports` | ã‚°ãƒ­ãƒ¼ãƒãƒ« | **CLI ãƒ•ãƒ©ã‚°**ã«çµ±åˆï¼ˆ`--include-entry-exports`ï¼‰ |

---

### ğŸ”‘ ãƒã‚¤ãƒ³ãƒˆ

* **CI ã§ã¯ã‚³ãƒãƒ³ãƒ‰ã ã‘ã§å¤±æ•—åˆ¤å®š**ï¼š`knip` ãŒ exit code 1 ã‚’è¿”ã™ã®ã§ã€`pnpm deadcode` ã‚’ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«ç½®ãã ã‘ã€‚  
* **ãƒ¬ãƒãƒ¼ãƒˆå½¢å¼ã‚’å¤‰ãˆãŸã„** â†’ `--reporter compact / markdown / json` ãªã©ã§åˆ‡æ›¿ã€‚  
* **è‡ªå‹•ä¿®æ­£ã‚’è¨±å¯** â†’ `--fix --allow-remove-files` ï¼‹ ãã®å¾Œã« `biome check --write` ã§ import æ•´ç†ã€‚

ã“ã‚Œã§ **æœ€æ–° Knip ã®ä»•æ§˜ã«æ²¿ã£ãŸãƒ‡ãƒƒãƒ‰ã‚³ãƒ¼ãƒ‰æ¤œå‡ºãƒ•ãƒ­ãƒ¼** ãŒçµ„ã‚ã¾ã™ã€‚

---
