# Swiftリンターとクロージャー注意

日付: 2024-09-19

---

## 👤 ユーザー
*2024/9/19 9:02:32*

Swiftのリンターでクロージャーの強参照を注意してくれるものってなかったっけ？

---

## 🤖 アシスタント
*2024/9/19 9:02:53*

Swiftのリンターでクロージャーの強参照（循環参照）を指摘してくれるものとしては、`SwiftLint` が非常に有名です。`SwiftLint` には `weak_delegate` というルールがあり、このルールは特に `delegate` プロパティで弱参照を使うべき場面を指摘してくれます。ただし、クロージャーのキャプチャリストについてはデフォルトで細かくチェックするルールは含まれていません。

しかし、`SwiftLint` をカスタムルールで拡張することもできるので、クロージャーにおける強参照の注意喚起を追加で設定することが可能です。

もう一つの選択肢として、Xcode自体がビルド時に「[循環参照](https://developer.apple.com/documentation/swift/choosing_between_structures_and_classes)」が発生している可能性があることを示唆してくれる場合があります。これはクロージャー内で `self` を強参照してしまっているときに警告として表示されることがあります。

もし強参照のキャプチャを自動的にチェックしたい場合、`SwiftLint` を使うか、コードレビューで定期的に確認するプロセスが有効です。

---
