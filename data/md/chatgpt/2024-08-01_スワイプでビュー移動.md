# ã‚¹ãƒ¯ã‚¤ãƒ—ã§ãƒ“ãƒ¥ãƒ¼ç§»å‹•

æ—¥ä»˜: 2024-08-01

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/8/1 11:51:25*

SwiftUIã§å››è§’ã®Viewã‚’ç½®ã
ãã®å››è§’ã®Viewã¯ä¸‹ã‚¹ãƒ¯ã‚¤ãƒ—ã«ã‚ˆã£ã¦ä¸‹ç§»å‹•ãŒå¯èƒ½ã§ã‚ã‚‹
ãã®å››è§’ã®ä¸‹ã«å…¨ãåŒã˜ã‚µã‚¤ã‚ºã§å››è§’ã®ViewãŒè£ã«é‡ãªã£ã¦ã¦ã€ãã®ä¸Šéƒ¨ã«ã€Œâ†“ã‚¹ãƒ¯ã‚¤ãƒ—ã§ã‚³ãƒ¡ãƒ³ãƒˆã€ã¨è¡¨ç¤ºã—ã¦ã€ä¸€å®šé‡ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ãŸã“ã¨ã‚’æ¤œçŸ¥ã—ã¦åˆ¥ã®Viewã‚’ç«‹ã¡ä¸Šã’ã‚‹å‡¦ç†ã‚’ã—ãŸã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/8/1 11:51:39*

SwiftUIã§ä¸‹ã‚¹ãƒ¯ã‚¤ãƒ—ã«ã‚ˆã£ã¦åˆ¥ã®Viewã‚’ç«‹ã¡ä¸Šã’ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹ã«ã¯ã€`DragGesture`ã¨`GeometryReader`ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã¨åŠ¹æœçš„ã§ã™ã€‚ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€å››è§’ã„Viewã‚’ã‚¹ãƒ¯ã‚¤ãƒ—ã—ã¦ã€ä¸€å®šé‡ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã•ã‚ŒãŸã“ã¨ã‚’æ¤œçŸ¥ã—ã¦æ–°ã—ã„Viewã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

```swift
import SwiftUI

struct ContentView: View {
    @State private var offsetY: CGFloat = 0
    @State private var showNewView: Bool = false

    var body: some View {
        ZStack {
            if showNewView {
                NewView()
                    .transition(.move(edge: .bottom))
            } else {
                VStack {
                    Spacer()
                    Text("â†“ã‚¹ãƒ¯ã‚¤ãƒ—ã§ã‚³ãƒ¡ãƒ³ãƒˆ")
                        .padding()
                        .background(Color.gray.opacity(0.5))
                        .cornerRadius(10)
                        .padding(.bottom, 20)
                }

                VStack {
                    Rectangle()
                        .fill(Color.blue)
                        .frame(height: 200)
                        .offset(y: offsetY)
                        .gesture(
                            DragGesture()
                                .onChanged { value in
                                    self.offsetY = value.translation.height
                                }
                                .onEnded { value in
                                    if value.translation.height > 100 {
                                        withAnimation {
                                            self.showNewView = true
                                        }
                                    } else {
                                        withAnimation {
                                            self.offsetY = 0
                                        }
                                    }
                                }
                        )
                    
                    Rectangle()
                        .fill(Color.green)
                        .frame(height: 200)
                        .offset(y: -200 + offsetY)
                }
            }
        }
    }
}

struct NewView: View {
    var body: some View {
        VStack {
            Text("æ–°ã—ã„ãƒ“ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã—ãŸ")
                .font(.largeTitle)
                .padding()
            Spacer()
        }
        .background(Color.white)
    }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        ContentView()
    }
}
```

### è§£èª¬
1. `ContentView`ã«ã¯2ã¤ã®`Rectangle`ãƒ“ãƒ¥ãƒ¼ã‚’é‡ã­ã¦ã„ã¾ã™ã€‚
2. æœ€åˆã®`Rectangle`ã¯é’è‰²ã§ã€ãƒ‰ãƒ©ãƒƒã‚°æ“ä½œã«ã‚ˆã£ã¦å‚ç›´æ–¹å‘ã«ç§»å‹•ã—ã¾ã™ã€‚
3. 2ã¤ç›®ã®`Rectangle`ã¯ç·‘è‰²ã§ã€é’ã„`Rectangle`ã®è£ã«éš ã‚Œã‚‹ã‚ˆã†ã«é…ç½®ã•ã‚Œã¦ã„ã¾ã™ã€‚
4. `DragGesture`ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¹ãƒ¯ã‚¤ãƒ—ã®å‹•ãã‚’æ¤œçŸ¥ã—ã€ä¸€å®šé‡ï¼ˆã“ã®ä¾‹ã§ã¯100ãƒã‚¤ãƒ³ãƒˆï¼‰ã‚¹ãƒ¯ã‚¤ãƒ—ã•ã‚ŒãŸå ´åˆã«æ–°ã—ã„ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
5. `showNewView`ãŒ`true`ã«ãªã£ãŸå ´åˆã€`NewView`ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

ã“ã®ä¾‹ã‚’å…ƒã«ã€å…·ä½“çš„ãªè¦ä»¶ã«åˆã‚ã›ã¦èª¿æ•´ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/8/1 11:52:25*

ContentViewã‚’TestViewã¨ã—ã¦ã»ã—ã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/8/1 11:52:39*

äº†è§£ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã¯ã€`ContentView`ã‚’`TestView`ã¨ã—ã¦ãƒªãƒãƒ¼ãƒ ã—ã€åŒã˜æ©Ÿèƒ½ã‚’æŒã¤SwiftUIã®ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚

```swift
import SwiftUI

struct TestView: View {
    @State private var offsetY: CGFloat = 0
    @State private var showNewView: Bool = false

    var body: some View {
        ZStack {
            if showNewView {
                NewView()
                    .transition(.move(edge: .bottom))
            } else {
                VStack {
                    Spacer()
                    Text("â†“ã‚¹ãƒ¯ã‚¤ãƒ—ã§ã‚³ãƒ¡ãƒ³ãƒˆ")
                        .padding()
                        .background(Color.gray.opacity(0.5))
                        .cornerRadius(10)
                        .padding(.bottom, 20)
                }

                VStack {
                    Rectangle()
                        .fill(Color.blue)
                        .frame(height: 200)
                        .offset(y: offsetY)
                        .gesture(
                            DragGesture()
                                .onChanged { value in
                                    self.offsetY = value.translation.height
                                }
                                .onEnded { value in
                                    if value.translation.height > 100 {
                                        withAnimation {
                                            self.showNewView = true
                                        }
                                    } else {
                                        withAnimation {
                                            self.offsetY = 0
                                        }
                                    }
                                }
                        )
                    
                    Rectangle()
                        .fill(Color.green)
                        .frame(height: 200)
                        .offset(y: -200 + offsetY)
                }
            }
        }
    }
}

struct NewView: View {
    var body: some View {
        VStack {
            Text("æ–°ã—ã„ãƒ“ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã—ãŸ")
                .font(.largeTitle)
                .padding()
            Spacer()
        }
        .background(Color.white)
    }
}

struct TestView_Previews: PreviewProvider {
    static var previews: some View {
        TestView()
    }
}
```

### è§£èª¬
- `ContentView`ã®åå‰ã‚’`TestView`ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚
- ãã®ä»–ã®ã‚³ãƒ¼ãƒ‰ã¯å¤‰æ›´ã—ã¦ã„ã¾ã›ã‚“ã®ã§ã€åŒã˜æ©Ÿèƒ½ã‚’æŒã£ã¦ã„ã¾ã™ã€‚

ã“ã®`TestView`ã‚’ä½¿ã£ã¦ã€ç›®çš„ã®æ©Ÿèƒ½ã‚’ç¢ºèªã§ãã¾ã™ã€‚

---
