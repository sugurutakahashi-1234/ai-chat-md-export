# ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ä¿®æ­£ææ¡ˆ

æ—¥ä»˜: 2024-12-20

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/12/20 16:47:37*

ã“ã®ç”»é¢ã‚’è¡¨ç¤ºã—ãŸç¬é–“ã«ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã—ã¦ã—ã¾ã†

import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import 'package:hooks_riverpod/hooks_riverpod.dart';
import 'package:snpit_guild_app/domain/screen.dart';

class MyPage extends HookConsumerWidget {
  const MyPage({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final deckList = List&lt;String&gt;.generate(4, (index) =&gt; 'Deck $index');

    return Scaffold(
      appBar: AppBar(
        title: const Text('My Page'),
      ),
      body: Padding(
        padding: const EdgeInsets.symmetric(horizontal: 24),
        child: SingleChildScrollView(
          child: Column(
            children: [
              // User
              Row(
                children: [
                  const CircleAvatar(
                    child: Icon(Icons.person),
                  ),
                  const SizedBox(width: 16),
                  IconButton(
                    icon: const Icon(Icons.settings),
                    onPressed: () {
                      context.push(Screen.profile.path);
                    },
                  ),
                ],
              ),

              const SizedBox(height: 24),

              // Deck
              DecoratedBox(
                decoration: BoxDecoration(
                  borderRadius: BorderRadius.circular(8),
                ),
                child: Padding(
                  padding: const EdgeInsets.all(16),
                  child: Column(
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: [
                      Row(
                        children: [
                          const Text(
                            'Decks',
                          ),
                          const Spacer(),
                          ElevatedButton(
                            onPressed: () {
                              context.push(Screen.deckDetail.path);
                            },
                            child: const Text('Edit deck'),
                          ),
                        ],
                      ),
                      const SizedBox(height: 16),
                      ListView.builder(
                        shrinkWrap: true,
                        physics: const NeverScrollableScrollPhysics(),
                        itemCount: deckList.length,
                        itemBuilder: (context, index) {
                          return Card(
                            margin: const EdgeInsets.symmetric(vertical: 8),
                            child: ListTile(
                              leading: const Icon(Icons.camera_alt),
                              title: Text(deckList[index]),
                            ),
                          );
                        },
                      ),
                    ],
                  ),
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }
}

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/12/20 16:48:00*

ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹ã¨ã€ç”»é¢ã‚’è¡¨ç¤ºã™ã‚‹éš›ã«ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã®åŸå› ã¨ãªã‚Šå¾—ã‚‹éƒ¨åˆ†ãŒã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã®ã‚ˆã†ãªå•é¡ŒãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚

### å•é¡Œç‚¹ã¨è§£æ±ºæ–¹æ³•

1. **`ListView.builder`ãŒ`SingleChildScrollView`ã®ä¸­ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹**
   - `ListView.builder`ã¯è‡ªèº«ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ãªã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã§ã™ãŒã€`SingleChildScrollView`ã®ä¸­ã§ä½¿ç”¨ã•ã‚Œã‚‹ã¨ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é ˜åŸŸãŒç«¶åˆã—ã€ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
   - è§£æ±ºæ–¹æ³•: `ListView.builder`ã‚’`Column`ã«å¤‰æ›´ã™ã‚‹ã‹ã€`SingleChildScrollView`ã‚’å‰Šé™¤ã—ã¾ã™ã€‚

2. **`ShrinkWrap`ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã®æ³¨æ„**
   - `shrinkWrap: true`ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é ˜åŸŸãŒåˆ¶ç´„ã•ã‚Œã¾ã™ãŒã€å¤§é‡ã®ã‚¢ã‚¤ãƒ†ãƒ ãŒã‚ã‚‹å ´åˆã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ä½ä¸‹ã‚„ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã®åŸå› ã«ãªã‚Šã¾ã™ã€‚

3. **`Screen`ã‚¯ãƒ©ã‚¹ãŒæ­£ã—ãå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª**
   - `Screen.profile.path`ã‚„`Screen.deckDetail.path`ãŒé©åˆ‡ã«å®šç¾©ã•ã‚Œã¦ã„ãªã„å ´åˆã€`context.push()`ãŒå®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã‚’å¼•ãèµ·ã“ã™å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

### ä¿®æ­£ã‚³ãƒ¼ãƒ‰ä¾‹
ä»¥ä¸‹ã¯ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã‚’é˜²ãä¿®æ­£ç‰ˆã®ã‚³ãƒ¼ãƒ‰ä¾‹ã§ã™ã€‚

```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import 'package:hooks_riverpod/hooks_riverpod.dart';
import 'package:snpit_guild_app/domain/screen.dart';

class MyPage extends HookConsumerWidget {
  const MyPage({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final deckList = List<String>.generate(4, (index) => 'Deck $index');

    return Scaffold(
      appBar: AppBar(
        title: const Text('My Page'),
      ),
      body: Padding(
        padding: const EdgeInsets.symmetric(horizontal: 24),
        child: Column(
          children: [
            // User
            Row(
              children: [
                const CircleAvatar(
                  child: Icon(Icons.person),
                ),
                const SizedBox(width: 16),
                IconButton(
                  icon: const Icon(Icons.settings),
                  onPressed: () {
                    context.push(Screen.profile.path);
                  },
                ),
              ],
            ),

            const SizedBox(height: 24),

            // Deck
            DecoratedBox(
              decoration: BoxDecoration(
                borderRadius: BorderRadius.circular(8),
              ),
              child: Padding(
                padding: const EdgeInsets.all(16),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Row(
                      children: [
                        const Text('Decks'),
                        const Spacer(),
                        ElevatedButton(
                          onPressed: () {
                            context.push(Screen.deckDetail.path);
                          },
                          child: const Text('Edit deck'),
                        ),
                      ],
                    ),
                    const SizedBox(height: 16),
                    // Changed from ListView.builder to Column for better compatibility
                    Column(
                      children: deckList.map((deck) {
                        return Card(
                          margin: const EdgeInsets.symmetric(vertical: 8),
                          child: ListTile(
                            leading: const Icon(Icons.camera_alt),
                            title: Text(deck),
                          ),
                        );
                      }).toList(),
                    ),
                  ],
                ),
              ),
            ),
          ],
        ),
      ),
    );
  }
}
```

### ä¸»ãªå¤‰æ›´ç‚¹
1. `ListView.builder`ã‚’`Column`ã«ç½®ãæ›ãˆã€`deckList`ã‚’ãƒãƒƒãƒ”ãƒ³ã‚°ã—ã¦ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ä½œæˆã€‚
2. `SingleChildScrollView`ã‚’å‰Šé™¤ã—ã¦ãƒã‚¹ãƒˆã•ã‚ŒãŸã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é ˜åŸŸã‚’å›é¿ã€‚
3. å¿…è¦ã«å¿œã˜ã¦ã€`Screen`ã‚¯ãƒ©ã‚¹ã®å®šç¾©ã‚’ç¢ºèªã€‚

ã“ã‚Œã§ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã™ã‚‹ã“ã¨ãªãã€æœŸå¾…é€šã‚Šå‹•ä½œã™ã‚‹ã¯ãšã§ã™ã€‚å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆã¯ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚„è©³ç´°ã‚’æ•™ãˆã¦ãã ã•ã„ï¼

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/12/20 16:50:02*

ã“ã‚“ãªã‚¨ãƒ©ãƒ¼ã ã£ãŸ



â•â•â•â•â•â•â•â• Exception caught by rendering library â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following assertion was thrown during performLayout():
BoxConstraints forces an infinite width.
These invalid constraints were provided to RenderPhysicalShape's layout() function by the following function, which probably computed the invalid constraints in question:
  RenderConstrainedBox.performLayout (package:flutter/src/rendering/proxy_box.dart:297:14)
The offending constraints were: BoxConstraints(w=Infinity, 48.0&lt;=h&lt;=Infinity)

The relevant error-causing widget was:
    ElevatedButton ElevatedButton:file:///Users/sugurutakahashi/git/gallusys/snpit_guild_app/lib/presentation/pages/my_page.dart:53:25

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/12/20 16:50:15*

ã“ã®ã‚¨ãƒ©ãƒ¼ã¯ã€`ElevatedButton`ãŒç„¡é™ã®å¹…ã‚’æŒã¤ã‚³ãƒ³ãƒ†ãƒŠã«é…ç½®ã•ã‚ŒãŸãŸã‚ã«ç™ºç”Ÿã—ã¦ã„ã¾ã™ã€‚ã‚¨ãƒ©ãƒ¼ã®åŸå› ã¯ã€`Row`å†…ã«`Spacer`ã‚’ä½¿ç”¨ã—ã¦`ElevatedButton`ã®éš£ã«ç©ºé–“ã‚’ä½œã£ãŸã“ã¨ã§ã€`ElevatedButton`ãŒç„¡é™ã®å¹…ã®åˆ¶ç´„ã‚’å—ã‘ãŸã“ã¨ã§ã™ã€‚

### è§£æ±ºæ–¹æ³•
`ElevatedButton`ã®å¹…ã‚’åˆ¶ç´„ã™ã‚‹ãŸã‚ã«ã€`Row`å†…ã®å­è¦ç´ ã«é©åˆ‡ãªã‚µã‚¤ã‚ºåˆ¶ç´„ã‚’ä¸ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ä»¥ä¸‹ã®ä¿®æ­£ç‰ˆã‚³ãƒ¼ãƒ‰ã§ã¯ã€`Row`å†…ã®`ElevatedButton`ã‚’`SizedBox`ã‚„`Flexible`ã§ãƒ©ãƒƒãƒ—ã—ã¦ã€å¹…ã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚

---

### ä¿®æ­£ã‚³ãƒ¼ãƒ‰ä¾‹

```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import 'package:hooks_riverpod/hooks_riverpod.dart';
import 'package:snpit_guild_app/domain/screen.dart';

class MyPage extends HookConsumerWidget {
  const MyPage({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final deckList = List&lt;String&gt;.generate(4, (index) =&gt; 'Deck $index');

    return Scaffold(
      appBar: AppBar(
        title: const Text('My Page'),
      ),
      body: Padding(
        padding: const EdgeInsets.symmetric(horizontal: 24),
        child: Column(
          children: [
            // User
            Row(
              children: [
                const CircleAvatar(
                  child: Icon(Icons.person),
                ),
                const SizedBox(width: 16),
                IconButton(
                  icon: const Icon(Icons.settings),
                  onPressed: () {
                    context.push(Screen.profile.path);
                  },
                ),
              ],
            ),

            const SizedBox(height: 24),

            // Deck
            DecoratedBox(
              decoration: BoxDecoration(
                borderRadius: BorderRadius.circular(8),
              ),
              child: Padding(
                padding: const EdgeInsets.all(16),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Row(
                      children: [
                        const Text('Decks'),
                        const Spacer(),
                        // Constrain ElevatedButton's width using SizedBox
                        SizedBox(
                          height: 36,
                          child: ElevatedButton(
                            onPressed: () {
                              context.push(Screen.deckDetail.path);
                            },
                            child: const Text('Edit deck'),
                          ),
                        ),

---
