# Flutterãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼è§£æ±º

æ—¥ä»˜: 2024-12-11

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/12/11 22:38:05*

ã“ã®ã‚¨ãƒ©ãƒ¼ã¯ã©ã†ã™ã‚Œã°ã„ã„?
flutterãªã‚“ã ã€‚

Launching lib/main.dart on sdk gphone64 arm64 in debug mode...
Warning: SDK processing. This version only understands SDK XML versions up to 3 but an SDK XML file of version 4 was encountered. This can happen if you use versions of Android Studio and the command-line tools that were released at different times.

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':flutter_plugin_android_lifecycle:compileDebugJavaWithJavac'.
&gt; Could not resolve all files for configuration ':flutter_plugin_android_lifecycle:androidJdkImage'.
   &gt; Failed to transform core-for-system-modules.jar to match attributes {artifactType=_internal_android_jdk_image, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.
      &gt; Execution failed for JdkImageTransform: /Users/sugurutakahashi/Library/Android/sdk/platforms/android-34/core-for-system-modules.jar.
         &gt; Error while executing process /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/jlink with arguments {--module-path /Users/sugurutakahashi/.gradle/caches/transforms-3/d9e926982c2c139ff9125eb7b6be4144/transformed/output/temp/jmod --add-modules java.base --output /Users/sugurutakahashi/.gradle/caches/transforms-3/d9e926982c2c139ff9125eb7b6be4144/transformed/output/jdkImage --disable-plugin system-modules}

* Try:
&gt; Run with --stacktrace option to get the stack trace.
&gt; Run with --info or --debug option to get more log output.
&gt; Run with --scan to get full insights.
&gt; Get more help at https://help.gradle.org.

BUILD FAILED in 1m 35s
Error: Gradle task assembleDebug failed with exit code 1

Exited (1).

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/12/11 22:38:17*

ã“ã®ã‚¨ãƒ©ãƒ¼ã¯ã€Flutterãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰ä¸­ã«GradleãŒAndroid SDKã¾ãŸã¯Javaã®ç’°å¢ƒã«é–¢é€£ã™ã‚‹å•é¡Œã«é­é‡ã—ãŸå ´åˆã«ç™ºç”Ÿã—ã¾ã™ã€‚ä»¥ä¸‹ã®æ‰‹é †ã§è§£æ±ºã‚’è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

---

### 1. **Android SDKã¨Command-line Toolsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª**
SDK XMLãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã«é–¢é€£ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚Android Studioã¨ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ãŒç•°ãªã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚ã‚‹ã¨å•é¡ŒãŒç™ºç”Ÿã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

- **Android Studioã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ**: æœ€æ–°ç‰ˆã«æ›´æ–°ã—ã¦ãã ã•ã„ã€‚
- **Android SDK Command-line Toolsã®ç¢ºèª**:
  1. Android Studioã‚’é–‹ãã¾ã™ã€‚
  2. **Preferences** â†’ **Appearance & Behavior** â†’ **System Settings** â†’ **Android SDK**ã«ç§»å‹•ã—ã¾ã™ã€‚
  3. **SDK Tools**ã‚¿ãƒ–ã§ã€ŒAndroid SDK Command-line Toolsã€ã‚’æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ›´æ–°ã—ã¾ã™ã€‚

---

### 2. **Javaã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª**
ã“ã®ã‚¨ãƒ©ãƒ¼ã¯ä¸é©åˆ‡ãªJavaãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ãƒ“ãƒ«ãƒ‰ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ç™ºç”Ÿã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

- **Javaãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª**:  
  ```bash
  java -version
  ```
  Flutterã¯Java 11ã¾ãŸã¯17ã‚’æ¨å¥¨ã—ã¦ã„ã¾ã™ã€‚

- **Javaãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’åˆ‡ã‚Šæ›¿ãˆ (macOS)**:
  ```bash
  export JAVA_HOME=$(/usr/libexec/java_home -v 17)
  ```
  Flutterãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒJava 17ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚

---

### 3. **Gradleã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚¯ãƒªã‚¢**
Gradleã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒç ´æã—ã¦ã„ã‚‹å ´åˆã‚‚ã‚¨ãƒ©ãƒ¼ã®åŸå› ã«ãªã‚Šã¾ã™ã€‚

- Gradleã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹:
  ```bash
  rm -rf ~/.gradle/caches/
  flutter clean
  flutter pub get
  flutter run
  ```

---

### 4. **Flutterã¨Pluginsã®æ›´æ–°**
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚„ä¾å­˜é–¢ä¿‚ãŒå¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å•é¡Œã‚’å¼•ãèµ·ã“ã—ã¦ã„ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

- Flutterã‚’æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ›´æ–°:
  ```bash
  flutter upgrade
  ```

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¾å­˜é–¢ä¿‚ã®æ›´æ–°:
  ```bash
  flutter pub upgrade
  ```

---

### 5. **Gradleã®è¨­å®šã‚’ç¢ºèª**
`android/build.gradle`ã¾ãŸã¯`android/gradle.properties`ã«é©åˆ‡ãªGradleè¨­å®šã‚’ç¢ºèªã—ã¾ã™ã€‚

- `build.gradle`ã§æ¬¡ã®ã‚ˆã†ãªè¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„:
  ```gradle
  compileOptions {
      sourceCompatibility JavaVersion.VERSION_11
      targetCompatibility JavaVersion.VERSION_11
  }
  ```

- ã¾ãŸã€`gradle-wrapper.properties`ã§Gradleãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æœ€æ–°ã®å®‰å®šç‰ˆã«æ›´æ–°ã—ã¾ã™:
  ```properties
  distributionUrl=https\://services.gradle.org/distributions/gradle-8.1.1-all.zip
  ```

---

### 6. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å‰Šé™¤å¾Œã€å†ãƒ“ãƒ«ãƒ‰**
ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å‰Šé™¤ã—ãŸå¾Œã«å†ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

```bash
flutter clean
flutter pub get
flutter run
```

---

### 7. **JDKã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆã€Android Studioã¨ä¸€ç·’ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹JDKã‚’ä½¿ç”¨ã™ã‚‹è¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

```bash
export JAVA_HOME="/Applications/Android Studio.app/Contents/jbr/Contents/Home"
flutter clean
flutter run
```

---

### 8. **Flutter Doctorã®ç¢ºèª**
æœ€å¾Œã«ã€`flutter doctor`ã‚³ãƒãƒ³ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

```bash
flutter doctor
```

ã“ã“ã§ä¸è¶³ã—ã¦ã„ã‚‹ä¾å­˜é–¢ä¿‚ã‚„ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Œã°ã€é©åˆ‡ã«å¯¾å¿œã—ã¦ãã ã•ã„ã€‚

---

ã“ã‚Œã‚‰ã®æ‰‹é †ã‚’è©¦ã—ã¦ã‚‚è§£æ±ºã—ãªã„å ´åˆã¯ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è©³ç´°ã‚„ç’°å¢ƒæƒ…å ±ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚è¿½åŠ ã®ã‚µãƒãƒ¼ãƒˆã‚’æä¾›ã—ã¾ã™ï¼

---
