# GoRouterã§ç®¡ç†ã™ã‚‹

æ—¥ä»˜: 2025-01-07

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/01/07 15:20:50*

import 'package:flutter/material.dart';
import 'package:flutter_hooks/flutter_hooks.dart';
import 'package:go_router/go_router.dart';

class TextEditingPage extends HookWidget {
  const TextEditingPage({
    super.key,
    required this.title,
    required this.initialText,
    required this.onSave,
  });

  final String title;
  final String initialText;
  final void Function(String updatedText) onSave;

  @override
  Widget build(BuildContext context) {
    final textController = useTextEditingController(text: initialText);

    return Scaffold(
      appBar: AppBar(
        title: Text(title),
        actions: [
          ElevatedButton(
            onPressed: () {
              final updatedText = textController.text;
              onSave(updatedText);
              context.pop();
            },
            child: const Text(
              'Save',
            ),
          ),
        ],
      ),
      body: Padding(
        padding: const EdgeInsets.all(16.0),
        child: TextField(
          controller: textController,
          decoration: const InputDecoration(
            labelText: 'Edit Text',
            border: UnderlineInputBorder(),
          ),
        ),
      ),
    );
  }
}

ã“ã‚Œã‚’ã‚´ãƒ¼ãƒ«ã‚¿ãƒ¼ã§ç®¡ç†ã—ãŸã„ã€‚

import 'package:go_router/go_router.dart';
import 'package:snpit_guild_app/domain/screen.dart';
import 'package:snpit_guild_app/presentation/pages/camera_list_page.dart';
import 'package:snpit_guild_app/presentation/pages/debug_menu_page.dart';
import 'package:snpit_guild_app/presentation/pages/debug_utility_page.dart';
import 'package:snpit_guild_app/presentation/pages/deck_detail_page.dart';
import 'package:snpit_guild_app/presentation/pages/guild_code_page.dart';
import 'package:snpit_guild_app/presentation/pages/guild_create_page.dart';
import 'package:snpit_guild_app/presentation/pages/guild_manage_page.dart';
import 'package:snpit_guild_app/presentation/pages/guild_page.dart';
import 'package:snpit_guild_app/presentation/pages/guild_request_page.dart';
import 'package:snpit_guild_app/presentation/pages/login_page.dart';
import 'package:snpit_guild_app/presentation/pages/map_page.dart';
import 'package:snpit_guild_app/presentation/pages/my_page.dart';
import 'package:snpit_guild_app/presentation/pages/notification_list_page.dart';
import 'package:snpit_guild_app/presentation/pages/profile_page.dart';
import 'package:snpit_guild_app/presentation/pages/shootable_spot_detail_page.dart';
import 'package:snpit_guild_app/presentation/pages/shooting_page.dart';
import 'package:snpit_guild_app/presentation/pages/snap_confirm_page.dart';
import 'package:snpit_guild_app/presentation/pages/spot_detail_page.dart';
import 'package:snpit_guild_app/presentation/pages/spot_list_page.dart';
import 'package:snpit_guild_app/presentation/pages/tab_page.dart';
import 'package:snpit_guild_app/presentation/pages/verification_code_page.dart';
import 'package:snpit_guild_app/presentation/pages/wallet_page.dart';

final GoRouter router = GoRouter(
  initialLocation: Screen.login.path,
  routes: [
    GoRoute(
      path: Screen.debugMenu.path,
      builder: (context, state) =&gt; const DebugMenuPage(),
    ),
    GoRoute(
      path: Screen.debugUtility.path,
      builder: (context, state) =&gt; const DebugUtilityPage(),
    ),
    GoRoute(
      path: Screen.login.path,
      builder: (context, state) =&gt; const LoginPage(),
    ),
    GoRoute(
      path: Screen.verificationCode.path,
      builder: (context, state) =&gt; const VerificationCodePage(),
    ),
    GoRoute(
      path: Screen.myPage.path,
      builder: (context, state) =&gt; const MyPage(),
    ),
    GoRoute(
      path: Screen.profile.path,
      builder: (context, state) =&gt; const ProfilePage(),
    ),
    GoRoute(
      path: Screen.deckDetail.path,
      builder: (context, state) =&gt; const DeckDetailPage(),
    ),
    GoRoute(
      path: Screen.cameraList.path,
      builder: (context, state) =&gt; const CameraListPage(),
    ),
    GoRoute(
      path: Screen.notificationList.path,
      builder: (context, state) =&gt; const NotificationListPage(),
    ),
    GoRoute(
      path: Screen.wallet.path,
      builder: (context, state) =&gt; const WalletPage(),
    ),
    GoRoute(
      path: Screen.spotList.path,
      builder: (context, state) =&gt; const SpotListPage(),
    ),
    GoRoute(
      path: Screen.spotDetail.path,
      builder: (context, state) =&gt; const SpotDetailPage(),
    ),
    GoRoute(
      path: Screen.shootableSpotDetail.path,
      builder: (context, state) =&gt; const ShootableSpotDetailPage(),
    ),
    GoRoute(
      path: Screen.shooting.path,
      builder: (context, state) =&gt; const ShootingPage(),
    ),
    GoRoute(
      path: Screen.snapConfirm.path,
      builder: (context, state) =&gt; const SnapConfirmPage(),
    ),
    GoRoute(
      path: Screen.guildCreate.path,
      builder: (context, state) =&gt; const GuildCreatePage(),
    ),
    GoRoute(
      path: Screen.guildCode.path,
      builder: (context, state) =&gt; const GuildCodePage(),
    ),
    GoRoute(
      path: Screen.guildRequest.path,
      builder: (context, state) =&gt; const GuildRequestPage(),
    ),
    GoRoute(
      path: Screen.guildManage.path,
      builder: (context, state) =&gt; const GuildManagePage(),
    ),
    StatefulShellRoute.indexedStack(
      builder: (context, state, navigationShell) =&gt;
          TabPage(navigationShell: navigationShell),
      branches: [
        StatefulShellBranch(
          routes: [
            GoRoute(
              path: Screen.map.path,
              builder: (context, state) =&gt; const MapPage(),
            ),
          ],
        ),
        StatefulShellBranch(
          routes: [
            GoRoute(
              path: Screen.guild.path,
              builder: (context, state) =&gt; const GuildPage(),
            ),
          ],
        ),
      ],
    ),
  ],
);

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/01/07 15:21:00*

To manage the `TextEditingPage` using `GoRouter`, you need to add a route definition in the router configuration. Additionally, since `TextEditingPage` requires parameters (`title`, `initialText`, and `onSave`), you can pass them through the `GoRoute`'s `state.extra` or as query parameters (if `onSave` can be reconstructed within the target page).

Hereâ€™s how to integrate `TextEditingPage`:

### Updated `GoRouter` Configuration

```dart
GoRoute(
  path: Screen.textEditing.path, // Add a new path in Screen enum
  builder: (context, state) {
    final Map<String, dynamic> extra = state.extra as Map<String, dynamic>;
    return TextEditingPage(
      title: extra['title'] as String,
      initialText: extra['initialText'] as String,
      onSave: extra['onSave'] as void Function(String),
    );
  },
),
```

### Example Navigation to `TextEditingPage`

When navigating to the `TextEditingPage`, pass the required parameters through `GoRouter`'s `context.push()` or `context.go()`:

```dart
context.push(
  Screen.textEditing.path,
  extra: {
    'title': 'Edit Profile',
    'initialText': 'Initial content here',
    'onSave': (updatedText) {
      // Handle the save action
      print('Saved text: $updatedText');
    },
  },
);
```

### Adding a Path in the `Screen` Enum

Ensure that you define a path for `TextEditingPage` in your `Screen` enum:

```dart
enum Screen {
  // Other paths
  textEditing('/text-editing'),
  // Add other paths if necessary
}
```

This approach ensures that `TextEditingPage` can be dynamically configured with parameters while remaining managed by `GoRouter`.

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/01/07 15:50:27*

GoRoute(
      path: Screen.textEditing.path,
      builder: (context, state) {
        final extra = state.extra! as Map&lt;String, dynamic&gt;;
        return TextEditingPage(
          title: extra['title'] as String,
          initialText: extra['initialText'] as String,
          onSave: extra['onSave'] as void Function(String),
        );
      },
    ),

ã“ã‚Œã¯mapã§ã¯ãªãæ§‹é€ ä½“ã‚’ä½¿ã†ã®ã¯ãƒ€ãƒ¡ãªã®ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/01/07 15:50:40*

æ§‹é€ ä½“ã‚’ä½¿ã†ã“ã¨ã¯å•é¡Œã‚ã‚Šã¾ã›ã‚“ã—ã€ã‚€ã—ã‚æ¨å¥¨ã•ã‚Œã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚æ§‹é€ ä½“ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€æ¸¡ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã®å‹å®‰å…¨æ€§ãŒå‘ä¸Šã—ã€æ„å›³ã—ãªã„ã‚¨ãƒ©ãƒ¼ã‚’é˜²ãã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã‚‚å‘ä¸Šã—ã¾ã™ã€‚

ä»¥ä¸‹ã¯ã€æ§‹é€ ä½“ã‚’ä½¿ã£ãŸæ–¹æ³•ã®ä¾‹ã§ã™ã€‚

### æ§‹é€ ä½“ã®å®šç¾©

```dart
class TextEditingPageArgs {
  final String title;
  final String initialText;
  final void Function(String updatedText) onSave;

  TextEditingPageArgs({
    required this.title,
    required this.initialText,
    required this.onSave,
  });
}
```

### `GoRoute`ã®å®šç¾©

`state.extra`ã§æ§‹é€ ä½“ã‚’å—ã‘å–ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

```dart
GoRoute(
  path: Screen.textEditing.path,
  builder: (context, state) {
    final args = state.extra! as TextEditingPageArgs;
    return TextEditingPage(
      title: args.title,
      initialText: args.initialText,
      onSave: args.onSave,
    );
  },
),
```

### é·ç§»æ™‚ã®ä¾‹

ä»¥ä¸‹ã®ã‚ˆã†ã«æ§‹é€ ä½“ã‚’æ¸¡ã—ã¦é·ç§»ã—ã¾ã™ã€‚

```dart
context.push(
  Screen.textEditing.path,
  extra: TextEditingPageArgs(
    title: 'Edit Profile',
    initialText: 'Initial content here',
    onSave: (updatedText) {
      print('Saved text: $updatedText');
    },
  ),
);
```

### æ§‹é€ ä½“ã‚’ä½¿ã†ãƒ¡ãƒªãƒƒãƒˆ

1. **å‹å®‰å…¨æ€§ã®å‘ä¸Š**  
   `Map<String, dynamic>`ã‚’ä½¿ã†å ´åˆã€ã‚­ãƒ¼ãŒé–“é•ã£ã¦ã„ãŸã‚Šã€å‹ãŒä¸€è‡´ã—ãªã‹ã£ãŸã‚Šã—ã¦ã‚‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã¯æ¤œå‡ºã§ãã¾ã›ã‚“ã€‚ä¸€æ–¹ã§ã€æ§‹é€ ä½“ã‚’ä½¿ã†å ´åˆã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å‹ãƒã‚§ãƒƒã‚¯ãŒè¡Œã‚ã‚Œã‚‹ãŸã‚ã€å®‰å…¨æ€§ãŒå‘ä¸Šã—ã¾ã™ã€‚

2. **ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§å‘ä¸Š**  
   æ§‹é€ ä½“ã‚’ä½¿ã†ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã‹ã‚‰å¼•æ•°ã®æ„å‘³ãŒæ˜ç¢ºã«ãªã‚Šã¾ã™ã€‚`extra['title']`ã‚„`extra['onSave']`ã®ã‚ˆã†ãªãƒã‚¸ãƒƒã‚¯æ–‡å­—åˆ—ã‚’é¿ã‘ã‚‰ã‚Œã¾ã™ã€‚

3. **å¤‰æ›´ã®æŸ”è»Ÿæ€§**  
   æ§‹é€ ä½“ã«æ–°ã—ã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ã™ã‚‹å ´åˆã€å¤‰æ›´ç‚¹ãŒé›†ä¸­ã—ã¦ã„ã‚‹ãŸã‚ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒç°¡å˜ã«ãªã‚Šã¾ã™ã€‚

### ã¾ã¨ã‚

æ§‹é€ ä½“ã‚’ä½¿ã†ã®ã¯éå¸¸ã«è‰¯ã„è¨­è¨ˆã§ã‚ã‚Šã€Flutterã‚„Dartã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§ã¯ã‚ˆãä½¿ã‚ã‚Œã¾ã™ã€‚`Map<String, dynamic>`ã‚’ä½¿ã†ã®ã¯çŸ­æœŸçš„ã«ã¯ç°¡ä¾¿ã§ã™ãŒã€å°†æ¥çš„ãªã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚„å‹å®‰å…¨æ€§ã‚’è€ƒæ…®ã™ã‚‹ã¨æ§‹é€ ä½“ã®ä½¿ç”¨ã‚’å¼·ããŠå‹§ã‚ã—ã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/01/07 15:51:04*

ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’è¤‡æ•°å®£è¨€ã™ã‚‹ã“ã¨ã¯ã§ããªã„ã®ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/01/07 15:51:33*

`GoRouter`ã§ã¯ã€é€šå¸¸ã€ãƒ«ãƒ¼ãƒˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã¯ä»¥ä¸‹ã®æ–¹æ³•ã§æ¸¡ã™ã“ã¨ãŒã§ãã¾ã™ï¼š

1. **ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼**  
   URLã«ç›´æ¥åŸ‹ã‚è¾¼ã‚€æ–¹æ³•ã€‚`GoRoute`ã®`path`ã«`:paramName`ã¨ã—ã¦å®šç¾©ã—ã¾ã™ã€‚

2. **ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼**  
   URLã«ã‚¯ã‚¨ãƒªæ–‡å­—åˆ—ã¨ã—ã¦è¿½åŠ ã™ã‚‹æ–¹æ³•ã€‚`state.queryParameters`ã§å–å¾—ã—ã¾ã™ã€‚

3. **extra**ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ç”¨ã™ã‚‹æ–¹æ³•  
   ä»»æ„ã®ãƒ‡ãƒ¼ã‚¿ã‚’`extra`ã¨ã—ã¦æ¸¡ã™æ–¹æ³•ã€‚ã“ã®æ–¹æ³•ãŒä¸€ç•ªæŸ”è»Ÿã§ã€è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚‚ã¾ã¨ã‚ã¦æ¸¡ã›ã¾ã™ã€‚

ä»¥ä¸‹ã§ã¯ã€ãã‚Œãã‚Œã®æ–¹æ³•ã‚’è§£èª¬ã—ã¾ã™ã€‚

---

### 1. ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’ä½¿ã†

**ä¾‹:**  
`TextEditingPage`ã§`title`ã¨`initialText`ã‚’ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã¨ã—ã¦æ¸¡ã™ã€‚

```dart
GoRoute(
  path: '/text-editing/:title/:initialText',
  builder: (context, state) {
    final title = state.params['title']!;
    final initialText = state.params['initialText']!;
    return TextEditingPage(
      title: title,
      initialText: initialText,
      onSave: (updatedText) {
        // ä¿å­˜å‡¦ç†
      },
    );
  },
),
```

#### é·ç§»æ™‚ã®ä¾‹

```dart
context.push('/text-editing/Edit%20Profile/Initial%20content');
```

---

### 2. ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’ä½¿ã†

**ä¾‹:**  
ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã§`title`ã¨`initialText`ã‚’æ¸¡ã™ã€‚

```dart
GoRoute(
  path: '/text-editing',
  builder: (context, state) {
    final title = state.queryParameters['title']!;
    final initialText = state.queryParameters['initialText']!;
    return TextEditingPage(
      title: title,
      initialText: initialText,
      onSave: (updatedText) {
        // ä¿å­˜å‡¦ç†
      },
    );
  },
),
```

#### é·ç§»æ™‚ã®ä¾‹

```dart
context.push('/text-editing?title=Edit%20Profile&initialText=Initial%20content');
```

---

### 3. `extra`ã‚’ä½¿ã†ï¼ˆæ¨å¥¨ï¼‰

è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ§‹é€ ä½“ã‚„`Map`ã§æ¸¡ã™å ´åˆã¯ã€`extra`ã‚’ä½¿ã†æ–¹æ³•ãŒæŸ”è»Ÿã§ã™ã€‚

#### æ§‹é€ ä½“ã‚’ä½¿ã£ãŸä¾‹

```dart
GoRoute(
  path: '/text-editing',
  builder: (context, state) {
    final args = state.extra! as TextEditingPageArgs;
    return TextEditingPage(
      title: args.title,
      initialText: args.initialText,
      onSave: args.onSave,
    );
  },
),
```

#### æ§‹é€ ä½“ã®å®šç¾©

```dart
class TextEditingPageArgs {
  final String title;
  final String initialText;
  final void Function(String updatedText) onSave;

  TextEditingPageArgs({
    required this.title,
    required this.initialText,
    required this.onSave,
  });
}
```

#### é·ç§»æ™‚ã®ä¾‹

```dart
context.push(
  '/text-editing',
  extra: TextEditingPageArgs(
    title: 'Edit Profile',
    initialText: 'Initial content here',
    onSave: (updatedText) {
      print('Saved text: $updatedText');
    },
  ),
);
```

---

### ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ vs ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ vs extra

- **ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼**  
  URLã«å«ã‚ãŸã„ãƒ‡ãƒ¼ã‚¿ãŒå°‘ãªã„å ´åˆï¼ˆä¾‹: `id`ã‚„`slug`ï¼‰ã€‚URLã«æ„å‘³ã‚’æŒãŸã›ãŸã„ã¨ãã«é©ã—ã¦ã„ã¾ã™ã€‚

- **ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼**  
  ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚„æ¤œç´¢æ¡ä»¶ã®ã‚ˆã†ãªè¿½åŠ æƒ…å ±ã‚’æ¸¡ã—ãŸã„å ´åˆã«é©ã—ã¦ã„ã¾ã™ã€‚

- **extra**ï¼ˆæ¨å¥¨ï¼‰  
  ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚„é–¢æ•°ãªã©è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã—ãŸã„å ´åˆã«æœ€é©ã€‚å‹å®‰å…¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’ã‚„ã‚Šå–ã‚Šã§ãã¾ã™ã€‚

---

### çµè«–

è¤‡æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’æ¸¡ã™å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€çŠ¶æ³ã«å¿œã˜ã¦ã“ã‚Œã‚‰ã®æ–¹æ³•ã‚’ä½¿ã„åˆ†ã‘ã‚‰ã‚Œã¾ã™ã€‚ç‰¹ã«ã€æŸ”è»Ÿæ€§ã¨å®‰å…¨æ€§ã‚’è€ƒãˆã‚‹ã¨`extra`ã«æ§‹é€ ä½“ã‚’æ¸¡ã™æ–¹æ³•ãŒæœ€ã‚‚æ¨å¥¨ã•ã‚Œã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/01/07 15:51:55*

extraã¯è¤‡æ•°å–ã‚Œãªã„ã®ã‹ï¼Ÿ swiftã®ã„ã†ã¨ã“ã‚ã®ã‚¿ãƒ—ãƒ«ã¿ãŸã„ãª

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/01/07 15:52:22*

Dart/Flutterã®`GoRouter`ã§æ¸¡ã™`extra`ã¯ã€å˜ä¸€ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã¿æ¸¡ã™ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚ã—ã‹ã—ã€ãã®å˜ä¸€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­ã«è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚ã‚‹ã“ã¨ã¯ã§ãã¾ã™ã€‚Swiftã®ã‚¿ãƒ—ãƒ«ã®ã‚ˆã†ãªå½¢ã§ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã—ãŸã„å ´åˆã€Dartã§ã¯ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã®æ–¹æ³•ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚

---

### æ–¹æ³•1: æ§‹é€ ä½“ï¼ˆã‚¯ãƒ©ã‚¹ã‚„ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ï¼‰ã‚’ä½¿ç”¨

è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚’æŒã¤æ§‹é€ ä½“ã‚’ä½œæˆã—ã¦ã€ãã‚Œã‚’`extra`ã¨ã—ã¦æ¸¡ã—ã¾ã™ã€‚

```dart
class TextEditingPageArgs {
  final String title;
  final String initialText;
  final void Function(String updatedText) onSave;

  TextEditingPageArgs({
    required this.title,
    required this.initialText,
    required this.onSave,
  });
}
```

#### `GoRoute`ã®è¨­å®š

```dart
GoRoute(
  path: '/text-editing',
  builder: (context, state) {
    final args = state.extra! as TextEditingPageArgs;
    return TextEditingPage(
      title: args.title,
      initialText: args.initialText,
      onSave: args.onSave,
    );
  },
),
```

#### é·ç§»æ™‚ã®ã‚³ãƒ¼ãƒ‰

```dart
context.push(
  '/text-editing',
  extra: TextEditingPageArgs(
    title: 'Edit Profile',
    initialText: 'Initial content here',
    onSave: (updatedText) {
      print('Saved text: $updatedText');
    },
  ),
);
```

---

### æ–¹æ³•2: ãƒãƒƒãƒ—ï¼ˆ`Map<String, dynamic>`ï¼‰ã‚’ä½¿ç”¨

ã‚¿ãƒ—ãƒ«ã®ã‚ˆã†ãªç°¡æ˜“çš„ãªæ–¹æ³•ã¨ã—ã¦ã€ãƒãƒƒãƒ—ã‚’ä½¿ã†ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

#### `GoRoute`ã®è¨­å®š

```dart
GoRoute(
  path: '/text-editing',
  builder: (context, state) {
    final args = state.extra! as Map<String, dynamic>;
    return TextEditingPage(
      title: args['title'] as String,
      initialText: args['initialText'] as String,
      onSave: args['onSave'] as void Function(String),
    );
  },
),
```

#### é·ç§»æ™‚ã®ã‚³ãƒ¼ãƒ‰

```dart
context.push(
  '/text-editing',
  extra: {
    'title': 'Edit Profile',
    'initialText': 'Initial content here',
    'onSave': (String updatedText) {
      print('Saved text: $updatedText');
    },
  },
);
```

---

### æ–¹æ³•3: ç„¡åã‚¿ãƒ—ãƒ«é¢¨ï¼ˆãƒªã‚¹ãƒˆãªã©ã®ä»£æ›¿ï¼‰

Dartã§ã¯ã‚¿ãƒ—ãƒ«ãŒç›´æ¥ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ãŒã€ãƒªã‚¹ãƒˆã‚„é…åˆ—ã‚’ä½¿ã£ã¦é¡ä¼¼ã®æŒ™å‹•ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚ãŸã ã—ã€ã“ã®æ–¹æ³•ã¯å‹å®‰å…¨æ€§ãŒä½ä¸‹ã—ã¾ã™ã€‚

#### `GoRoute`ã®è¨­å®š

```dart
GoRoute(
  path: '/text-editing',
  builder: (context, state) {
    final args = state.extra! as List;
    return TextEditingPage(
      title: args[0] as String,
      initialText: args[1] as String,
      onSave: args[2] as void Function(String),
    );
  },
),
```

#### é·ç§»æ™‚ã®ã‚³ãƒ¼ãƒ‰

```dart
context.push(
  '/text-editing',
  extra: [
    'Edit Profile',
    'Initial content here',
    (String updatedText) {
      print('Saved text: $updatedText');
    },
  ],
);
```

---

### æ¯”è¼ƒ

| æ–¹æ³•                  | ãƒ¡ãƒªãƒƒãƒˆ                                                | ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ                              |
|-----------------------|-------------------------------------------------------|----------------------------------------|
| **æ§‹é€ ä½“ï¼ˆã‚¯ãƒ©ã‚¹ï¼‰**   | å‹å®‰å…¨ã§æ‹¡å¼µæ€§ãŒé«˜ã„                                    | å®šç¾©ãŒå°‘ã—å†—é•·                         |
| **ãƒãƒƒãƒ—**             | æŸ”è»Ÿæ€§ãŒé«˜ãç°¡æ˜“çš„                                     | å‹å®‰å…¨æ€§ãŒä½ãã€ã‚­ãƒ¼ã®ã‚¿ã‚¤ãƒ—ãƒŸã‚¹ãŒç™ºç”Ÿã—ã‚„ã™ã„ |
| **ãƒªã‚¹ãƒˆ**             | ç°¡æ˜“çš„ã§Swiftã®ã‚¿ãƒ—ãƒ«ã«è¿‘ã„ä½¿ã„æ–¹                       | å‹å®‰å…¨æ€§ãŒä½ãã€å¼•æ•°ã®é †åºãŒé‡è¦ã«ãªã‚‹  |

---

### çµè«–

**æ§‹é€ ä½“ï¼ˆã‚¯ãƒ©ã‚¹ï¼‰ã‚’ä½¿ã†æ–¹æ³•ãŒæœ€ã‚‚æ¨å¥¨ã•ã‚Œã¾ã™ã€‚**  
ç†ç”±ã¯å‹å®‰å…¨æ€§ãŒé«˜ãã€è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†éš›ã®æŸ”è»Ÿæ€§ãŒé«˜ã„ã‹ã‚‰ã§ã™ã€‚ç‰¹ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå¤§è¦æ¨¡åŒ–ã™ã‚‹å ´åˆã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã«ã‚‚å„ªã‚Œã¦ã„ã¾ã™ã€‚  
ãŸã ã—ã€ç°¡æ˜“çš„ãªç”¨é€”ã§ã‚ã‚Œã°ãƒãƒƒãƒ—ã‚„ãƒªã‚¹ãƒˆã‚’ä½¿ã†ã®ã‚‚è‰¯ã„é¸æŠè‚¢ã§ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/01/07 15:55:00*

æ§‹é€ ä½“ã‚’ä½¿ã£ã¦ã»ã—ã„
ä»¥ä¸‹ã‚’ä¿®æ­£ã—ã¦ã»ã—ã„

ListTile(
                  title: const Text('Name'),
                  subtitle: Text(guildName),
                  trailing: const Icon(Icons.chevron_right),
                  onTap: () {
                    // Navigate to the TextEditingScreen for name change
                    Navigator.push(
                      context,
                      MaterialPageRoute(
                        builder: (context) =&gt; TextEditingScreen(
                          title: 'Edit Guild Name',
                          initialText: guildName,
                          onSave: (updatedText) async {
                            if (updatedText.isNotEmpty && updatedText != guildName) {
                              // Call the API to update the guild name (mocked as a comment).
                              // await api.updateGuildName(updatedText);

                              // Refresh guild information.
                              await ref
                                  .read(getMyGuildNotifierProvider.notifier)
                                  .executeRequest();
                            }
                          },
                        ),
                      ),
                    );
                  },
                ),

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/01/07 15:55:20*

ä»¥ä¸‹ã®ã‚ˆã†ã«æ§‹é€ ä½“ã‚’ä½¿ã£ã¦ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚Šã€`TextEditingScreen`ã®å¼•æ•°ã‚’å‹å®‰å…¨ã«æ‰±ã†ã“ã¨ãŒã§ãã¾ã™ã€‚

### æ§‹é€ ä½“ã®å®šç¾©

ã¾ãšã€æ§‹é€ ä½“ã‚’å®šç¾©ã—ã¾ã™ã€‚

```dart
class TextEditingArgs {
  final String title;
  final String initialText;
  final Future<void> Function(String updatedText) onSave;

  TextEditingArgs({
    required this.title,
    required this.initialText,
    required this.onSave,
  });
}
```

---

### `ListTile`ã®ä¿®æ­£

ä»¥ä¸‹ã¯ä¿®æ­£æ¸ˆã¿ã®`ListTile`ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚`TextEditingScreen`ã¯æ§‹é€ ä½“ã‚’å—ã‘å–ã‚‹å½¢ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚

```dart
ListTile(
  title: const Text('Name'),
  subtitle: Text(guildName),
  trailing: const Icon(Icons.chevron_right),
  onTap: () {
    Navigator.push(
      context,
      MaterialPageRoute(
        builder: (context) => TextEditingScreen(
          args: TextEditingArgs(
            title: 'Edit Guild Name',
            initialText: guildName,
            onSave: (updatedText) async {
              if (updatedText.isNotEmpty && updatedText != guildName) {
                // Call the API to update the guild name (mocked as a comment).
                // await api.updateGuildName(updatedText);

                // Refresh guild information.
                await ref
                    .read(getMyGuildNotifierProvider.notifier)
                    .executeRequest();
              }
            },
          ),
        ),
      ),
    );
  },
),
```

---

### `TextEditingScreen`ã®ä¿®æ­£

`TextEditingScreen`ã§æ§‹é€ ä½“ã‚’å—ã‘å–ã‚‹ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚

```dart
class TextEditingScreen extends StatelessWidget {
  const TextEditingScreen({
    super.key,
    required this.args,
  });

  final TextEditingArgs args;

  @override
  Widget build(BuildContext context) {
    final textController = TextEditingController(text: args.initialText);

    return Scaffold(
      appBar: AppBar(
        title: Text(args.title),
        actions: [
          ElevatedButton(
            onPressed: () async {
              final updatedText = textController.text;
              await args.onSave(updatedText);
              Navigator.pop(context);
            },
            child: const Text('Save'),
          ),
        ],
      ),
      body: Padding(
        padding: const EdgeInsets.all(16.0),
        child: TextField(
          controller: textController,
          decoration: const InputDecoration(
            labelText: 'Edit Text',
            border: UnderlineInputBorder(),
          ),
        ),
      ),
    );
  }
}
```

---

### ä¸»ãªå¤‰æ›´ç‚¹

1. **æ§‹é€ ä½“`TextEditingArgs`ã‚’å°å…¥**  
   å‹å®‰å…¨ã‹ã¤æŸ”è»Ÿã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’æ‰±ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚

2. **`onTap`ã§æ§‹é€ ä½“ã‚’æ¸¡ã™**  
   `TextEditingArgs`ã‚’ä½œæˆã—ã€`Navigator.push`ã§æ¸¡ã—ã¦ã„ã¾ã™ã€‚

3. **`TextEditingScreen`ã§æ§‹é€ ä½“ã‚’å—ã‘å–ã‚‹ã‚ˆã†å¤‰æ›´**  
   å¼•æ•°ã‚’ç›´æ¥å—ã‘å–ã‚‹ã®ã§ã¯ãªãã€æ§‹é€ ä½“ã‚’é€šã—ã¦æ¸¡ã™ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚

---

ã“ã®å¤‰æ›´ã«ã‚ˆã‚Šã€`TextEditingScreen`ã®å¼•æ•°ç®¡ç†ãŒç°¡å˜ã«ãªã‚Šã€å‹å®‰å…¨æ€§ã¨å¯èª­æ€§ãŒå‘ä¸Šã—ã¾ã™ã€‚ã¾ãŸã€å°†æ¥çš„ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’è¿½åŠ ã™ã‚‹å ´åˆã‚‚ã€æ§‹é€ ä½“ã«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§æ¸ˆã¿ã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/01/07 15:56:27*

ã‚´ãƒ¼ãƒ«ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦é·ç§»ã—ã¦ã»ã—ã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/01/07 15:56:53*

ä»¥ä¸‹ã¯`GoRouter`ã‚’ä½¿ç”¨ã—ã¦æ§‹é€ ä½“ã‚’æ´»ç”¨ã—ãŸé·ç§»ã‚’å®Ÿç¾ã™ã‚‹ä¿®æ­£ç‰ˆã§ã™ã€‚

---

### æ§‹é€ ä½“ã®å®šç¾©

ã¾ãšã€æ§‹é€ ä½“ã‚’å®šç¾©ã—ã¾ã™ã€‚

```dart
class TextEditingArgs {
  final String title;
  final String initialText;
  final Future<void> Function(String updatedText) onSave;

  TextEditingArgs({
    required this.title,
    required this.initialText,
    required this.onSave,
  });
}
```

---

### `GoRouter`ã®ãƒ«ãƒ¼ãƒˆè¨­å®š

`GoRouter`ã®è¨­å®šã«ã€æ–°ã—ã„`TextEditingScreen`ã®ãƒ«ãƒ¼ãƒˆã‚’è¿½åŠ ã—ã¾ã™ã€‚

```dart
final GoRouter router = GoRouter(
  initialLocation: '/home', // å¿…è¦ã«å¿œã˜ã¦å¤‰æ›´
  routes: [
    // ä»–ã®ãƒ«ãƒ¼ãƒˆè¨­å®š...
    GoRoute(
      path: '/text-editing',
      builder: (context, state) {
        final args = state.extra! as TextEditingArgs;
        return TextEditingScreen(args: args);
      },
    ),
  ],
);
```

---

### `ListTile`ã®ä¿®æ­£

`Navigator.push`ã®ä»£ã‚ã‚Šã«`GoRouter`ã‚’ä½¿ã£ãŸé·ç§»ã«å¤‰æ›´ã—ã¾ã™ã€‚

```dart
ListTile(
  title: const Text('Name'),
  subtitle: Text(guildName),
  trailing: const Icon(Icons.chevron_right),
  onTap: () {
    context.push(
      '/text-editing',
      extra: TextEditingArgs(
        title: 'Edit Guild Name',
        initialText: guildName,
        onSave: (updatedText) async {
          if (updatedText.isNotEmpty && updatedText != guildName) {
            // APIã§ã‚®ãƒ«ãƒ‰åã‚’æ›´æ–°ï¼ˆãƒ¢ãƒƒã‚¯ã¨ã—ã¦ã‚³ãƒ¡ãƒ³ãƒˆï¼‰
            // await api.updateGuildName(updatedText);

            // ã‚®ãƒ«ãƒ‰æƒ…å ±ã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥
            await ref
                .read(getMyGuildNotifierProvider.notifier)
                .executeRequest();
          }
        },
      ),
    );
  },
),
```

---

### `TextEditingScreen`ã®å®Ÿè£…

`GoRouter`çµŒç”±ã§æ§‹é€ ä½“ã‚’å—ã‘å–ã‚‹`TextEditingScreen`ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã™ã€‚

```dart
class TextEditingScreen extends StatelessWidget {
  const TextEditingScreen({
    super.key,
    required this.args,
  });

  final TextEditingArgs args;

  @override
  Widget build(BuildContext context) {
    final textController = TextEditingController(text: args.initialText);

    return Scaffold(
      appBar: AppBar(
        title: Text(args.title),
        actions: [
          ElevatedButton(
            onPressed: () async {
              final updatedText = textController.text;
              await args.onSave(updatedText);
              context.pop(); // é·ç§»å…ƒã«æˆ»ã‚‹
            },
            child: const Text('Save'),
          ),
        ],
      ),
      body: Padding(
        padding: const EdgeInsets.all(16.0),
        child: TextField(
          controller: textController,
          decoration: const InputDecoration(
            labelText: 'Edit Text',
            border: UnderlineInputBorder(),
          ),
        ),
      ),
    );
  }
}
```

---

### ä¸»ãªå¤‰æ›´ç‚¹

1. **`GoRouter`ã‚’åˆ©ç”¨ã—ãŸãƒ«ãƒ¼ãƒˆç®¡ç†**  
   `/text-editing`ã¨ã„ã†ãƒ«ãƒ¼ãƒˆã‚’è¿½åŠ ã—ã€`extra`ã‚’é€šã˜ã¦æ§‹é€ ä½“ã‚’æ¸¡ã—ã¦ã„ã¾ã™ã€‚

2. **`context.push`ã§é·ç§»**  
   `Navigator.push`ã®ä»£ã‚ã‚Šã«ã€`GoRouter`ã®`context.push`ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚

3. **æ§‹é€ ä½“ã§å‹å®‰å…¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™**  
   `TextEditingArgs`æ§‹é€ ä½“ã‚’é€šã˜ã¦ã€`title`ã€`initialText`ã€`onSave`ã‚’å‹å®‰å…¨ã«æ¸¡ã—ã¾ã™ã€‚

---

### å®Ÿè¡Œä¾‹

1. **ãƒªã‚¹ãƒˆã‚¿ã‚¤ãƒ«ã®ã‚¿ãƒƒãƒ—ã§é·ç§»**  
   `ListTile`ã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨ã€`/text-editing`ã«é·ç§»ã—ã¾ã™ã€‚

2. **ãƒ‡ãƒ¼ã‚¿æ›´æ–°ã¨æˆ»ã‚‹å‡¦ç†**  
   `TextEditingScreen`ã§ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°å¾Œã€`context.pop()`ã§å…ƒã®ç”»é¢ã«æˆ»ã‚Šã¾ã™ã€‚

---

ã“ã‚Œã«ã‚ˆã‚Šã€`GoRouter`ã‚’ä½¿ç”¨ã—ã¦å‹å®‰å…¨ã‹ã¤æŸ”è»Ÿãªé·ç§»ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚å¿…è¦ã«å¿œã˜ã¦ä»–ã®ç”»é¢ã«ã‚‚åŒæ§˜ã®æ‰‹æ³•ã‚’é©ç”¨ã§ãã¾ã™ã€‚

---
