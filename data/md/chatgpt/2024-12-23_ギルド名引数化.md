# ギルド名引数化

日付: 2024-12-23

---

## 👤 ユーザー
*2024/12/23 22:17:26*

ギルド名を引数にして欲しい

@riverpod
class CreateGuildNotifier extends _$CreateGuildNotifier {
  @override
  Future&lt;String?&gt; build() async =&gt; null;

  Future&lt;void&gt; executeRequest() async {
    state = const AsyncValue.loading();
    try {
      final api = await ref.watch(guildApiProvider.future);
      final response = await api.guildControllerCreateGuild(
        CreateGuildRequestDto(
          guildName: 'Test Guild',
        ),
      );
      debugPrint('Response Body: ${response.data}');
      state = AsyncValue.data(response.data?.data);
    } on Exception catch (e, stackTrace) {
      debugPrint('Error in GetGuildInfoNotifier: $e');
      debugPrint('StackTrace: $stackTrace');
      state = AsyncValue.error(e, stackTrace);
    }
  }
}

---

## 🤖 アシスタント
*2024/12/23 22:17:38*

`executeRequest` メソッドにギルド名を引数として渡せるようにコードを修正します。以下はその変更です。

### 修正版コード

```dart
@riverpod
class CreateGuildNotifier extends _$CreateGuildNotifier {
  @override
  Future<String?> build() async => null;

  /// ギルドを作成するリクエストを送信します。
  /// 
  /// [guildName] - 作成するギルドの名前
  Future<void> executeRequest(String guildName) async {
    state = const AsyncValue.loading();
    try {
      final api = await ref.watch(guildApiProvider.future);
      final response = await api.guildControllerCreateGuild(
        CreateGuildRequestDto(
          guildName: guildName, // 引数を利用
        ),
      );
      debugPrint('Response Body: ${response.data}');
      state = AsyncValue.data(response.data?.data);
    } on Exception catch (e, stackTrace) {
      debugPrint('Error in CreateGuildNotifier: $e');
      debugPrint('StackTrace: $stackTrace');
      state = AsyncValue.error(e, stackTrace);
    }
  }
}
```

### 変更点
1. `executeRequest` メソッドに `String guildName` を引数として追加しました。
2. ギルド名をハードコードしていた部分 (`'Test Guild'`) を引数 `guildName` に置き換えました。

### 使用例
この変更後は、以下のようにメソッドを呼び出す際にギルド名を渡すことができます。

```dart
final notifier = ref.read(createGuildNotifierProvider.notifier);
await notifier.executeRequest('My New Guild');
```

これにより、動的にギルド名を設定できるようになります。

---
