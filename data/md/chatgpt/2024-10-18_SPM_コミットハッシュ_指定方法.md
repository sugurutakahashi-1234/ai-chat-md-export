# SPM コミットハッシュ 指定方法

日付: 2024-10-18

---

## 👤 ユーザー
*2024/10/18 20:13:23*

spm で　spm で コミットハッシュ を指定

---

## 🤖 アシスタント
*2024/10/18 20:13:35*

Swift Package Manager (SPM) で特定のコミットハッシュを指定してパッケージを利用する場合は、`Package.swift`ファイル内で、以下のように `revision` オプションを使用して指定できます。

```swift
dependencies: [
    .package(url: "https://github.com/owner/repository.git", .revision("コミットハッシュ"))
]
```

具体例を示すと、以下のようになります：

```swift
dependencies: [
    .package(url: "https://github.com/apple/swift-argument-parser.git", .revision("6d694f7a7fbd3f393a57a44c38ceca4f95755c1e"))
]
```

このように、リポジトリのURLと指定したコミットハッシュを合わせることで、特定のコミットに基づいたパッケージを利用することができます。

何か他に質問があれば教えてください！

---

## 👤 ユーザー
*2024/10/18 20:14:05*

'package(url:_:)' is deprecated: use specific requirement APIs instead (e.g. use 'branch:' instead of '.branch') こういうエラーになった

---

## 🤖 アシスタント
*2024/10/18 20:14:21*

`package(url:_, _:_)` が非推奨になった理由は、Swift Package Managerがパッケージの指定方法をより明示的なAPIに変更したためです。Swift 5.6以降、`revision`, `branch`, `exact`, `from`, などのバージョン指定はそれぞれ専用のAPIを使うように変更されました。

具体的には、`package(url:_:_)` の代わりに、`branch`, `revision`, `exact` などを明示的に使用するAPIを使います。コミットハッシュを指定する場合は、`revision`を使用します。

修正する場合は、次のように書き換えます：

```swift
dependencies: [
    .package(url: "https://github.com/owner/repository.git", revision: "コミットハッシュ")
]
```

この形式は、今後のSwiftバージョンでも推奨される書き方となります。例えば、次のようにコミットハッシュを指定します：

```swift
dependencies: [
    .package(url: "https://github.com/apple/swift-argument-parser.git", revision: "6d694f7a7fbd3f393a57a44c38ceca4f95755c1e")
]
```

これでエラーは解消されるはずです。その他の不明点があれば教えてください！

---
