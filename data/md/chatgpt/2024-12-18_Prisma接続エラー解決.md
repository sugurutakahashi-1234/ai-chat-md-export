# PrismaÊé•Á∂ö„Ç®„É©„ÉºËß£Ê±∫

Êó•‰ªò: 2024-12-18

---

## üë§ „É¶„Éº„Ç∂„Éº
*2024/12/18 12:58:46*

„Ç®„É©„ÉºÂÜÖÂÆπ

[3:58:20 AM] File change detected. Starting incremental compilation...
2024-12-18 12:58:20 
2024-12-18 12:58:20 [3:58:20 AM] Found 0 errors. Watching for file changes.
2024-12-18 12:58:20 
2024-12-18 12:58:20 Debugger listening on ws://127.0.0.1:9229/0a217521-f511-4226-93f9-79dbe7585d0d
2024-12-18 12:58:20 For help, see: https://nodejs.org/en/docs/inspector
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [NestFactory] Starting Nest application...
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [InstanceLoader] DatabaseModule dependencies initialized +6ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [InstanceLoader] AppModule dependencies initialized +1ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [InstanceLoader] GuildModule dependencies initialized +0ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [InstanceLoader] AccountModule dependencies initialized +0ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [RoutesResolver] AppController {/}: +29ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [RouterExplorer] Mapped {/, GET} route +1ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [RoutesResolver] AccountController {/v1/accounts}: +0ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [RouterExplorer] Mapped {/v1/accounts, POST} route +0ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [RouterExplorer] Mapped {/v1/accounts, GET} route +1ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [RouterExplorer] Mapped {/v1/accounts/:user_id, GET} route +0ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [RouterExplorer] Mapped {/v1/accounts/:user_id, PUT} route +0ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [RouterExplorer] Mapped {/v1/accounts/:user_id, DELETE} route +0ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [RoutesResolver] GuildController {/v1/guilds}: +0ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [RouterExplorer] Mapped {/v1/guilds, GET} route +1ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [RouterExplorer] Mapped {/v1/guilds, POST} route +0ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [RouterExplorer] Mapped {/v1/guilds/:guild_id/members/:user_id, POST} route +0ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [RouterExplorer] Mapped {/v1/guilds/:guild_id, PUT} route +0ms
2024-12-18 12:58:20 [Nest] 255  - 12/18/2024, 3:58:20 AM     LOG [RouterExplorer] Mapped {/v1/guilds/:guild_id, DELETE} route +0ms
2024-12-18 12:58:20 /SNPIT/guild_server/node_modules/@prisma/client/runtime/library.js:112
2024-12-18 12:58:20 You may have to run ${$e("prisma generate")} for your changes to take effect.`,this.config.clientVersion);return t}}parseEngineResponse(t){if(!t)throw new V("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(t)}catch{throw new V("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let t=new WeakRef(this),{adapter:r}=this.config;r&&Ae("Using driver adapter: %O",r),this.engine=new this.QueryEngineConstructor({datamodel:this.datamodel,env:process.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json"},n=&gt;{t.deref()?.logger(n)},r)}catch(t){let r=t,n=this.parseInitError(r.message);throw typeof n=="string"?r:new R(n.message,this.config.clientVersion,n.error_code)}}}logger(t){let r=this.parseEngineResponse(t);if(r){if("span"in r){this.config.tracingHelper.createEngineSpan(r);return}r.level=r?.level.toLowerCase()??"unknown",om(r)?this.logEmitter.emit("query",{timestamp:new Date,query:r.query,params:r.params,duration:Number(r.duration_ms),target:r.module_path}):sm(r)?this.loggerRustPanic=new le(oo(this,`${r.message}: ${r.reason} in ${r.file}:${r.line}:${r.column}`),this.config.clientVersion):this.logEmitter.emit(r.level,{timestamp:new Date,message:r.message,target:r.module_path})}}parseInitError(t){try{return JSON.parse(t)}catch{}return t}parseRequestError(t){try{return JSON.parse(t)}catch{}return t}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return Ae(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let t=async()=&gt;{Ae("library starting");try{let r={traceparent:this.config.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(r)),this.libraryStarted=!0,Ae("library started")}catch(r){let n=this.parseInitError(r.message);throw typeof n=="string"?r:new R(n.message,this.config.clientVersion,n.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.config.tracingHelper.runInChildSpan("connect",t),this.libraryStartingPromise}async stop(){if(await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return Ae("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted)return;let t=async()=&gt;{await new Promise(n=&gt;setTimeout(n,5)),Ae("library stopping");let r={traceparent:this.config.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(r)),this.libraryStarted=!1,this.libraryStoppingPromise=void 0,Ae("library stopped")};return this.libraryStoppingPromise=this.config.tracingHelper.runInChildSpan("disconnect",t),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(t){return this.library?.debugPanic(t)}async request(t,{traceparent:r,interactiveTransaction:n}){Ae(`sending request, this.libraryStarted: ${this.libraryStarted}`);let i=JSON.stringify({traceparent:r}),o=JSON.stringify(t);try{await this.start(),this.executingQueryPromise=this.engine?.query(o,i,n?.id),this.lastQuery=o;let s=this.parseEngineResponse(await this.executingQueryPromise);if(s.errors)throw s.errors.length===1?this.buildQueryError(s.errors[0]):new V(JSON.stringify(s.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:s}}catch(s){if(s instanceof R)throw s;if(s.code==="GenericFailure"&&s.message?.startsWith("PANIC:"))throw new le(oo(this,s.message),this.config.clientVersion);let a=this.parseRequestError(s.message);throw typeof a=="string"?s:new V(`${a.message}
2024-12-18 12:58:20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
2024-12-18 12:58:20 
2024-12-18 12:58:20 PrismaClientInitializationError: Can't reach database server at `localhost:5432`
2024-12-18 12:58:20 
2024-12-18 12:58:20 Please make sure your database server is running at `localhost:5432`.
2024-12-18 12:58:20     at t (/SNPIT/guild_server/node_modules/@prisma/client/runtime/library.js:112:2488)
2024-12-18 12:58:20     at Proxy.onModuleInit (/SNPIT/guild_server/src/database/database.service.ts:8:5)
2024-12-18 12:58:20     at async Promise.all (index 0)
2024-12-18 12:58:20     at async callModuleInitHook (/SNPIT/guild_server/node_modules/@nestjs/core/hooks/on-module-init.hook.js:43:5)
2024-12-18 12:58:20     at async NestApplication.callInitHook (/SNPIT/guild_server/node_modules/@nestjs/core/nest-application-context.js:234:13)
2024-12-18 12:58:20     at async NestApplication.init (/SNPIT/guild_server/node_modules/@nestjs/core/nest-application.js:100:9)
2024-12-18 12:58:20     at async NestApplication.listen (/SNPIT/guild_server/node_modules/@nestjs/core/nest-application.js:170:13)
2024-12-18 12:58:20     at bootstrap (/SNPIT/guild_server/src/main.ts:38:3) {
2024-12-18 12:58:20   clientVersion: '6.0.1',
2024-12-18 12:58:20   errorCode: 'P1001'
2024-12-18 12:58:20 }
2024-12-18 12:58:20 
2024-12-18 12:58:20 Node.js v18.20.5

---

## ü§ñ „Ç¢„Ç∑„Çπ„Çø„É≥„Éà
*2024/12/18 12:59:04*

„Åì„ÅÆ„Ç®„É©„Éº„ÅØ„ÄÅPrisma „ÇØ„É©„Ç§„Ç¢„É≥„Éà„Åå„Éá„Éº„Çø„Éô„Éº„Çπ„Çµ„Éº„Éê„Éº„Å´Êé•Á∂ö„Åß„Åç„Å™„Åã„Å£„Åü„Åì„Å®„ÇíÁ§∫„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇÂÖ∑‰ΩìÁöÑ„Å´„ÅØ„ÄÅPrisma „ÅØ `localhost:5432` „Å´„ÅÇ„Çã„Éá„Éº„Çø„Éô„Éº„Çπ„Çµ„Éº„Éê„Éº„Å´Êé•Á∂ö„Åó„Çà„ÅÜ„Å®„Åó„Åæ„Åó„Åü„Åå„ÄÅ„Çµ„Éº„Éê„Éº„ÅåÂÆüË°å„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑ„Åã„ÄÅÊé•Á∂ö„Åß„Åç„Å™„ÅÑÁä∂ÊÖã„Åß„Åô„ÄÇ

„Ç®„É©„Éº„ÅÆÂéüÂõ†„Å®ÂØæÁ≠ñ„Çí‰ª•‰∏ã„Å´„Åæ„Å®„ÇÅ„Åæ„ÅôÔºö

---

### **„Ç®„É©„ÉºÂéüÂõ†**
1. **„Éá„Éº„Çø„Éô„Éº„Çπ„ÅåËµ∑Âãï„Åó„Å¶„ÅÑ„Å™„ÅÑ**
   - PostgreSQL „Çµ„Éº„Éê„Éº„Åå `localhost:5432` „ÅßÂãï‰Ωú„Åó„Å¶„ÅÑ„Å™„ÅÑ„ÄÇ
   
2. **Êé•Á∂öË®≠ÂÆö„ÅÆÂïèÈ°å**
   - `.env` „Éï„Ç°„Ç§„É´„ÇÑ Prisma „Çπ„Ç≠„Éº„Éû„Åß„ÅÆ„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÊé•Á∂öÊÉÖÂ†±Ôºà„Éõ„Çπ„Éà„ÄÅ„Éù„Éº„Éà„ÄÅ„É¶„Éº„Ç∂„ÉºÂêç„ÄÅ„Éë„Çπ„ÉØ„Éº„Éâ„ÄÅ„Éá„Éº„Çø„Éô„Éº„ÇπÂêçÔºâ„ÅåÈñìÈÅï„Å£„Å¶„ÅÑ„Çã„ÄÇ

3. **„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„ÇÑ„Éï„Ç°„Ç§„Ç¢„Ç¶„Ç©„Éº„É´„ÅÆÂïèÈ°å**
   - „É≠„Éº„Ç´„É´„Éû„Ç∑„É≥„Åß„Éù„Éº„Éà `5432` „Åå„Éñ„É≠„ÉÉ„ÇØ„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ

4. **Prisma Client „ÅÆ‰∏çÈÅ©Âàá„Å™Ë®≠ÂÆö**
   - Prisma „ÅÆË®≠ÂÆö„ÇÑ„Çπ„Ç≠„Éº„Éû„ÅåÊ≠£„Åó„ÅèË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑ„ÄÇ

---

### **Ëß£Ê±∫ÊñπÊ≥ï**
#### **1. „Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆËµ∑Âãï„ÇíÁ¢∫Ë™ç**
   - PostgreSQL „Çµ„Éº„Éê„Éº„ÅåÂÆüË°å‰∏≠„ÅãÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ
     ```bash
     sudo systemctl status postgresql
     ```
   - ÂÆüË°å„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑÂ†¥Âêà„ÄÅËµ∑Âãï„Åó„Åæ„Åô„ÄÇ
     ```bash
     sudo systemctl start postgresql
     ```

#### **2. `.env` „Éï„Ç°„Ç§„É´„ÅÆÁ¢∫Ë™ç**
   - „Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÊé•Á∂öÊÉÖÂ†±„ÅåÊ≠£„Åó„ÅÑ„ÅãÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ
     ```
     DATABASE_URL="postgresql://<username>:<password>@localhost:5432/<database_name>"
     ```
   - `<username>`, `<password>`, `<database_name>` „ÅåÊ≠£„Åó„ÅÑ„ÅãÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

#### **3. Prisma „Çπ„Ç≠„Éº„Éû„ÅÆÁ¢∫Ë™ç**
   - `prisma/schema.prisma` „Å´ÊåáÂÆö„Åó„Åü„Éá„Éº„Çø„ÇΩ„Éº„Çπ„Åå `.env` „Å®‰∏ÄËá¥„Åó„Å¶„ÅÑ„Çã„ÅãÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
     ```prisma
     datasource db {
       provider = "postgresql"
       url      = env("DATABASE_URL")
     }
     ```

#### **4. „Éù„Éº„Éà„ÅÆÁ¢∫Ë™ç**
   - `localhost:5432` „Åå‰ªñ„ÅÆ„Éó„É≠„Çª„Çπ„Å´Âç†Êúâ„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑ„ÅãÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ
     ```bash
     netstat -tuln | grep 5432
     ```

#### **5. Prisma „ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅÆÂÜçÁîüÊàê**
   - Prisma „ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅåÊ≠£„Åó„ÅèÁîüÊàê„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
     ```bash
     npx prisma generate
     ```

#### **6. Prisma Migration „ÅÆÂÆüË°å**
   - „Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆ„Éû„Ç§„Ç∞„É¨„Éº„Ç∑„Éß„É≥„ÇíÈÅ©Áî®„Åó„Åæ„Åô„ÄÇ
     ```bash
     npx prisma migrate dev
     ```

#### **7. „Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏„ÇíË™≠„ÅøÂèñ„Çã**
   - Prisma „ÅåÊèêÁ§∫„Åó„Å¶„ÅÑ„Çã„Çà„ÅÜ„Å´„ÄÅÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÜçÂ∫¶ Prisma „ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÇíÁîüÊàê„Åó„Åæ„Åô„ÄÇ
     ```bash
     npx prisma generate
     ```

#### **8. „É≠„Ç∞„ÅßÂïèÈ°å„Çí„Åï„Çâ„Å´ËøΩË∑°**
   - `prisma.logs` „ÇíÊúâÂäπÂåñ„Åó„ÄÅË©≥Á¥∞„Å™„É≠„Ç∞„ÇíÂèñÂæó„Åó„Åæ„Åô„ÄÇ

---

### **Á¢∫Ë™ç„ÅåÂøÖË¶Å„Å™„Éù„Ç§„É≥„Éà**
- PostgreSQL „Åå„Ç§„É≥„Çπ„Éà„Éº„É´Ê∏à„Åø„ÅßËµ∑Âãï„Åó„Å¶„ÅÑ„Çã„Åã„ÄÇ
- `.env` „Éï„Ç°„Ç§„É´„ÅÆÂÜÖÂÆπ„ÅåÊ≠£„Åó„ÅÑ„Åã„ÄÇ
- ‰ΩøÁî®„Åó„Å¶„ÅÑ„Çã Prisma „ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅåÊúÄÊñ∞„Åß„ÅÇ„Çã„Åã„ÄÇ

„Åì„Çå„Çâ„ÇíÁ¢∫Ë™ç„Åô„Çå„Å∞ÂïèÈ°å„ÇíËß£Ê±∫„Åß„Åç„Çã„ÅØ„Åö„Åß„Åô„ÄÇ„Åù„Çå„Åß„ÇÇËß£Ê±∫„Åó„Å™„ÅÑÂ†¥Âêà„ÄÅË©≥Á¥∞„Å™„É≠„Ç∞„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

---

## üë§ „É¶„Éº„Ç∂„Éº
*2024/12/18 12:59:21*

```

---

## ü§ñ „Ç¢„Ç∑„Çπ„Çø„É≥„Éà
*2024/12/18 12:59:24*

ÂÜçÂ∫¶Á¢∫Ë™ç„Åó„Åü„ÅÑÁÇπ„ÇÑ„Ç®„É©„Éº„Å´Èñ¢„Åô„ÇãËøΩÂä†ÊÉÖÂ†±„Åå„ÅÇ„Çå„Å∞„ÄÅ„Åú„Å≤Êïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Åü„Å®„Åà„Å∞„ÄÅ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å™ÊÉÖÂ†±„ÇíÊèê‰æõ„ÅÑ„Åü„Å†„Åë„Çã„Å®„ÄÅÂÖ∑‰ΩìÁöÑ„Å™Ëß£Ê±∫ÊñπÊ≥ï„ÇíÊèêÊ°à„Åó„ÇÑ„Åô„Åè„Å™„Çä„Åæ„Åô„ÄÇ

1. **„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÁ®ÆÈ°û**Ôºà‰æã: PostgreSQL, MySQL „Å™„Å©Ôºâ
2. **Áí∞Â¢É**Ôºà‰æã: „É≠„Éº„Ç´„É´ÈñãÁô∫Áí∞Â¢É, Docker „Ç≥„É≥„ÉÜ

---
