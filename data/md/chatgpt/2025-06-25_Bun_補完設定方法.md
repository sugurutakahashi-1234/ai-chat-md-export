# Bun 補完設定方法

日付: 2025-06-25

---

## 👤 ユーザー
*2025/6/25 17:31:50*

これと同じような機能はbunにはないかな？

### npm と pnpmp の自動保管

https://gkuga.hatenablog.com/entry/2025/02/23/130538

```shell
npm completion >> ~/.zshrc
```

```shell
pnpm completion zsh >> ~/.zshrc
```

```shell
cat ~/.zshrc
```

---

## 🤖 アシスタント
*2025/6/25 17:32:45*

はい、 Bun にも npm / pnpm と同じ「シェル補完（オートコンプリート）」機能があります。  
Bun 本体に `bun completions` というサブコマンドが組み込まれており、Bash / Zsh / Fish 用の補完スクリプトを標準出力に生成できます（公式インストールスクリプトでも内部で呼び出されています）citeturn5search3turn10search7。

---

## Zsh での最短手順

```bash
# ❶ bun が自動判定した zsh 用補完スクリプトを吐き出す
bun completions > ~/.bun/_bun

# ❷ 補完ディレクトリを $fpath に追加
echo 'fpath+=(~/.bun)' >> ~/.zshrc

# ❸ 補完機能を再読み込み
autoload -Uz compinit && compinit -i
source ~/.zshrc
```

> **ワンライナー派なら**  
> `bun completions >> ~/.zshrc` でも動きますが、`.zshrc` が長く汚れやすいので上記のように別ファイルに置く方法が推奨です。  
> Oh-My-Zsh / zinit 等を使っている場合は、それぞれの *completions* フォルダに `bun completions > .../_bun` と出力すれば OK です。

---

## Bash

```bash
sudo bun completions > /etc/bash_completion.d/bun
# またはユーザー単位:
bun completions > ~/.bash_completion.d/bun
source ~/.bashrc
```

---

## Fish

```fish
bun completions > ~/.config/fish/completions/bun.fish
source ~/.config/fish/completions/bun.fish
```

---

### 補足

* **SHELL 変数で明示的に指定**  
  Bun は `$SHELL` を見て出力形式を変えます。もし別シェル用に生成したいときは一時的に環境変数を変えて実行できます。

  ```bash
  SHELL=bash bun completions > bun.bash
  SHELL=fish bun completions > bun.fish
  ```

* **インストール時に自動設定**  
  `curl -fsSL https://bun.sh/install | bash` で入れた場合はスクリプト内で `bun completions` が呼ばれ、dotfilesに追記される仕組みになっています（挙動を制御したい場合はスクリプトを確認してから実行すると安心です）citeturn5search3。

これで Bun でも `bun add <Tab>` や `bun run <Tab>` など、CLI の補完を npm / pnpm と同じ感覚で使えます。

---
