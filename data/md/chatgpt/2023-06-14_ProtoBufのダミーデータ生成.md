# ProtoBufã®ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ

Date: 2023-06-14

---

## ğŸ‘¤ User
*2023-06-14 23:36:45*

Swiftã®ã‚³ãƒ¼ãƒ‰ã§ä»¥ä¸‹ã®protoã§ç”Ÿæˆã•ã‚Œã‚‹Anchorã€Emotionsã€Interaction ã‚’é©å½“ã«ç”Ÿæˆã™ã‚‹ static var dummy ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ¼ã®extension ã‚’ä½œã£ã¦æ¬²ã—ã„

syntax = "proto3";

import "google/protobuf/timestamp.proto";

message Anchor {
  // ä½œæˆæ—¥æ™‚
  google.protobuf.Timestamp timestamp = 1;
  oneof type {
    EyeMovement eye_movement = 2;
    Blink blink = 3;
  }
}

message EyeMovement {
  // ç›®ç·šã®xåº§æ¨™
  double left = 1;
  // ç›®ç·šã®yåº§æ¨™
  double top = 2;
  // çœ¼çƒé‹å‹•çŠ¶æ…‹
  EyeMovementState eye_movement_state = 3;
}

enum EyeMovementState {
  FIXATION = 0;
  SACCADE = 1;
  UNKNOWN = 2;
}

message Blink {
  // å³ç›®ã®ç¬ã
  bool blink_right = 1;
  // å·¦ç›®ã®ç¬ã
  bool blink_left = 2;
  // TODO(rnarkk)
  // double eye_openness = 3;
}


syntax = "proto3";

import "google/protobuf/timestamp.proto";

message Emotions {
  // ä½œæˆæ—¥æ™‚
  google.protobuf.Timestamp timestamp = 1;
  // ä¸­ç«‹
  double neutral = 2;
  // å–œã³
  double happy = 3;
  // æ‚²ã—ã¿
  double sad = 4;
  // æ€’ã‚Š
  double angry = 5;
  // é©šã
  double surprised = 6;
  // å«Œæ‚ª
  double disgusted = 7;
  // æã‚Œ
  double fear = 8;
  // 
  double contempt = 9;
}

syntax = "proto3";

import "google/protobuf/timestamp.proto";

message Interaction {
  google.protobuf.Timestamp timestamp = 1;
  oneof event {
    PageViewEvent page_view = 2;
    ClickEvent click = 3;
    ScrollEvent scroll = 4;
  }
}

message PageViewEvent {
  string url = 1;
  string title = 2;
  string referrer = 3;
}

message ClickEvent {
  string target = 1;
  double left = 2;
  double top = 3;
}

message ScrollEvent {
  string target = 1;
  double left = 2;
  double top = 3;
}

---

## ğŸ¤– Assistant
*2023-06-14 23:38:09*

ProtoBufã®ã‚¯ãƒ©ã‚¹ã‚’Swiftã§ä½¿ç”¨ã™ã‚‹ã«ã¯ã€ProtoBufã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’ä½¿ç”¨ã—ã¦Swiftã®ã‚³ãƒ¼ãƒ‰ã«å¤‰æ›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Swiftã§ã¯ã€å…¬å¼ã«ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€SwiftProtobufã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚Šã€ã“ã‚Œã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§protoãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰Swiftã®ã‚³ãƒ¼ãƒ‰ã«å¤‰æ›ã§ãã¾ã™ã€‚

ã—ã‹ã—ãªãŒã‚‰ã€ã“ã“ã§ã¯è¦æ±‚ã«å¾“ã„ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã™ã‚‹Swiftã®extensionã‚’æä¾›ã—ã¾ã™ã€‚å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ç”Ÿæˆã«ã¯SwiftProtobufã®ä½¿ç”¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚

ä»¥ä¸‹ã«å„messageã®`dummy`ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç¤ºã—ã¾ã™ã€‚å„æ§‹é€ ä½“ãŒæ—¢ã«Swiftã®ã‚¯ãƒ©ã‚¹ã¾ãŸã¯æ§‹é€ ä½“ã¨ã—ã¦å­˜åœ¨ã—ã¦ã„ã‚‹ã¨ä»®å®šã—ã¦ã„ã¾ã™ã€‚

```swift
import Foundation

extension Anchor {
    static var dummy: Anchor {
        var anchor = Anchor()
        anchor.timestamp = Google_Protobuf_Timestamp(date: Date())
        var eyeMovement = EyeMovement()
        eyeMovement.left = 1.0
        eyeMovement.top = 1.0
        eyeMovement.eyeMovementState = .fixation
        anchor.eyeMovement = eyeMovement
        return anchor
    }
}

extension Emotions {
    static var dummy: Emotions {
        var emotions = Emotions()
        emotions.timestamp = Google_Protobuf_Timestamp(date: Date())
        emotions.neutral = 0.1
        emotions.happy = 0.2
        emotions.sad = 0.3
        emotions.angry = 0.4
        emotions.surprised = 0.5
        emotions.disgusted = 0.6
        emotions.fear = 0.7
        emotions.contempt = 0.8
        return emotions
    }
}

extension Interaction {
    static var dummy: Interaction {
        var interaction = Interaction()
        interaction.timestamp = Google_Protobuf_Timestamp(date: Date())
        var pageViewEvent = PageViewEvent()
        pageViewEvent.url = "https://www.example.com"
        pageViewEvent.title = "Example"
        pageViewEvent.referrer = "https://www.google.com"
        interaction.pageView = pageViewEvent
        return interaction
    }
}
```

ã“ã®ä¾‹ã§ã¯ã€ç°¡å˜ã®ãŸã‚ã«Interactionã®pageViewã‚¤ãƒ™ãƒ³ãƒˆã®ã¿ã‚’ç”Ÿæˆã—ã¦ã„ã¾ã™ãŒã€clickã‚„scrollã®ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚‚åŒæ§˜ã«ç”Ÿæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸã€Google_Protobuf_Timestampã®åˆæœŸåŒ–ã«ã¤ã„ã¦ã‚‚é©åˆ‡ã«è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

---

## ğŸ‘¤ User
*2023-06-14 23:38:52*

enumã§è¤‡æ•°ã‚ã‚‹ã‚±ãƒ¼ã‚¹ã‚‚dummyXXX ã¨ã„ã†ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ¼ã§å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ç”Ÿæˆã—ã¦ã»ã—ã„

---

## ğŸ¤– Assistant
*2023-06-14 23:40:15*

ã‚¢ãƒ³ã‚«ãƒ¼ã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã®å„ã‚¿ã‚¤ãƒ—ã®`dummy`ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã¾ã™ã€‚ä¸€éƒ¨ã€ã‚¿ã‚¤ãƒ—ã‚’ä»£è¡¨ã™ã‚‹ç‰¹å®šã®å€¤ã‚’è¨­å®šã™ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã®ãƒ€ãƒŸãƒ¼å€¤ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```swift
extension Anchor {
    static var dummyEyeMovement: Anchor {
        var anchor = Anchor()
        anchor.timestamp = Google_Protobuf_Timestamp(date: Date())
        var eyeMovement = EyeMovement()
        eyeMovement.left = 1.0
        eyeMovement.top = 1.0
        eyeMovement.eyeMovementState = .fixation
        anchor.eyeMovement = eyeMovement
        return anchor
    }

    static var dummyBlink: Anchor {
        var anchor = Anchor()
        anchor.timestamp = Google_Protobuf_Timestamp(date: Date())
        var blink = Blink()
        blink.blinkRight = true
        blink.blinkLeft = false
        anchor.blink = blink
        return anchor
    }
}

extension Interaction {
    static var dummyPageViewEvent: Interaction {
        var interaction = Interaction()
        interaction.timestamp = Google_Protobuf_Timestamp(date: Date())
        var pageViewEvent = PageViewEvent()
        pageViewEvent.url = "https://www.example.com"
        pageViewEvent.title = "Example"
        pageViewEvent.referrer = "https://www.google.com"
        interaction.pageView = pageViewEvent
        return interaction
    }

    static var dummyClickEvent: Interaction {
        var interaction = Interaction()
        interaction.timestamp = Google_Protobuf_Timestamp(date: Date())
        var clickEvent = ClickEvent()
        clickEvent.target = "button"
        clickEvent.left = 100.0
        clickEvent.top = 200.0
        interaction.click = clickEvent
        return interaction
    }

    static var dummyScrollEvent: Interaction {
        var interaction = Interaction()
        interaction.timestamp = Google_Protobuf_Timestamp(date: Date())
        var scrollEvent = ScrollEvent()
        scrollEvent.target = "list"
        scrollEvent.left = 300.0
        scrollEvent.top = 400.0
        interaction.scroll = scrollEvent
        return interaction
    }
}
```
ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€ã‚¢ãƒ³ã‚«ãƒ¼ã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã®ç•°ãªã‚‹ã‚¿ã‚¤ãƒ—ã«å¯¾ã—ã¦ãã‚Œãã‚Œã®`dummy`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æä¾›ã—ã¾ã™ã€‚EyeMovementã¨Blinkã®å ´åˆã€ã¾ãŸã€PageViewEventã€ClickEventã€ScrollEventã®å ´åˆã§ãã‚Œãã‚Œã®ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã™ã¹ã¦ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã€ãã‚Œãã‚Œã®ã‚¿ã‚¤ãƒ—ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã—ã¾ã™ã€‚

---
