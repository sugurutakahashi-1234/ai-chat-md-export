# SwiftUI ナビゲーションバーの色

日付: 2023-05-19

---

## 👤 ユーザー
*2023/5/20 2:01:36*

SwiftUI でナビゲーションバーのタイトルやステータスバーのアイテムの色を白にしたいんだけどどうすればいいかな？

---

## 🤖 アシスタント
*2023/5/20 2:02:18*

SwiftUIでは、ナビゲーションバーやステータスバーの色を直接設定するためのAPIは提供されていません。ただし、`navigationViewStyle(StackNavigationViewStyle())`を使用してナビゲーションビューのスタイルを変更し、アクセントカラーを変更することで、間接的にタイトルの色を変更することができます。

以下に示すコードは、ナビゲーションバータイトルを白にする方法です。

```swift
NavigationView {
    ZStack {
        Color.black.edgesIgnoringSafeArea(.all)

        VStack {
            Text("Content Here")
        }
        .navigationBarTitle("Your Title")
        .navigationBarHidden(false)
        .navigationBarTitleDisplayMode(.inline)
    }
}
.navigationViewStyle(StackNavigationViewStyle())
.accentColor(.white)
```

上記のコードは、ナビゲーションバータイトルの色を白に変更します。ただし、背景色も黒に設定しているため、白いタイトルが表示されます。

また、iOS 15では新しい `toolbar` APIが導入され、これを使用してナビゲーションバーのアイテムをカスタマイズすることができます。

ステータスバーの色を変更することは、現状の SwiftUI の API では実現できません。これは UIKit の機能であり、SwiftUI はそのような低レベルの制御を提供していません。UIHostingController をカスタマイズするなど、UIKIt と SwiftUI を混在させることで対応可能ではありますが、それは比較的複雑な解決策となる可能性があります。

この情報は2021年9月までの情報で、それ以降にリリースされた iOS や SwiftUI のバージョンでは変わっている可能性があります。最新の情報をご確認ください。

---

## 👤 ユーザー
*2023/5/20 2:02:20*

toolbar API で書いて欲しい

---

## 🤖 アシスタント
*2023/5/20 2:03:07*

iOS 15以降、SwiftUIでは`toolbar`APIを使用してナビゲーションバー内のアイテムをカスタマイズできます。ツールバーは非常に強力で柔軟性があり、ツールバーアイテムを作成して追加することができます。

以下に、白いナビゲーションバータイトルとツールバーアイテムを設定する例を示します：

```swift
import SwiftUI

struct ContentView: View {
    var body: some View {
        NavigationView {
            Text("Hello, World!")
                .navigationTitle("Title")
                .toolbar {
                    ToolbarItem(placement: .navigationBarTrailing) {
                        Button(action: {
                            print("Button pressed.")
                        }) {
                            Image(systemName: "star.fill")
                        }
                    }
                }
        }
        .navigationViewStyle(StackNavigationViewStyle())
        .accentColor(.white)
    }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        ContentView()
    }
}
```

このコードでは、ツールバーアイテムとしてボタンを配置し、そのボタンにシステム画像（星）を設定しています。このボタンはナビゲーションバーの右側に配置されます。また、`.accentColor(.white)`で全体のアクセントカラーを白に設定しています。

上記のコードは、ナビゲーションバータイトルとツールバーアイテムの色を白に変更します。ただし、背景色も黒に設定しているため、白いタイトルとツールバーアイテムが表示されます。

SwiftUIがiOSアプリ開発の主要なフレームワークとして成長するにつれて、このようなカスタマイズのためのAPIが更に充実することを期待できます。

---

## 👤 ユーザー
*2023/5/20 2:08:38*

info.plistの指定ででナビゲーションバーとタイトルの色を変更できないの？

---

## 🤖 アシスタント
*2023/5/20 2:10:00*

UIKitベースのアプリケーションでは、Info.plistやAppearance APIを使用してアプリ全体のナビゲーションバーの外観を変更することが可能です。しかし、SwiftUIではこれらの方法は直接適用することができません。

しかし、SwiftUIがUIKitと共存することは可能なので、ある程度のカスタマイズは可能です。例えば、アプリの起動時にナビゲーションバーの外観を変更することができます。以下はその一例です：

```swift
func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
    let appearance = UINavigationBarAppearance()
    appearance.backgroundColor = .black
    appearance.titleTextAttributes = [.foregroundColor: UIColor.white]
    appearance.largeTitleTextAttributes = [.foregroundColor: UIColor.white]

    UINavigationBar.appearance().standardAppearance = appearance
    UINavigationBar.appearance().compactAppearance = appearance
    UINavigationBar.appearance().scrollEdgeAppearance = appearance

    // Other setup code...

    return true
}
```

このコードは、`AppDelegate.swift`内の`application(_:didFinishLaunchingWithOptions:)`メソッド内に配置することができます。これにより、アプリ全体のナビゲーションバーの背景色が黒になり、タイトルテキストの色が白になります。

ただし、このような方法でナビゲーションバーの外観を変更すると、SwiftUIの`NavigationView`内の各ビューでそれぞれ個別にナビゲーションバーの外観を制御することはできなくなる点に注意してください。

また、ステータスバーの色を変更することは、iOS 13以降では公式にはサポートされていません。Info.plistでの設定（`UIStatusBarStyle`や`UIViewControllerBasedStatusBarAppearance`）もiOS 13以降では無視されます。

以上の情報は2021年9月までのもので、それ以降のiOSやSwiftUIのバージョンでは異なる可能性があります。最新の公式ドキュメンテーションをご確認ください。

---
