# åå‰å¤‰æ›´ã®ææ¡ˆ

æ—¥ä»˜: 2024-12-06

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/12/6 10:19:35*

go_router: ^14.6.2 ã§ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¨2ã¤ã®ã‚¿ãƒ–ã§åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹ç”»é¢ã¸ã®é·ç§»ã‚’ã—ã¦ã»ã—ã„ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/12/6 10:20:13*

ä»¥ä¸‹ã®ã‚ˆã†ã« `go_router` ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã€ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã‹ã‚‰2ã¤ã®ã‚¿ãƒ–ã‚’æŒã¤ç”»é¢ã«é·ç§»ã™ã‚‹æ§‹æˆã‚’å®Ÿç¾ã§ãã¾ã™ã€‚`go_router` ãƒãƒ¼ã‚¸ãƒ§ãƒ³ `^14.6.2` ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚

### æ‰‹é †

1. **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
   ```yaml
   dependencies:
     go_router: ^14.6.2
   ```

2. **ã‚³ãƒ¼ãƒ‰ä¾‹**

ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯ã€ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã‹ã‚‰2ã¤ã®ã‚¿ãƒ– (`Tab1View` ã¨ `Tab2View`) ã‚’æŒã¤ã‚¿ãƒ–ç”»é¢ (`HomeView`) ã¸ã®é·ç§»ã‚’è¨­å®šã™ã‚‹ä¾‹ã§ã™ã€‚

```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  final GoRouter _router = GoRouter(
    initialLocation: '/login',
    routes: [
      GoRoute(
        path: '/login',
        builder: (context, state) => LoginView(),
      ),
      ShellRoute(
        builder: (context, state, child) => HomeView(child: child),
        routes: [
          GoRoute(
            path: '/tab1',
            builder: (context, state) => Tab1View(),
          ),
          GoRoute(
            path: '/tab2',
            builder: (context, state) => Tab2View(),
          ),
        ],
      ),
    ],
  );

  @override
  Widget build(BuildContext context) {
    return MaterialApp.router(
      routerDelegate: _router.routerDelegate,
      routeInformationParser: _router.routeInformationParser,
    );
  }
}

class LoginView extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Login')),
      body: Center(
        child: ElevatedButton(
          onPressed: () {
            // ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸå¾Œã«ã‚¿ãƒ–ç”»é¢ã¸é·ç§»
            context.go('/tab1');
          },
          child: Text('Login'),
        ),
      ),
    );
  }
}

class HomeView extends StatelessWidget {
  final Widget child;

  const HomeView({required this.child});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Home')),
      body: Column(
        children: [
          Expanded(child: child),
          BottomNavigationBar(
            currentIndex: GoRouter.of(context).location == '/tab1' ? 0 : 1,
            onTap: (index) {
              if (index == 0) {
                context.go('/tab1');
              } else {
                context.go('/tab2');
              }
            },
            items: [
              BottomNavigationBarItem(icon: Icon(Icons.home), label: 'Tab 1'),
              BottomNavigationBarItem(icon: Icon(Icons.settings), label: 'Tab 2'),
            ],
          ),
        ],
      ),
    );
  }
}

class Tab1View extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Center(child: Text('Tab 1 Content'));
  }
}

class Tab2View extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Center(child: Text('Tab 2 Content'));
  }
}
```

### èª¬æ˜

1. **`LoginView`**
   - åˆæœŸç”»é¢ã§ã™ã€‚ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€`/tab1` ã«é·ç§»ã—ã¦ã‚¿ãƒ–ä»˜ãã®ãƒ›ãƒ¼ãƒ ç”»é¢ã«ç§»å‹•ã—ã¾ã™ã€‚

2. **`HomeView`**
   - `ShellRoute` ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¿ãƒ–ç”»é¢å…¨ä½“ã‚’åŒ…ã‚€ã‚³ãƒ³ãƒ†ãƒŠã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚
   - `BottomNavigationBar` ã‚’åˆ©ç”¨ã—ã¦ã‚¿ãƒ–ã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚

3. **ã‚¿ãƒ–ç”»é¢**
   - `Tab1View` ã¨ `Tab2View` ã¯ãã‚Œãã‚Œ `/tab1` ãŠã‚ˆã³ `/tab2` ã®ãƒ«ãƒ¼ãƒˆã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚

4. **é·ç§»**
   - ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸå¾Œã« `context.go('/tab1')` ã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€`Tab1View` ã«é·ç§»ã—ã¾ã™ã€‚

ã“ã‚Œã«ã‚ˆã‚Šã€`go_router` ã‚’ä½¿ã£ãŸã‚·ãƒ³ãƒ—ãƒ«ã§ãƒ¢ãƒ€ãƒ³ãªç”»é¢é·ç§»ãŒå®Ÿç¾ã§ãã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/12/6 10:50:35*

ãã‚Œãã‚Œãƒ•ã‚¡ã‚¤ãƒ«åˆ†ã‘ã—ã¦ã»ã—ã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/12/6 10:51:13*

ä»¥ä¸‹ã®æ§‹æˆã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†ã‘ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã®è¦‹é€šã—ãŒè‰¯ããªã‚Šã¾ã™ã€‚ãã‚Œãã‚Œã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ç‹¬ç«‹ã—ã¦ãŠã‚Šã€ç°¡å˜ã«ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã§ãã¾ã™ã€‚

---

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ
```
lib/
â”œâ”€â”€ main.dart
â”œâ”€â”€ router.dart
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ login_view.dart
â”‚   â”œâ”€â”€ home_view.dart
â”‚   â”œâ”€â”€ tab1_view.dart
â”‚   â””â”€â”€ tab2_view.dart
```

---

### `main.dart`
ã‚¢ãƒ—ãƒªå…¨ä½“ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚

```dart
import 'package:flutter/material.dart';
import 'router.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp.router(
      routerDelegate: router.routerDelegate,
      routeInformationParser: router.routeInformationParser,
    );
  }
}
```

---

### `router.dart`
ãƒ«ãƒ¼ãƒˆè¨­å®šã‚’ç®¡ç†ã—ã¾ã™ã€‚

```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import 'views/login_view.dart';
import 'views/home_view.dart';
import 'views/tab1_view.dart';
import 'views/tab2_view.dart';

final GoRouter router = GoRouter(
  initialLocation: '/login',
  routes: [
    GoRoute(
      path: '/login',
      builder: (context, state) => LoginView(),
    ),
    ShellRoute(
      builder: (context, state, child) => HomeView(child: child),
      routes: [
        GoRoute(
          path: '/tab1',
          builder: (context, state) => Tab1View(),
        ),
        GoRoute(
          path: '/tab2',
          builder: (context, state) => Tab2View(),
        ),
      ],
    ),
  ],
);
```

---

### `views/login_view.dart`
ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã€‚

```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';

class LoginView extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Login')),
      body: Center(
        child: ElevatedButton(
          onPressed: () {
            // ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸå¾Œã«ã‚¿ãƒ–ç”»é¢ã¸é·ç§»
            context.go('/tab1');
          },
          child: Text('Login'),
        ),
      ),
    );
  }
}
```

---

### `views/home_view.dart`
ã‚¿ãƒ–ç”»é¢ã‚’åŒ…ã‚€ã‚³ãƒ³ãƒ†ãƒŠã€‚

```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';

class HomeView extends StatelessWidget {
  final Widget child;

  const HomeView({required this.child});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Home')),
      body: Column(
        children: [
          Expanded(child: child),
          BottomNavigationBar(
            currentIndex: GoRouter.of(context).location == '/tab1' ? 0 : 1,
            onTap: (index) {
              if (index == 0) {
                context.go('/tab1');
              } else {
                context.go('/tab2');
              }
            },
            items: [
              BottomNavigationBarItem(icon: Icon(Icons.home), label: 'Tab 1'),
              BottomNavigationBarItem(icon: Icon(Icons.settings), label: 'Tab 2'),
            ],
          ),
        ],
      ),
    );
  }
}
```

---

### `views/tab1_view.dart`
1ã¤ç›®ã®ã‚¿ãƒ–ç”»é¢ã€‚

```dart
import 'package:flutter/material.dart';

class Tab1View extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Center(child: Text('Tab 1 Content'));
  }
}
```

---

### `views/tab2_view.dart`
2ã¤ç›®ã®ã‚¿ãƒ–ç”»é¢ã€‚

```dart
import 'package:flutter/material.dart';

class Tab2View extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Center(child: Text('Tab 2 Content'));
  }
}
```

---

ã“ã‚Œã§ã€å„ç”»é¢ãŒãƒ•ã‚¡ã‚¤ãƒ«ã”ã¨ã«åˆ†ã‹ã‚Œã¦ãŠã‚Šã€ç®¡ç†ã—ã‚„ã™ã„æ§‹é€ ã«ãªã£ã¦ã„ã¾ã™ã€‚å¿…è¦ã«å¿œã˜ã¦ã€ã•ã‚‰ã«è©³ç´°ãªæ©Ÿèƒ½ã‚’è¿½åŠ ã§ãã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/12/6 12:49:20*

views ã§ã¯ãªã

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/12/6 12:49:22*

`views` ã§ã¯ãªãã€ã‚ˆã‚Šé©åˆ‡ãªåå‰ã«å¤‰æ›´ã—ãŸã„å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«

---
