# é¸æŠã‚³ãƒ”ãƒ¼æ©Ÿèƒ½ã®å®Ÿè£…

Date: 2024-05-29

---

## ğŸ‘¤ User
*2024-05-29 15:51:26*

SwiftUI ã§é¸æŠã‚³ãƒ”ãƒ¼ iOS17ä»¥ä¸Š

---

## ğŸ¤– Assistant
*2024-05-29 15:51:40*

iOS 17ä»¥ä¸Šã§ã€SwiftUIã‚’ä½¿ã£ã¦é¸æŠã‚³ãƒ”ãƒ¼æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚ã“ã®æ©Ÿèƒ½ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ†ã‚­ã‚¹ãƒˆã‚’é¸æŠã—ã¦ã‚³ãƒ”ãƒ¼ã™ã‚‹ã“ã¨ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚

### æ‰‹é †

1. **Text Selection Modifierã®ä½¿ç”¨**:
   SwiftUIã«ãŠã„ã¦ã€ãƒ†ã‚­ã‚¹ãƒˆã‚’é¸æŠå¯èƒ½ã«ã™ã‚‹ãŸã‚ã«ã¯ã€`textSelection`ãƒ¢ãƒ‡ã‚£ãƒ•ã‚¡ã‚¤ã‚¢ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚iOS 16ã‹ã‚‰å°å…¥ã•ã‚ŒãŸã“ã®ãƒ¢ãƒ‡ã‚£ãƒ•ã‚¡ã‚¤ã‚¢ã¯ã€iOS 17ã§ã‚‚åˆ©ç”¨å¯èƒ½ã§ã™ã€‚

2. **TextViewã®è¨­å®š**:
   `Text`ãƒ“ãƒ¥ãƒ¼ã«å¯¾ã—ã¦ã€`textSelection(.enabled)`ã‚’é©ç”¨ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ†ã‚­ã‚¹ãƒˆãŒé¸æŠå¯èƒ½ã¨ãªã‚Šã€ã‚³ãƒ”ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã™ã€‚

ä»¥ä¸‹ã«ã€å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

```swift
import SwiftUI

struct ContentView: View {
    var body: some View {
        VStack {
            Text("é¸æŠã—ã¦ã‚³ãƒ”ãƒ¼ã§ãã‚‹ãƒ†ã‚­ã‚¹ãƒˆã§ã™ã€‚")
                .textSelection(.enabled)
                .padding()

            Text("ã“ã®ãƒ†ã‚­ã‚¹ãƒˆã‚‚åŒæ§˜ã«é¸æŠã—ã¦ã‚³ãƒ”ãƒ¼ã§ãã¾ã™ã€‚")
                .textSelection(.enabled)
                .padding()
        }
        .padding()
    }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        ContentView()
    }
}
```

### è§£èª¬
- `textSelection(.enabled)`ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ãã®ãƒ†ã‚­ã‚¹ãƒˆãŒé¸æŠå¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚
- `VStack`ã‚’ä½¿ç”¨ã—ã¦ã€è¤‡æ•°ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ“ãƒ¥ãƒ¼ã‚’é…ç½®ã—ã¦ã„ã¾ã™ã€‚
- `.padding()`ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€è¦‹ã‚„ã™ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ã—ã¦ã„ã¾ã™ã€‚

ã“ã®æ–¹æ³•ã§ã€iOS 17ä»¥ä¸Šã®SwiftUIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ç°¡å˜ã«é¸æŠã‚³ãƒ”ãƒ¼æ©Ÿèƒ½ã‚’å®Ÿè£…ã§ãã¾ã™ã€‚

---

## ğŸ‘¤ User
*2024-05-29 15:51:48*

ç¯„å›²ã‚’é¸æŠã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„

---

## ğŸ¤– Assistant
*2024-05-29 15:52:08*

ç¯„å›²é¸æŠã‚’å¯èƒ½ã«ã™ã‚‹ãŸã‚ã«ã¯ã€`UITextView`ã‚’ä½¿ã£ã¦ã‚«ã‚¹ã‚¿ãƒ ã®SwiftUIãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ãŒåŠ¹æœçš„ã§ã™ã€‚`UITextView`ã‚’ä½¿ã†ã“ã¨ã§ã€ãƒ†ã‚­ã‚¹ãƒˆã®ç¯„å›²é¸æŠãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ä»¥ä¸‹ã«ã€ãã®å®Ÿè£…æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚

### 1. UIViewRepresentableã‚’ä½¿ç”¨ã—ã¦UITextViewã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹

ã¾ãšã€`UITextView`ã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹ãŸã‚ã®ã‚«ã‚¹ã‚¿ãƒ SwiftUIãƒ“ãƒ¥ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚

```swift
import SwiftUI
import UIKit

struct SelectableTextView: UIViewRepresentable {
    var text: String
    
    func makeUIView(context: Context) -> UITextView {
        let textView = UITextView()
        textView.isEditable = false
        textView.isSelectable = true
        textView.text = text
        textView.font = UIFont.systemFont(ofSize: 18)
        textView.backgroundColor = UIColor.clear
        return textView
    }
    
    func updateUIView(_ uiView: UITextView, context: Context) {
        uiView.text = text
    }
}

struct ContentView: View {
    var body: some View {
        VStack {
            SelectableTextView(text: "é¸æŠã—ã¦ã‚³ãƒ”ãƒ¼ã§ãã‚‹ãƒ†ã‚­ã‚¹ãƒˆã§ã™ã€‚")
                .frame(height: 100)
                .padding()
            
            SelectableTextView(text: "ã“ã®ãƒ†ã‚­ã‚¹ãƒˆã‚‚åŒæ§˜ã«é¸æŠã—ã¦ã‚³ãƒ”ãƒ¼ã§ãã¾ã™ã€‚")
                .frame(height: 100)
                .padding()
        }
        .padding()
    }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        ContentView()
    }
}
```

### 2. è§£èª¬

- `SelectableTextView`ã¯`UIViewRepresentable`ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’å®Ÿè£…ã—ã€`UITextView`ã‚’SwiftUIã§ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚
- `makeUIView`ãƒ¡ã‚½ãƒƒãƒ‰ã§`UITextView`ã‚’ä½œæˆã—ã€é¸æŠå¯èƒ½ãªçŠ¶æ…‹ã«è¨­å®šã—ã¾ã™ã€‚
- `updateUIView`ãƒ¡ã‚½ãƒƒãƒ‰ã§ã€å¿…è¦ã«å¿œã˜ã¦ãƒ†ã‚­ã‚¹ãƒˆã‚’æ›´æ–°ã—ã¾ã™ã€‚
- `ContentView`ã§ã¯ã€`SelectableTextView`ã‚’ä½¿ç”¨ã—ã¦ãƒ†ã‚­ã‚¹ãƒˆãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚

ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒ†ã‚­ã‚¹ãƒˆã®ç¯„å›²ã‚’é¸æŠã—ã¦ã‚³ãƒ”ãƒ¼ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚`UITextView`ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ãƒ†ã‚­ã‚¹ãƒˆã®é¸æŠã¨ã‚³ãƒ”ãƒ¼ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ãŸã‚ã€ã“ã®ã‚ˆã†ã«ç°¡å˜ã«å®Ÿè£…ã§ãã¾ã™ã€‚

---
