# Moge初期化記法の歴史

日付: 2025-04-30

---

## 👤 ユーザー
*2025/4/30 9:00:50*

この moge3や moge4の記法ができるようになったのはいつから？


struct Hoge {
    let value: Int
}

struct Moge {
    let value: Int
    
    init(hoge: Hoge) {
        self.value = hoge.value
    }
}

let hoges = \[
    Hoge(value: 1),
    Hoge(value: 2),
    Hoge(value: 3)
\]



let moge1 = hoges.map { hoge in
    Moge(hoge: hoge)
}

let moge2 = hoges.map {
    Moge(hoge: $0)
}

let moge3 = hoges.map(Moge.init(hoge:))

let moge4 = hoges.map(Moge.init)

---

## 🤖 アシスタント
*2025/4/30 9:02:17*

### 結論だけ先に

| 記法 | 使えるようになった Swift  | Xcode | 根拠 |
|------|-------------------------|-------|------|
| `hoges.map(Moge.init)`（moge4） | \*\*Swift 2.0\*\*（2015-09, Xcode 7） | 7.0  | Xcode 7 Release Notes に \*“Initializers can now be referenced like static methods by referring to .init … let oneTwoThree = \[1, 2, 3\].map(String.init)”\* と明記 citeturn11search7 |
| `hoges.map(Moge.init(hoge:))`（moge3） | \*\*Swift 2.2\*\*（2016-03, Xcode 7.3） | 7.3  | SE-0021 \*“Naming Functions with Argument Labels”\* が Swift 2.2 で実装され、ラベル付きの関数／イニシャライザ参照が可能に citeturn5view0 |

---

#### 少し詳しく

1. \*\*Swift 1.x（Xcode 6 系）\*\*
   \* イニシャライザを高階関数に渡すには `map { Moge(hoge: $0) }` のようにクロージャを書く必要があった。

2. \*\*Swift 2.0（Xcode 7, 2015-09）\*\*
   \* Release Notes にあるように、`Type.init` を「そのまま関数値として渡す」ことが認められた。  
     \*この時点では引数ラベルを含める書き方はまだ非対応\*。  
     → `hoges.map(Moge.init)` が書けるようになった（moge4）。

3. \*\*Swift 2.2（Xcode 7.3, 2016-03）\*\*
   \* Swift Evolution SE-0021 が取り込まれ、\*\*ラベル付き\*\*のシグネチャで関数／メソッド／イニシャライザを参照できるようになった。  
     → `hoges.map(Moge.init(hoge:))` も OK（moge3）。

4. \*\*Swift 3 以降\*\*
   \* 上記仕様がすべてそのまま維持。`map(Moge.init)` と `map(Moge.init(hoge:))` の両方が普通に使える。

---

### まとめ

- \*\*moge4\*\*（`Moge.init` だけ渡す形）は \*Swift 2.0\* から。  
- \*\*moge3\*\*（ラベル付きで渡す形）は \*Swift 2.2\* から。

現在（Swift 5.x 以降）はどちらも問題なく使えるので、プロジェクトの Swift バージョンが 2.2 以上なら両方利用可能です。

---
