# ç”»åƒãƒœãƒ¼ãƒ€ãƒ¼è¿½åŠ æ–¹æ³•

æ—¥ä»˜: 2024-12-20

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/12/20 15:32:47*

SpotListPage ã«ã‚‚ SpotDetailPage ã¨åŒæ§˜ã«ç”»åƒã«ç™½ã®ãƒœãƒ¼ãƒ€ãƒ¼ã‚’è¨­å®šã—ãŸã„ã€‚

import 'package:flutter/material.dart';
import 'package:go\_router/go\_router.dart';
import 'package:snpit\_guild\_app/domain/screen.dart';
import 'package:snpit\_guild\_app/utils/extensions/uri\_extensions.dart';

class SpotListPage extends StatelessWidget {
  const SpotListPage({super.key});

  @override
  Widget build(BuildContext context) {
    final spotList = List.generate(
      12,
      (index) =&gt; {
        'imageUrl': UriExtensions.randomImageUrl.toString(),
        'label': String.fromCharCode(65 + index),
      },
    );

    return Scaffold(
      appBar: AppBar(
        automaticallyImplyLeading: false,
        title: const Text('Spot list'),
        actions: \[
          IconButton(
            icon: const Icon(Icons.close),
            onPressed: () {
              // ãƒœãƒˆãƒ ã‚·ãƒ¼ãƒˆå…¨ä½“ã‚’é–‰ã˜ã‚‹
              Navigator.of(context, rootNavigator: true).pop();
            },
          ),
        \],
      ),
      body: GridView.builder(
        padding: const EdgeInsets.all(16),
        gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(
          crossAxisCount: 3,
          crossAxisSpacing: 8,
          mainAxisSpacing: 8,
        ),
        itemCount: spotList.length,
        itemBuilder: (context, index) {
          final spot = spotList\[index\];
          final imageUrl = spot\['imageUrl'\]!;
          final label = spot\['label'\]!;

          return GestureDetector(
            onTap: () {
              context.push(Screen.spotDetail.path);
            },
            child: Stack(
              alignment: Alignment.bottomCenter,
              children: \[
                Container(
                  color: Colors.grey\[200\],
                  child: ClipRRect(
                    borderRadius: BorderRadius.circular(8),
                    child: Image.network(
                      imageUrl,
                      fit: BoxFit.cover,
                      width: double.infinity,
                      height: double.infinity,
                      loadingBuilder: (context, child, loadingProgress) {
                        if (loadingProgress == null) {
                          return child;
                        }
                        // TODO: ãªãœã‹ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒè¡¨ç¤ºã•ã‚Œãªã„
                        return const Center(
                          child: CircularProgressIndicator(),
                        );
                      },
                      errorBuilder: (context, error, stackTrace) {
                        debugPrint('Image loading error: $error');
                        return const Center(
                          child: Icon(Icons.error, color: Colors.red),
                        );
                      },
                    ),
                  ),
                ),
                Positioned(
                  top: 8,
                  left: 8,
                  child: Container(
                    padding:
                        const EdgeInsets.symmetric(horizontal: 8, vertical: 4),
                    decoration: BoxDecoration(
                      color: Colors.black.withValues(alpha: 0.5),
                      borderRadius: BorderRadius.circular(4),
                    ),
                    child: Text(
                      label,
                      style: const TextStyle(color: Colors.white, fontSize: 12),
                    ),
                  ),
                ),
              \],
            ),
          );
        },
      ),
    );
  }
}

import 'package:flutter/material.dart';
import 'package:flutter\_hooks/flutter\_hooks.dart';
import 'package:hooks\_riverpod/hooks\_riverpod.dart';
import 'package:snpit\_guild\_app/presentation/design\_token/color\_token.dart';
import 'package:snpit\_guild\_app/utils/extensions/uri\_extensions.dart';

class SpotDetailPage extends HookConsumerWidget {
  const SpotDetailPage({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    // TODO: API ç–é€š or å‰ç”»é¢ã‹ã‚‰ã‚‚ã£ã¦ãã‚‹
    final imageUrl = useState(UriExtensions.randomImageUrl.toString());

    // TODO: ä»®å®Ÿè£…
    final items = \[
      const ListTile(
        contentPadding: EdgeInsets.symmetric(horizontal: 16),
        title: Text('Difficulty level'),
        trailing: CircleAvatar(
          backgroundColor: ColorToken.rarityCommon,
          child: Text('D'),
        ),
      ),
      ListTile(
        contentPadding: const EdgeInsets.symmetric(horizontal: 16),
        title: const Text(
          'Holder',
          style: TextStyle(fontSize: 14),
        ),
        trailing: const Row(
          mainAxisSize: MainAxisSize.min,
          children: \[
            Text(
              'Your Guild',
              style: TextStyle(
                fontSize: 14,
              ),
            ),
            SizedBox(width: 8),
            Icon(
              Icons.arrow\_forward\_ios,
              size: 16,
              color: ColorToken.text,
            ),
          \],
        ),
        onTap: () {
          debugPrint('Navigate to Guild Detail');
        },
      ),
    \];

    return Scaffold(
      appBar: AppBar(
        title: const Text('Detail'),
        leading: IconButton(
          icon: const Icon(Icons.arrow\_back),
          onPressed: () {
            Navigator.pop(context);
          },
        ),
        actions: \[
          IconButton(
            icon: const Icon(Icons.close),
            onPressed: () {
              // ãƒœãƒˆãƒ ã‚·ãƒ¼ãƒˆå…¨ä½“ã‚’é–‰ã˜ã‚‹
              Navigator.of(context, rootNavigator: true).pop();
            },
          ),
        \],
      ),
      body: SingleChildScrollView(
        padding: const EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.stretch,
          children: \[
            AspectRatio(
              aspectRatio: 1,
              child: ClipRRect(
                borderRadius: BorderRadius.circular(8),
                child: Stack(
                  fit: StackFit.expand,
                  children: \[
                    // è§’ä¸¸ã«ãƒœãƒ¼ãƒ€ãƒ¼ ã‚’å…¥ã‚Œã‚‹ã«ã¯ Container x Padding ã‚’ä½¿ã†
                    Container(
                      decoration: BoxDecoration(
                        border: Border.all(color: Colors.white, width: 2),
                        borderRadius: BorderRadius.circular(8),
                      ),
                    ),
                    Padding(
                      padding: const EdgeInsets.all(2),
                      child: ClipRRect(
                        borderRadius: BorderRadius.circular(8),
                        child: Image.network(
                          imageUrl.value,
                          fit: BoxFit.cover,
                          loadingBuilder: (context, child, loadingProgress) {
                            if (loadingProgress == null) {
                              return child;
                            }
                            return const Center(
                              child: CircularProgressIndicator(),
                            );
                          },
                          errorBuilder: (context, error, stackTrace) {
                            debugPrint('Image loading error: $error');
                            return const Center(
                              child: Icon(Icons.error, color: Colors.red),
                            );
                          },
                        ),
                      ),
                    ),
                  \],
                ),
              ),
            ),
            const SizedBox(height: 16),
            DecoratedBox(
              decoration: BoxDecoration(
                color: ColorToken.bg,
                borderRadius: BorderRadius.circular(8),
                border: Border.all(
                  color: ColorToken.border,
                  width: 0.5,
                ),
              ),
              // ListView.separated() ã§å®Ÿè£…ã™ã‚‹ã¨æœ€å¾Œã®è¦ç´ ã«è¬ã®ä½™ç™½ãŒç”Ÿã˜ãŸãŸã‚ Column ã§å®Ÿè£…
              child: Column(
                mainAxisSize: MainAxisSize.min,
                children: List.generate(
                  items.length,
                  (index) =&gt; Column(
                    children: \[
                      items\[index\],
                      if (index &lt; items.length - 1) // æœ€å¾Œã®ã‚¢ã‚¤ãƒ†ãƒ ã«ã¯ç·šã‚’è¿½åŠ ã—ãªã„
                        Container(
                          height: 0.5,
                          color: ColorToken.border,
                        ),
                    \],
                  ),
                ),
              ),
            ),
          \],
        ),
      ),
    );
  }
}

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/12/20 15:33:03*

`SpotListPage` ã«ã‚‚ `SpotDetailPage` ã¨åŒæ§˜ã«ç”»åƒã«ç™½ã®ãƒœãƒ¼ãƒ€ãƒ¼ã‚’è¨­å®šã™ã‚‹ã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚`SpotDetailPage` ã®ç”»åƒè¡¨ç¤ºéƒ¨åˆ†ã®å®Ÿè£…ã‚’å‚è€ƒã«ã€`SpotListPage` ã® `GridView.builder` å†…ã§ãƒœãƒ¼ãƒ€ãƒ¼ä»˜ãã® `Container` ã‚’è¿½åŠ ã—ã¾ã™ã€‚

ä¿®æ­£å¾Œã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

```dart
return GestureDetector(
  onTap: () {
    context.push(Screen.spotDetail.path);
  },
  child: Stack(
    alignment: Alignment.bottomCenter,
    children: [
      Container(
        decoration: BoxDecoration(
          border: Border.all(color: Colors.white, width: 2),
          borderRadius: BorderRadius.circular(8),
        ),
        child: Padding(
          padding: const EdgeInsets.all(2),
          child: ClipRRect(
            borderRadius: BorderRadius.circular(8),
            child: Image.network(
              imageUrl,
              fit: BoxFit.cover,
              width: double.infinity,
              height: double.infinity,
              loadingBuilder: (context, child, loadingProgress) {
                if (loadingProgress == null) {
                  return child;
                }
                return const Center(
                  child: CircularProgressIndicator(),
                );
              },
              errorBuilder: (context, error, stackTrace) {
                debugPrint('Image loading error: $error');
                return const Center(
                  child: Icon(Icons.error, color: Colors.red),
                );
              },
            ),
          ),
        ),
      ),
      Positioned(
        top: 8,
        left: 8,
        child: Container(
          padding: const EdgeInsets.symmetric(horizontal: 8, vertical: 4),
          decoration: BoxDecoration(
            color: Colors.black.withAlpha(128),
            borderRadius: BorderRadius.circular(4),
          ),
          child: Text(
            label,
            style: const TextStyle(color: Colors.white, fontSize: 12),
          ),
        ),
      ),
    ],
  ),
);
```

### å¤‰æ›´ç‚¹ã®èª¬æ˜
1. **ãƒœãƒ¼ãƒ€ãƒ¼ã®è¿½åŠ **:
   - `Container` ã‚’ä½¿ç”¨ã—ã¦ `border` ã‚’è¨­å®šã€‚
   - `Border.all(color: Colors.white, width: 2)` ã‚’æŒ‡å®šã—ã¦ç™½ã®ãƒœãƒ¼ãƒ€ãƒ¼ã‚’æç”»ã€‚

2. **ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã®é©ç”¨**:
   - å†…å´ã®ç”»åƒã‚’ãƒœãƒ¼ãƒ€ãƒ¼ã«æ¥è§¦ã—ãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã€`Padding` ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’è¿½åŠ ã€‚

3. **ç”»åƒã®ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°**:
   - `ClipRRect` ã‚’ä½¿ç”¨ã—ã¦ç”»åƒã‚’ãƒœãƒ¼ãƒ€ãƒ¼ã«åˆã‚ã›ã¦è§’ä¸¸ã«ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°ã€‚

ã“ã‚Œã«ã‚ˆã‚Šã€`SpotListPage` ã®ç”»åƒã«ã‚‚ç™½ã„ãƒœãƒ¼ãƒ€ãƒ¼ãŒé©ç”¨ã•ã‚Œã€`SpotDetailPage` ã¨çµ±ä¸€æ„Ÿã®ã‚ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ã«ãªã‚Šã¾ã™ã€‚

---
