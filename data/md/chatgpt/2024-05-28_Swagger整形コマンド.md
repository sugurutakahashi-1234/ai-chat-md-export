# Swagger整形コマンド

日付: 2024-05-28

---

## 👤 ユーザー
*2024/5/28 12:19:04*

npx で実行できる openapi.yaml の体裁を整えるコマンドを教えてほしい

---

## 🤖 アシスタント
*2024/5/28 12:19:11*

OpenAPI (以前のSwagger) ドキュメントの体裁を整えるためには、`swagger-cli` を使用することができます。`swagger-cli` は、OpenAPI スキーマを検証し、フォーマットを整えるためのツールです。以下の手順に従ってください：

1. `swagger-cli` をインストールします：
   ```sh
   npm install -g swagger-cli
   ```

2. `swagger-cli` を使って OpenAPI ドキュメントの体裁を整えます：
   ```sh
   npx swagger-cli validate openapi.yaml
   ```

3. ドキュメントの整形には `prettier` も併用できます：
   ```sh
   npm install -g prettier
   prettier --write openapi.yaml
   ```

以上の手順で、`openapi.yaml` のフォーマットと整合性を確認し、整えることができます。`swagger-cli` を使用してスキーマの検証を行い、`prettier` を使用してコードのフォーマットを整えることが一般的です。

---

## 👤 ユーザー
*2024/5/28 12:21:40*

openapi の記述がチームで整わないことを懸念している。prettierの他のツールはないか？

---

## 🤖 アシスタント
*2024/5/28 12:21:53*

OpenAPI の記述をチームで一貫して整えるために、`prettier` 以外にもいくつかのツールを使用することができます。以下は、OpenAPI ドキュメントのフォーマットと一貫性を保つために使用できるツールです：

1. **Spectral**
   - `Spectral` は、OpenAPI スキーマの linting ツールです。カスタムルールを作成し、チーム全体で一貫性を保つために使用できます。
   - インストール：
     ```sh
     npm install -g @stoplight/spectral-cli
     ```
   - 使用方法：
     ```sh
     npx spectral lint openapi.yaml
     ```

2. **OpenAPI Generator CLI**
   - `OpenAPI Generator CLI` は、OpenAPI スキーマからクライアントやサーバーのコードを生成するツールですが、スキーマの検証にも使用できます。
   - インストール：
     ```sh
     npm install -g @openapitools/openapi-generator-cli
     ```
   - 使用方法：
     ```sh
     npx openapi-generator-cli validate -i openapi.yaml
     ```

3. **Redocly CLI**
   - `Redocly CLI` は、OpenAPI ドキュメントのフォーマットと一貫性を保つためのツールです。lint 機能も備えています。
   - インストール：
     ```sh
     npm install -g @redocly/cli
     ```
   - 使用方法：
     ```sh
     npx redocly lint openapi.yaml
     ```

これらのツールを使用することで、チーム全体で OpenAPI ドキュメントのフォーマットと一貫性を保つことができます。また、CI/CD パイプラインに組み込むことで、自動的にスキーマの検証とフォーマットを行うことも可能です。

---
