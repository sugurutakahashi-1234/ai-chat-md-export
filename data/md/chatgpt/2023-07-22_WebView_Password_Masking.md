# WebView Password Masking

日付: 2023-07-22

---

## 👤 ユーザー
*2023/07/22 22:53:38*

SwiftでWebViewを操作しているところを録画しているが、その際にパスワードの秘密情報の入力を見えないように修正したいがどうすればよいか？

---

## 🤖 アシスタント
*2023/07/22 22:54:13*

SwiftでWebViewを操作して録画している際にパスワード入力を見えないようにする方法は、ある程度困難です。パスワード入力を録画しないようにするための最善の方法は、録画を一時停止することです。しかし、もしコードで操作することができなければ、以下のようなアプローチを考えることができます。

**1. マスキングレイヤーの使用:**
パスワード入力中に特定の領域を覆うようなマスキングレイヤーを表示することで、特定の領域を隠すことができます。ただし、この方法はWebViewの具体的な位置やサイズが事前にわかっていること、または動的に計算できることが前提となります。

```swift
let maskLayer = CALayer()
maskLayer.backgroundColor = UIColor.black.cgColor // 色を選択
maskLayer.frame = CGRect(x: 0, y: 0, width: 100, height: 100) // 位置とサイズを指定
webView.layer.addSublayer(maskLayer)
```

**2. カスタムのWebViewの使用:**
WKWebViewのサブクラスを作成し、パスワード入力領域のレンダリングをオーバーライドすることも考えられます。しかし、これは非常に複雑な方法で、予期しない副作用を引き起こす可能性があります。

**3. パスワード入力をアプリの外部で行う:**
パスワード入力自体をアプリの外部、例えば設定画面などで行い、その値をWebViewの操作時に使用する方法もあります。これにより、パスワード入力そのものを録画する必要がなくなります。

ただし、いずれの方法もセキュリティ上の問題を完全に解決するものではなく、機密情報を取り扱う際には常に最善の注意を払う必要があります。機密情報を保護するための最善の方法は、それを一切録画しないことです。

---
