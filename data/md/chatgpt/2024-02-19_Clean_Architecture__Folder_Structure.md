# Clean Architecture: Folder Structure

日付: 2024-02-19

---

## 👤 ユーザー
*2024/2/19 13:11:43*

クリーンアーキテクチャーにおいて、フレームワーク層に依存するフォルダとそうではないフォルダで分けているのだけれども、その2つのフォルダ名を考えてほしい

---

## 🤖 アシスタント
*2024/2/19 13:12:28*

クリーンアーキテクチャーにおいて、フレームワーク層に依存する部分とそうではない部分を区分けするために、明確なフォルダ名を設定することは、プロジェクトの構造を明確にし、メンテナンス性を向上させる上で非常に重要です。以下に、それぞれのフォルダの特徴に基づく提案をします。

### フレームワーク層に依存するフォルダ

- \*\*`Infrastructure`\*\*
  - このフォルダは、外部フレームワークやライブラリ、データベースアクセス、ファイルシステムの操作など、アプリケーションの外部に依存する具体的な実装を含みます。クリーンアーキテクチャーでは、このような外部依存性は内部のビジネスロジックから分離されるべきです。

### フレームワーク層に依存しないフォルダ

- \*\*`Core`\*\* または \*\*`Domain`\*\*
  - このフォルダは、アプリケーションのビジネスルールやエンティティ、バリューオブジェクト、ドメインサービスなど、フレームワークやインフラストラクチャに依存しない、アプリケーションの核となる部分を含みます。ここに置かれるコードは、アプリケーションのビジネスロジックを反映し、再利用可能で、テストしやすい形であるべきです。

### 補足

- \*\*`Application`\*\*
  - このフォルダは、`Core`/`Domain`と`Infrastructure`の中間に位置し、アプリケーションのユースケースやサービスを実装します。`Application`層は、`Domain`層を使ってシステムのビジネスロジックを実行し、`Infrastructure`層との橋渡しをするが、直接的なインフラストラクチャの詳細には依存しません。

このようにフォルダを分けることで、依存関係のルール（依存性の逆転の原則など）に従い、高いレベルの抽象化を持つコードが低いレベルの詳細に依存しないように構成することが可能になります。

---

## 👤 ユーザー
*2024/2/19 13:12:40*

単純に「フレームワーク層に依存した」と「フレームワーク層に依存していない」というような単語を使ってほしい

---

## 🤖 アシスタント
*2024/2/19 13:13:06*

了解しました。その要望に基づいて、以下のように単純化したフォルダ名を提案します。

### フレームワーク層に依存するフォルダ

- \*\*`FrameworkDependent`\*\*
  - このフォルダは、フレームワークや外部ライブラリへの依存を含む実装が置かれます。具体的には、フレームワーク固有の機能、外部APIの呼び出し、データベースアクセスの実装などがここに含まれます。

### フレームワーク層に依存しないフォルダ

- \*\*`FrameworkIndependent`\*\*
  - このフォルダには、フレームワークや外部のライブラリ、その他の外部要素から独立した、純粋なビジネスロジックやドメインモデルが含まれます。ここにあるコードは、アプリケーションの核心的な機能を担い、再利用性とテスト容易性を重視しています。

この命名法は、プロジェクトの構造内での各フォルダの役割と依存性の関係を明確にし、開発者がコードの配置に関する意思決定を行う際の指針を提供します。

---

## 👤 ユーザー
*2024/2/19 13:13:28*

ちょっと視認性が悪いので候補を挙げてほしい

---

## 🤖 アシスタント
*2024/2/19 13:13:59*

視認性を重視したフォルダ名の提案をいくつか挙げます。目的は、フォルダ名だけ見ても、そのフォルダがフレームワーク層に依存しているのか、依存していないのかを明確にすることです。

### フレームワーク層に依存するフォルダの候補

1. \*\*`DependsOnFramework`\*\*
2. \*\*`WithFramework`\*\*
3. \*\*`FrameworkSpecific`\*\*
4. \*\*`BoundToFramework`\*\*
5. \*\*`FrameworkLinked`\*\*

### フレームワーク層に依存しないフォルダの候補

1. \*\*`FrameworkAgnostic`\*\*
2. \*\*`IndependentOfFramework`\*\*
3. \*\*`FrameworkNeutral`\*\*
4. \*\*`BeyondFramework`\*\*
5. \*\*`NoFramework`\*\*

これらのフォルダ名は、それぞれのフォルダが持つべき特性をより明確に表現しています。`DependsOnFramework`や`WithFramework`などは、フレームワークとの結びつきが強いコードを格納する場所であることを示し、`FrameworkAgnostic`や`IndependentOfFramework`などは、フレームワークから独立していて、どのような環境でも使えるようなコードが置かれることを意味しています。これにより、コードの管理や新しい開発者の理解が容易になります。

---

## 👤 ユーザー
*2024/2/19 13:14:31*

xxxxRouterのような命名を考えている。もうすこし候補を挙げてほしい

---

## 🤖 アシスタント
*2024/2/19 13:14:57*

`xxxxRouter`のような命名規則を用いて、フレームワーク層に依存するフォルダと依存しないフォルダの区別をつけるための命名候補を提案します。ここで`xxxx`は、フォルダがフレームワークに依存するか否かを示すキーワードに置き換えます。

### フレームワーク層に依存するフォルダの候補

1. \*\*`FrameworkDependentRouter`\*\*
2. \*\*`FrameworkBoundRouter`\*\*
3. \*\*`FrameworkTiedRouter`\*\*
4. \*\*`FrameworkLinkedRouter`\*\*
5. \*\*`FrameworkSpecificRouter`\*\*

これらはフレームワークに依存する部分、つまり外部ライブラリやフレームワークの機能を直接利用するコードを格納するフォルダの命名に適しています。

### フレームワーク層に依存しないフォルダの候補

1. \*\*`FrameworkAgnosticRouter`\*\*
2. \*\*`FrameworkFreeRouter`\*\*
3. \*\*`FrameworkIndependentRouter`\*\*
4. \*\*`FrameworkNeutralRouter`\*\*
5. \*\*`CoreRouter`\*\*

これらはフレームワークから独立しており、アプリケーションのビジネスロジックやドメインルールを実装するコードを格納するフォルダの命名に適しています。特に`CoreRouter`は、そのフォルダがアプリケーションの核心的なビジネスロジックを扱うことを強調しています。

これらの命名規則は、プロジェクトの構造をナビゲートする際に直感的な理解を促し、開発者が適切な場所にコードを配置するのを助けることを目的としています。

---

## 👤 ユーザー
*2024/2/19 13:17:58*

NoFrameworkのような候補をもっとあげてほしい

---

## 🤖 アシスタント
*2024/2/19 13:18:22*

フレームワーク層に依存しないフォルダの命名について、`NoFramework`に類似した明確で直感的な命名規則を提案します。これらの命名は、コードがフレームワークや外部ライブラリから独立していることを示すのに役立ちます。

1. \*\*`FrameworkFree`\*\*
2. \*\*`FrameworkLess`\*\*
3. \*\*`IndependentCore`\*\*
4. \*\*`PureLogic`\*\*
5. \*\*`BaseCore`\*\*
6. \*\*`CoreDomain`\*\*
7. \*\*`StandaloneLogic`\*\*
8. \*\*`UniversalCode`\*\*
9. \*\*`UnboundCore`\*\*
10. \*\*`FrameworkNeutral`\*\*

これらの名前は、フレームワークからの独立性を強調することにより、そのフォルダ内のコードがアプリケーションの中核的なビジネスロジックやドメインモデルに集中していることを明示します。このような命名規則を採用することで、プロジェクトの構造がより明瞭になり、開発者がどのようなコードをどこに配置すべきかについて直感的な理解を深めることができます。

---

## 👤 ユーザー
*2024/2/19 13:19:20*

NoFrameworkRouter, NonFrameworkRouter, TestRouter, このようなイメージで候補をあげてほしい

---

## 🤖 アシスタント
*2024/2/19 13:19:43*

`NoFrameworkRouter`、`NonFrameworkRouter`、`TestRouter`のような命名規則に基づいて、フレームワーク層に依存しないフォルダのための追加の命名候補を提案します。これらの名前は、フレームワークから独立したコードの配置に適していることを示すために設計されています。

1. \*\*`BareRouter`\*\*
2. \*\*`PureRouter`\*\*
3. \*\*`SimpleRouter`\*\*
4. \*\*`BaseRouter`\*\*
5. \*\*`CoreRouter`\*\*
6. \*\*`UniversalRouter`\*\*
7. \*\*`StandaloneRouter`\*\*
8. \*\*`NeutralRouter`\*\*
9. \*\*`IndependentRouter`\*\*
10. \*\*`FrameworkExemptRouter`\*\*

これらの名前は、フレームワークに依存しないルーティングロジックや、アプリケーションの中核的な機能を担うコードのためのフォルダを指定する際に有用です。`TestRouter`のように、特定の目的（この場合はテスト）に特化した命名も考慮すると良いでしょう。これらの命名規則は、プロジェクト内でのコードの整理と理解を容易にすることを目的としています。

---
