# URL httpsã®å‡¦ç†

Date: 2024-06-21

---

## ğŸ‘¤ User
*2024-06-21 11:03:33*

url ãŒ httpsã®ã‚ˆã†ãªã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å†ç”Ÿå¯èƒ½ãªurlã§ã‚ã‚Œã°progressiveDownloadPrepareToPlayã§ãã†ã§ãªã‘ã‚Œã°prepareToPlayã¨ã™ã‚‹ã‚ˆã†ãªå‡¦ç†ã‚’æ›¸ã„ã¦ã»ã—ã„

    func onAppear(audioUrl: URL) {
        isLoading = true
        let audioUrl: URL
        Task {
            await audioPlayDriver.progressiveDownloadPrepareToPlay(url: URL(string: "https://www.ne.jp/asahi/music/myuu/wave/clapolka.mp3")!)
            await audioPlayDriver.prepareToPlay(localFilePath: audioUrl)
        }
    }

---

## ğŸ¤– Assistant
*2024-06-21 11:03:41*

ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€`audioUrl`ãŒã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å†ç”Ÿå¯èƒ½ãªURLï¼ˆhttpsã§å§‹ã¾ã‚‹ï¼‰ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ã€é©åˆ‡ãªãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚`progressiveDownloadPrepareToPlay`ã¯ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å†ç”Ÿã®å ´åˆã«ã€`prepareToPlay`ã¯ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´åˆã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

```swift
func onAppear(audioUrl: URL) {
    isLoading = true
    
    Task {
        if audioUrl.scheme == "https" {
            await audioPlayDriver.progressiveDownloadPrepareToPlay(url: audioUrl)
        } else {
            await audioPlayDriver.prepareToPlay(localFilePath: audioUrl)
        }
        isLoading = false
    }
}
```

ã“ã®ä¿®æ­£ã§ã¯ã€`audioUrl`ã®ã‚¹ã‚­ãƒ¼ãƒ ãŒ`https`ã§ã‚ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ã€ãã‚Œã«å¿œã˜ã¦é©åˆ‡ãªãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚ã¾ãŸã€`isLoading`ã‚’å‡¦ç†ã®çµ‚äº†å¾Œã«`false`ã«è¨­å®šã—ã¦ã€ãƒ­ãƒ¼ãƒ‰ãŒå®Œäº†ã—ãŸã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚

ã“ã‚Œã§ã€URLãŒã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å†ç”Ÿå¯èƒ½ãªURLã§ã‚ã‚Œã°`progressiveDownloadPrepareToPlay`ãŒå‘¼ã³å‡ºã•ã‚Œã€ãã†ã§ãªã‘ã‚Œã°`prepareToPlay`ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

---
