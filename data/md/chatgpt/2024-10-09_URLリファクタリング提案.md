# URLリファクタリング提案

Date: 2024-10-09

---

## 👤 User
*2024-10-09 15:28:33*

urlStringを使うようにリファクタリングしてほしい


enum Constants {
    enum Website: CaseIterable {
        case promotionVideo
        case termsOfService
        case privacyPolicy
        case cancelSubscription

        var url: URL {
            switch self {
            case .promotionVideo:
                #if DEBUG
                URL(string: "https://dev.static.progrit.work/diatalk/onboarding_movie.mp4")!
                #else
                URL(string: "https://static.progrit.work/diatalk/onboarding_movie.mp4")!
                #endif
            case .termsOfService:
                URL(string: "https://www.diatalk.com/terms/")!
            case .privacyPolicy:
                URL(string: "https://www.progrit.co.jp/privacy/")!
            case .cancelSubscription:
                URL(string: "https://sugurutakahashi-1234.github.io/redirect-sample-web-page/")!
            }
        }
        
        private var urlString: String {
            switch self {
            
            }
        }
    }
    }

---

## 🤖 Assistant
*2024-10-09 15:28:40*

`urlString`を使うようにリファクタリングするには、各ケースの`URL(string:)`の部分を`urlString`プロパティにまとめ、その`urlString`を使って`url`プロパティで`URL`に変換するようにします。

以下のようにリファクタリングできます。

```swift
enum Constants {
    enum Website: CaseIterable {
        case promotionVideo
        case termsOfService
        case privacyPolicy
        case cancelSubscription

        var url: URL {
            return URL(string: urlString)!
        }

        private var urlString: String {
            switch self {
            case .promotionVideo:
                #if DEBUG
                return "https://dev.static.progrit.work/diatalk/onboarding_movie.mp4"
                #else
                return "https://static.progrit.work/diatalk/onboarding_movie.mp4"
                #endif
            case .termsOfService:
                return "https://www.diatalk.com/terms/"
            case .privacyPolicy:
                return "https://www.progrit.co.jp/privacy/"
            case .cancelSubscription:
                return "https://sugurutakahashi-1234.github.io/redirect-sample-web-page/"
            }
        }
    }
}
```

これにより、各ケースのURLを`urlString`で一元管理し、`url`プロパティで`URL`に変換して返すようになります。

---
