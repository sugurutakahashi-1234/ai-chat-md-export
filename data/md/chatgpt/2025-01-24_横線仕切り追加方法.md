# æ¨ªç·šä»•åˆ‡ã‚Šè¿½åŠ æ–¹æ³•

æ—¥ä»˜: 2025-01-24

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/1/24 19:03:10*

{
  "content_type": "image_asset_pointer",
  "asset_pointer": "file-service://file-WNpqffPsTpeF95W1ueaaEK",
  "size_bytes": 570225,
  "width": 746,
  "height": 1564,
  "fovea": null,
  "metadata": {
    "dalle": null,
    "gizmo": null,
    "generation": null,
    "container_pixel_height": null,
    "container_pixel_width": null,
    "emu_omit_glimpse_image": null,
    "emu_patches_override": null,
    "sanitized": true,
    "asset_pointer_link": null,
    "watermarked_asset_pointer": null
  }
}
{
  "content_type": "image_asset_pointer",
  "asset_pointer": "file-service://file-Q7e8ocr4H5KfvXWQ2Dsw1B",
  "size_bytes": 80434,
  "width": 423,
  "height": 960,
  "fovea": null,
  "metadata": {
    "dalle": null,
    "gizmo": null,
    "generation": null,
    "container_pixel_height": null,
    "container_pixel_width": null,
    "emu_omit_glimpse_image": null,
    "emu_patches_override": null,
    "sanitized": true,
    "asset_pointer_link": null,
    "watermarked_asset_pointer": null
  }
}
ï¼‘æšç›®ã®æ·»ä»˜ã—ãŸç”»åƒã¯ç¾åœ¨ã®å®Ÿè£…ã§ã€ï¼’æšç›®ã®æ·»ä»˜ã—ãŸç”»åƒã¯ç›®æŒ‡ã—ãŸã„å®Ÿè£…ã§ã‚ã‚‹ã€‚

å¯¾å¿œã—ã¦ã»ã—ã„ã“ã¨ã¯ã€DecoratedBoxã®ä¸­ã«ã¤ã„ã¦ã€ï¼’æšç›®ã®æ·»ä»˜ã—ãŸç”»åƒã®ã‚ˆã†ã«ã‚«ãƒ©ãƒ ã®è¦ç´ ã‚’æ¨ªã§åŒºåˆ‡ã‚‹ã‚ˆã†ãªç·šã‚’å¼•ããŸã„ã€‚

import 'package:cached_network_image/cached_network_image.dart';
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter_hooks/flutter_hooks.dart';
import 'package:go_router/go_router.dart';
import 'package:hooks_riverpod/hooks_riverpod.dart';
import 'package:snpit_guild_app/domain/design/color_pallet.dart';
import 'package:snpit_guild_app/domain/design/color_token.dart';
import 'package:snpit_guild_app/domain/screen.dart';
import 'package:snpit_guild_app/presentation/providers/api_client/accounts/get_account.dart';
import 'package:snpit_guild_app/presentation/widgets/parameters_bar_column.dart';
import 'package:snpit_guild_app/presentation/widgets/square_image.dart';
import 'package:snpit_guild_app/presentation/widgets/total_parameters_row.dart';
import 'package:snpit_guild_app/utils/snack_bar_utils.dart';

class MyPage extends HookConsumerWidget {
  const MyPage({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final myAccountState = ref.watch(getMyAccountNotifierProvider);

    Future&lt;void&gt; onTapCopyId(String id) async {
      await Clipboard.setData(ClipboardData(text: id));
      if (context.mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('ID: $id copied to clipboard'),
          ),
        );
      }
    }

    useEffect(
      () {
        Future.microtask(() async {
          try {
            await ref
                .read(getMyAccountNotifierProvider.notifier)
                .getMyAccount();
          } on Exception catch (error) {
            if (context.mounted) {
              showErrorSnackBar(context, error);
            }
          }
        });
        return null;
      },
      [],
    );

    return Scaffold(
      appBar: AppBar(
        title: const Text('My Page'),
      ),
      body: myAccountState.when(
        data: (myAccount) {
          final id = myAccount?.userId ?? '';
          final name = myAccount?.username ?? '';
          final photoUrl = myAccount?.avatar ?? '';
          final deck = myAccount?.decks?.first;
          final cameraList = deck?.deckCameras;

          return SingleChildScrollView(
            child: Padding(
              padding: const EdgeInsets.all(24),
              child: Column(
                children: [
                  // User
                  Row(
                    children: [
                      CircleAvatar(
                        radius: 28,
                        backgroundColor:
                            ColorPallet.white.withValues(alpha: 0.6),
                        child: CircleAvatar(
                          radius: 27,
                          backgroundImage: CachedNetworkImageProvider(photoUrl),
                        ),
                      ),
                      const SizedBox(width: 12),
                      SizedBox(
                        width: 182,
                        child: Column(
                          crossAxisAlignment: CrossAxisAlignment.start,
                          children: [
                            Text(
                              name,
                              maxLines: 1,
                              overflow: TextOverflow.ellipsis,
                              style: const TextStyle(
                                fontSize: 16,
                                fontWeight: FontWeight.bold,
                              ),
                            ),
                            const SizedBox(height: 8),
                            GestureDetector(
                              onTap: () async {
                                await onTapCopyId(id);
                              },
                              child: Row(
                                children: [
                                  Expanded(
                                    child: Text(
                                      'ID: $id',
                                      maxLines: 1,
                                      overflow: TextOverflow.ellipsis,
                                      style: const TextStyle(
                                        fontSize: 12,
                                        color: ColorPallet.gray300,
                                      ),
                                    ),
                                  ),
                                  const Icon(
                                    Icons.copy,
                                    color: ColorToken.primary,
                                    size: 12,
                                  ),
                                ],
                              ),
                            ),
                          ],
                        ),
                      ),
                      const Spacer(),
                      IconButton(
                        icon: const Icon(
                          Icons.settings_outlined,
                          size: 24,
                        ),
                        color: ColorToken.text,
                        onPressed: () async {
                          await context.push(Screen.profile.path);
                        },
                      ),
                    ],
                  ),

                  const SizedBox(height: 24),

                  // Deck
                  Column(
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: [
                      Row(
                        children: [
                          const Text(
                            'Decks',
                            style: TextStyle(
                              fontSize: 16,
                              fontWeight: FontWeight.bold,
                            ),
                          ),
                          const Spacer(),
                          Flexible(
                            child: OutlinedButton(
                              onPressed: () {
                                context.push(Screen.deckDetail.path);
                              },
                              style: OutlinedButton.styleFrom(
                                minimumSize: const Size.fromHeight(32),
                              ),
                              child: const Text(
                                'Edit deck',
                                style: TextStyle(
                                  fontSize: 12,
                                  fontWeight: FontWeight.bold,
                                ),
                              ),
                            ),
                          ),
                        ],
                      ),
                      const SizedBox(height: 16),
                      DecoratedBox(
                        decoration: BoxDecoration(
                          color: ColorToken.bg,
                          borderRadius: BorderRadius.circular(8),
                          border: Border.all(
                            color: ColorToken.border,
                            width: 0.5,
                          ),
                        ),
                        child: Column(
                          children: [
                            Padding(
                              padding: const EdgeInsets.all(16),
                              child: TotalParametersRow(
                                searchValue: deck?.searchQ ?? 0,
                                attackValue: deck?.attackE ?? 0,
                                luckValue: deck?.luckL ?? 0,
                                defenceValue: deck?.defenseB ?? 0,
                              ),
                            ),
                            Column(
                              children: cameraList!.map((camera) {
                                return Padding(
                                  padding: const EdgeInsets.all(16),
                                  child: Row(
                                    children: [
                                      Expanded(
                                        child: Row(
                                          children: [
                                            Row(
                                              crossAxisAlignment:
                                                  CrossAxisAlignment.start,
                                              children: [
                                                ClipRRect(
                                                  borderRadius:
                                                      BorderRadius.circular(4),
                                                  child: SquareImage(
                                                    imageUrl: camera.cameraUrl,
                                                    size: 78,
                                                  ),
                                                ),
                                                const SizedBox(width: 8),
                                                Column(
                                                  crossAxisAlignment:
                                                      CrossAxisAlignment.start,
                                                  children: [
                                                    Text(
                                                      camera.rarity ?? '',
                                                      style: const TextStyle(
                                                        fontSize: 12,
                                                      ),
                                                    ),
                                                    const SizedBox(height: 8),
                                                    Text(
                                                      'Lv.${camera.level}',
                                                      style: const TextStyle(
                                                        fontSize: 12,
                                                      ),
                                                    ),
                                                  ],
                                                ),
                                              ],
                                            ),
                                          ],
                                        ),
                                      ),
                                      Expanded(
                                        child: ParametersBarColumn(
                                          searchValue: camera.searchQ ?? 0,
                                          attackValue: camera.attackE ?? 0,
                                          luckValue: camera.luckL ?? 0,
                                          defenceValue: camera.defenseB ?? 0,
                                        ),
                                      ),
                                    ],
                                  ),
                                );
                              }).toList(),
                            ),
                          ],
                        ),
                      ),
                    ],
                  ),
                ],
              ),
            ),
          );
        },
        loading: () {
          return const Center(child: CircularProgressIndicator());
        },
        error: (error, _) {
          return Center(child: Text('Error: $error'));
        },
      ),
    );
  }
}

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/1/24 19:03:59*

**æ¨ªãƒ©ã‚¤ãƒ³ï¼ˆDividerï¼‰ã‚’ Column ã®ä¸­ã§ä»•åˆ‡ã‚Šã¨ã—ã¦å…¥ã‚Œã‚‹æ–¹æ³•**ã¯ã„ãã¤ã‹ã‚ã‚Šã¾ã™ãŒã€ã‚·ãƒ³ãƒ—ãƒ«ãªã®ã¯ **ListView.separated** ã‚’ä½¿ã†ã‹ã€ã‚ã‚‹ã„ã¯ **Column + Divider ã‚’æ‰‹å‹•ã§æŒŸã‚€** ã¨ã„ã†ã‚„ã‚Šæ–¹ã§ã™ã€‚

---

## 1. ListView.separated ã‚’ä½¿ã†å ´åˆ

`ListView.separated` ã¯ã€Œå„ã‚¢ã‚¤ãƒ†ãƒ é–“ã« Divider ãªã©ä»•åˆ‡ã‚Šç”¨ã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’æŒŸã‚€ã€ç”¨é€”ã«ç‰¹åŒ–ã—ãŸã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§ã™ã€‚  
å…ƒã®ã‚³ãƒ¼ãƒ‰ã® `cameraList!.map(...)` ã§è¿”ã—ã¦ã„ã‚‹éƒ¨åˆ†ã‚’ã€ä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã‚‹ã¨ã€  
å„ `camera` åŒå£«ã®é–“ã«è‡ªå‹•çš„ã«æ¨ªç·šã‚’æŒŸã‚ã¾ã™ã€‚  
ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã¯ç¸¦æ–¹å‘ã®ã¾ã¾ã«ã—ã€`shrinkWrap` ã‚„ `physics` ã‚’å·¥å¤«ã™ã‚‹ã¨ã€`Column` ã®ä¸­ã«ç½®ã„ã¦ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚

```dart
// Deck
Column(
  crossAxisAlignment: CrossAxisAlignment.start,
  children: [
    ...
    // Deckå…¨ä½“ã®èƒŒæ™¯ã®ãƒœãƒƒã‚¯ã‚¹
    DecoratedBox(
      decoration: BoxDecoration(
        color: ColorToken.bg,
        borderRadius: BorderRadius.circular(8),
        border: Border.all(
          color: ColorToken.border,
          width: 0.5,
        ),
      ),
      child: Column(
        children: [
          // ãƒˆãƒ¼ã‚¿ãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®è¡Œ
          Padding(
            padding: const EdgeInsets.all(16),
            child: TotalParametersRow(
              searchValue: deck?.searchQ ?? 0,
              attackValue: deck?.attackE ?? 0,
              luckValue: deck?.luckL ?? 0,
              defenceValue: deck?.defenseB ?? 0,
            ),
          ),
          
          // ä»•åˆ‡ã‚Šç·šã‚’æŒŸã‚“ã§ã‚«ãƒ¡ãƒ©ä¸€è¦§ã‚’ä¸¦ã¹ãŸã„å ´åˆ
          SizedBox(
            height: 1,
            child: Container(color: ColorToken.border),
          ),

          // ã“ã“ã‚’ ListView.separated ã«ç½®ãæ›ãˆã‚‹
          ListView.separated(
            shrinkWrap: true,                 // è¦ªã®Columnã«åˆã‚ã›ã¦é«˜ã•ã‚’è©°ã‚ã‚‹
            physics: const NeverScrollableScrollPhysics(), // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã¯è¦ªã«ä»»ã›ã‚‹
            itemCount: cameraList!.length,
            separatorBuilder: (context, index) {
              // å„ã‚¢ã‚¤ãƒ†ãƒ ã®é–“ã«å…¥ã‚Œã‚‹ä»•åˆ‡ã‚Šç·š
              return Container(
                height: 1,
                color: ColorToken.border,
              );
            },
            itemBuilder: (context, index) {
              final camera = cameraList![index];
              return Padding(
                padding: const EdgeInsets.all(16),
                child: Row(
                  children: [
                    Expanded(
                      child: Row(
                        children: [
                          Row(
                            crossAxisAlignment: CrossAxisAlignment.start,
                            children: [
                              ClipRRect(
                                borderRadius: BorderRadius.circular(4),
                                child: SquareImage(
                                  imageUrl: camera.cameraUrl,
                                  size: 78,
                                ),
                              ),
                              const SizedBox(width: 8),
                              Column(
                                crossAxisAlignment: CrossAxisAlignment.start,
                                children: [
                                  Text(
                                    camera.rarity ?? '',
                                    style: const TextStyle(fontSize: 12),
                                  ),
                                  const SizedBox(height: 8),
                                  Text(
                                    'Lv.${camera.level}',
                                    style: const TextStyle(fontSize: 12),
                                  ),
                                ],
                              ),
                            ],
                          ),
                        ],
                      ),
                    ),
                    Expanded(
                      child: ParametersBarColumn(
                        searchValue: camera.searchQ ?? 0,
                        attackValue: camera.attackE ?? 0,
                        luckValue: camera.luckL ?? 0,
                        defenceValue: camera.defenseB ?? 0,
                      ),
                    ),
                  ],
                ),
              );
            },
          ),
        ],
      ),
    ),
  ],
);
```

ã“ã‚Œã§ä¸‹è¨˜ã®ã‚ˆã†ã«

1. ãƒˆãƒƒãƒ—ã«ã€ŒTotalParametersRowã€éƒ¨åˆ†  
2. ä»•åˆ‡ã‚Šç·šï¼ˆ `separatorBuilder` ã®æœ€åˆã® Divider ã§ã¯ãªãã€`SizedBox(...)` ãªã©ã§ä¸€åº¦æŒŸã‚€ ï¼‰  
3. `cameraList` ã®è¦ç´ ãŒä¸¦ã³ã€å„è¦ç´ é–“ã«ä»•åˆ‡ã‚Šç·šãŒå…¥ã‚‹

ã¨ã„ã†æ§‹é€ ãŒå®Ÿç¾ã§ãã¾ã™ã€‚

---

## 2. Column å†…ã§ Divider ã‚’æ‰‹å‹•ã§æŒŸã‚€å ´åˆ

ã€Œã©ã†ã—ã¦ã‚‚ `Column` ã§çµ±ä¸€ã—ãŸã„ã€ã€Œè‡ªå‰ã§åˆ¶å¾¡ã—ãŸã„ã€ãªã©ã®å ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã« **è¦ç´ ã®é–“ã« Divider ã‚’æŒŸã‚“ã  Column** ã‚’è‡ªåˆ†ã§çµ„ã¿ç«‹ã¦ã¾ã™ã€‚ãƒã‚¤ãƒ³ãƒˆã¯

- `cameraList` ã‚’ `.asMap()` ã‚„ `.length` ã§ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä»˜ãã‚¢ã‚¯ã‚»ã‚¹ã—ã€ã€Œæœ€å¾Œã®è¦ç´ ã§ãªã„ã¨ãã ã‘ Divider ã‚’æŒŸã‚€ã€ã‚ˆã†ã«ã™ã‚‹ã€‚  
- ã‚ã‚‹ã„ã¯ã€æœ€åˆã‚„æœ€å¾Œã®è¦ç´ ã®å‰å¾Œã«ç½®ã Divider ã‚’èª¿æ•´ã™ã‚‹ã€‚

ã§ã™ã€‚

```dart
// Deck
DecoratedBox(
  decoration: BoxDecoration(
    color: ColorToken.bg,
    borderRadius: BorderRadius.circular(8),
    border: Border.all(
      color: ColorToken.border,
      width: 0.5,
    ),
  ),
  child: Column(
    children: [
      Padding(
        padding: const EdgeInsets.all(16),
        child: TotalParametersRow(
          searchValue: deck?.searchQ ?? 0,
          attackValue: deck?.attackE ?? 0,
          luckValue: deck?.luckL ?? 0,
          defenceValue: deck?.defenseB ?? 0,
        ),
      ),

      // ãƒˆãƒ¼ã‚¿ãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã‚«ãƒ¡ãƒ©ä¸€è¦§ã®é–“ã«åŒºåˆ‡ã‚Šç·š
      Container(
        height: 1,
        color: ColorToken.border,
      ),

      // ã‚«ãƒ¡ãƒ©ä¸€è¦§
      Column(
        children: cameraList!.asMap().entries.map((entry) {
          final index = entry.key;
          final camera = entry.value;

          return Column(
            children: [
              Padding(
                padding: const EdgeInsets.all(16),
                child: Row(
                  children: [
                    // Left
                    Expanded(
                      child: Row(
                        children: [
                          ClipRRect(
                            borderRadius: BorderRadius.circular(4),
                            child: SquareImage(
                              imageUrl: camera.cameraUrl,
                              size: 78,
                            ),
                          ),
                          const SizedBox(width: 8),
                          Column(
                            crossAxisAlignment: CrossAxisAlignment.start,
                            children: [
                              Text(
                                camera.rarity ?? '',
                                style: const TextStyle(fontSize: 12),
                              ),
                              const SizedBox(height: 8),
                              Text(
                                'Lv.${camera.level}',
                                style: const TextStyle(fontSize: 12),
                              ),
                            ],
                          ),
                        ],
                      ),
                    ),
                    // Right
                    Expanded(
                      child: ParametersBarColumn(
                        searchValue: camera.searchQ ?? 0,
                        attackValue: camera.attackE ?? 0,
                        luckValue: camera.luckL ?? 0,
                        defenceValue: camera.defenseB ?? 0,
                      ),
                    ),
                  ],
                ),
              ),
              // æœ€å¾Œã®è¦ç´ ä»¥å¤–ãªã‚‰ã€æ¬¡ã®è¦ç´ ã¨ã®é–“ã« Divider
              if (index < cameraList!.length - 1)
                Container(
                  height: 1,
                  color: ColorToken.border,
                ),
            ],
          );
        }).toList(),
      ),
    ],
  ),
);
```

ã“ã®ã‚ˆã†ã«ã™ã‚Œã°ã€**å„ã‚«ãƒ¡ãƒ©è¦ç´ ã®ä¸‹ã«ã ã‘ä»•åˆ‡ã‚Šç·šã‚’å…¥ã‚Œã‚‹**ï¼**æœ€å¾Œã®è¦ç´ ã®ä¸‹ã«ã¯ç·šã‚’å…¥ã‚Œãªã„** ã¨ã„ã£ãŸç´°ã‹ã„åˆ¶å¾¡ã‚‚å¯èƒ½ã§ã™ã€‚ 

---

## ã¾ã¨ã‚

- **ListView.separated** ã¯ã€Œãƒªã‚¹ãƒˆã®å„è¦ç´ é–“ã«ä»•åˆ‡ã‚Šã€ã‚’æŒŸã‚€ã®ã«æœ€ã‚‚ç°¡å˜ã€‚  
- **Column + Divider** ã¯è‡ªåˆ†ã§è¦ç´ ã®å‰å¾Œã« Divider ã‚’ç½®ãã®ã§ã€ç´°ã‹ã„åˆ¶å¾¡ãŒã§ãã‚‹ã€‚  

ä¸Šè¨˜ã®ã„ãšã‚Œã‹ã§ **ã€Œè¦ç´ ã”ã¨ã«æ¨ªç·šã§åŒºåˆ‡ã‚Šã‚’å…¥ã‚Œã‚‹ã€** å®Ÿè£…ãŒã§ãã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/1/24 19:10:09*

{
  "content_type": "image_asset_pointer",
  "asset_pointer": "file-service://file-YN35SkNRjDm8B7GaQseLhZ",
  "size_bytes": 697715,
  "width": 762,
  "height": 1584,
  "fovea": null,
  "metadata": {
    "dalle": null,
    "gizmo": null,
    "generation": null,
    "container_pixel_height": null,
    "container_pixel_width": null,
    "emu_omit_glimpse_image": null,
    "emu_patches_override": null,
    "sanitized": true,
    "asset_pointer_link": null,
    "watermarked_asset_pointer": null
  }
}
Bottomã«ã™ã”ã„éš™é–“ãŒç”Ÿã¾ã‚Œã¦ã—ã¾ã£ãŸ

import 'package:cached_network_image/cached_network_image.dart';
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter_hooks/flutter_hooks.dart';
import 'package:go_router/go_router.dart';
import 'package:hooks_riverpod/hooks_riverpod.dart';
import 'package:snpit_guild_app/domain/design/color_pallet.dart';
import 'package:snpit_guild_app/domain/design/color_token.dart';
import 'package:snpit_guild_app/domain/screen.dart';
import 'package:snpit_guild_app/presentation/providers/api_client/accounts/get_account.dart';
import 'package:snpit_guild_app/presentation/widgets/parameters_bar_column.dart';
import 'package:snpit_guild_app/presentation/widgets/square_image.dart';
import 'package:snpit_guild_app/presentation/widgets/total_parameters_row.dart';
import 'package:snpit_guild_app/utils/snack_bar_utils.dart';

class MyPage extends HookConsumerWidget {
  const MyPage({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final myAccountState = ref.watch(getMyAccountNotifierProvider);

    Future&lt;void&gt; onTapCopyId(String id) async {
      await Clipboard.setData(ClipboardData(text: id));
      if (context.mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('ID: $id copied to clipboard'),
          ),
        );
      }
    }

    useEffect(
      () {
        Future.microtask(() async {
          try {
            await ref
                .read(getMyAccountNotifierProvider.notifier)
                .getMyAccount();
          } on Exception catch (error) {
            if (context.mounted) {
              showErrorSnackBar(context, error);
            }
          }
        });
        return null;
      },
      [],
    );

    return Scaffold(
      appBar: AppBar(
        title: const Text('My Page'),
      ),
      body: myAccountState.when(
        data: (myAccount) {
          final id = myAccount?.userId ?? '';
          final name = myAccount?.username ?? '';
          final photoUrl = myAccount?.avatar ?? '';
          final deck = myAccount?.decks?.first;
          final cameraList = [deck?.deckCameras, deck?.deckCameras]
              .where((element) =&gt; element != null)
              .expand((element) =&gt; element!)
              .toList();

          return SingleChildScrollView(
            child: Padding(
              padding: const EdgeInsets.all(24),
              child: Column(
                children: [
                  // User
                  Row(
                    children: [
                      CircleAvatar(
                        radius: 28,
                        backgroundColor:
                            ColorPallet.white.withValues(alpha: 0.6),
                        child: CircleAvatar(
                          radius: 27,
                          backgroundImage: CachedNetworkImageProvider(photoUrl),
                        ),
                      ),
                      const SizedBox(width: 12),
                      SizedBox(
                        width: 182,
                        child: Column(
                          crossAxisAlignment: CrossAxisAlignment.start,
                          children: [
                            Text(
                              name,
                              maxLines: 1,
                              overflow: TextOverflow.ellipsis,
                              style: const TextStyle(
                                fontSize: 16,
                                fontWeight: FontWeight.bold,
                              ),
                            ),
                            const SizedBox(height: 8),
                            GestureDetector(
                              onTap: () async {
                                await onTapCopyId(id);
                              },
                              child: Row(
                                children: [
                                  Expanded(
                                    child: Text(
                                      'ID: $id',
                                      maxLines: 1,
                                      overflow: TextOverflow.ellipsis,
                                      style: const TextStyle(
                                        fontSize: 12,
                                        color: ColorPallet.gray300,
                                      ),
                                    ),
                                  ),
                                  const Icon(
                                    Icons.copy,
                                    color: ColorToken.primary,
                                    size: 12,
                                  ),
                                ],
                              ),
                            ),
                          ],
                        ),
                      ),
                      const Spacer(),
                      IconButton(
                        icon: const Icon(
                          Icons.settings_outlined,
                          size: 24,
                        ),
                        color: ColorToken.text,
                        onPressed: () async {
                          await context.push(Screen.profile.path);
                        },
                      ),
                    ],
                  ),

                  const SizedBox(height: 24),

                  // Deck
                  Column(
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: [
                      Row(
                        children: [
                          const Text(
                            'Decks',
                            style: TextStyle(
                              fontSize: 16,
                              fontWeight: FontWeight.bold,
                            ),
                          ),
                          const Spacer(),
                          Flexible(
                            child: OutlinedButton(
                              onPressed: () {
                                context.push(Screen.deckDetail.path);
                              },
                              style: OutlinedButton.styleFrom(
                                minimumSize: const Size.fromHeight(32),
                              ),
                              child: const Text(
                                'Edit deck',
                                style: TextStyle(
                                  fontSize: 12,
                                  fontWeight: FontWeight.bold,
                                ),
                              ),
                            ),
                          ),
                        ],
                      ),
                      const SizedBox(height: 16),
                      DecoratedBox(
                        decoration: BoxDecoration(
                          color: ColorToken.bg,
                          borderRadius: BorderRadius.circular(8),
                          border: Border.all(
                            color: ColorToken.border,
                          ),
                        ),
                        child: Column(
                          children: [
                            Padding(
                              padding: const EdgeInsets.all(16),
                              child: TotalParametersRow(
                                searchValue: deck?.searchQ ?? 0,
                                attackValue: deck?.attackE ?? 0,
                                luckValue: deck?.luckL ?? 0,
                                defenceValue: deck?.defenseB ?? 0,
                              ),
                            ),

                            SizedBox(
                              height: 1,
                              child: Container(color: ColorToken.border),
                            ),

                            ListView.separated(
                              shrinkWrap: true,
                              physics:
                                  const NeverScrollableScrollPhysics(),
                              itemCount: cameraList!.length,
                              separatorBuilder: (context, index) {
                                return Container(
                                  height: 1,
                                  color: ColorToken.border,
                                );
                              },
                              itemBuilder: (context, index) {
                                final camera = cameraList![index];
                                return Padding(
                                  padding: const EdgeInsets.all(16),
                                  child: Row(
                                    children: [
                                      Expanded(
                                        child: Row(
                                          children: [
                                            Row(
                                              crossAxisAlignment:
                                                  CrossAxisAlignment.start,
                                              children: [
                                                ClipRRect(
                                                  borderRadius:
                                                      BorderRadius.circular(4),
                                                  child: SquareImage(
                                                    imageUrl: camera.cameraUrl,
                                                    size: 78,
                                                  ),
                                                ),
                                                const SizedBox(width: 8),
                                                Column(
                                                  crossAxisAlignment:
                                                      CrossAxisAlignment.start,
                                                  children: [
                                                    Text(
                                                      camera.rarity ?? '',
                                                      style: const TextStyle(
                                                          fontSize: 12),
                                                    ),
                                                    const SizedBox(height: 8),
                                                    Text(
                                                      'Lv.${camera.level}',
                                                      style: const TextStyle(
                                                          fontSize: 12),
                                                    ),
                                                  ],
                                                ),
                                              ],
                                            ),
                                          ],
                                        ),
                                      ),
                                      Expanded(
                                        child: ParametersBarColumn(
                                          searchValue: camera.searchQ ?? 0,
                                          attackValue: camera.attackE ?? 0,
                                          luckValue: camera.luckL ?? 0,
                                          defenceValue: camera.defenseB ?? 0,
                                        ),
                                      ),
                                    ],
                                  ),
                                );
                              },
                            ),
                          ],
                        ),
                      ),
                    ],
                  ),
                ],
              ),
            ),
          );
        },
        loading: () {
          return const Center(child: CircularProgressIndicator());
        },
        error: (error, _) {
          return Center(child: Text('Error: $error'));
        },
      ),
    );
  }
}

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/1/24 19:11:43*

Flutterã§ã¯ã€Œ`SingleChildScrollView`ï¼‹`Column`ã®ä¸­ã«ã•ã‚‰ã«`ListView`ã€ã¨ã„ã†ãµã†ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’é‡ã­ã¦ä½¿ã†ã¨ã€æ„å›³ã—ãªã„ä½™ç™½ãŒã§ãã‚„ã™ã„ã§ã™ã€‚ä»Šå›ã®ã‚ˆã†ã«ã€Œä¸‹éƒ¨ã«å¤§ããªéš™é–“ãŒç”Ÿã˜ã‚‹ã€å ´åˆã‚‚ã€ã»ã¨ã‚“ã©ãŒã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®é‡è¤‡ã‚„å®‰å…¨é ˜åŸŸ(SafeArea)ãƒ»ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã®å½±éŸ¿ãŒåŸå› ã§ã™ã€‚  
ä»¥ä¸‹ã®å¯¾ç­–ã‚’é †ã«è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

---

## 1. `SingleChildScrollView` ã‚’ã‚„ã‚ã€å…¨ä½“ã‚’ `ListView` ã§ã¾ã¨ã‚ã‚‹

ã‚‚ã£ã¨ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªã®ã¯ã€ã€Œç”»é¢å…¨ä½“ã‚’ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ãŸã„ã€ã®ã§ã‚ã‚Œã° **`SingleChildScrollView` ã®ä»£ã‚ã‚Šã« `ListView` ä¸€ã¤ã«ã¾ã¨ã‚ã‚‹** ã“ã¨ã§ã™ã€‚  
`ListView` ã¯ãã®ã¾ã¾ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«ãªã‚‹ã®ã§ã€æ¬¡ã®ã‚ˆã†ã« `Column` ã®ä»£ã‚ã‚Šã« `ListView` ã‚’ä½¿ã†ã ã‘ã§ã‚‚ä¸‹éƒ¨ã®ä½™ç™½ãŒãªããªã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã§ã™ã€‚

```dart
return Scaffold(
  appBar: AppBar(
    title: const Text('My Page'),
  ),
  body: myAccountState.when(
    data: (myAccount) {
      final deck = myAccount?.decks?.first;
      final cameraList = deck?.deckCameras ?? [];

      return ListView(
        padding: const EdgeInsets.all(24),
        children: [
          // --- ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®è¡Œ ---
          Row(
            // ...
          ),

          const SizedBox(height: 24),

          // --- ãƒ‡ãƒƒã‚­ã‚»ã‚¯ã‚·ãƒ§ãƒ³ ---
          Text('Decks', /* ... */),
          // ...
          DecoratedBox(
            decoration: BoxDecoration(/* ... */),
            child: Column(
              children: [
                Padding(
                  padding: const EdgeInsets.all(16),
                  child: TotalParametersRow(
                    // ...
                  ),
                ),
                // ä»•åˆ‡ã‚Šç·š
                Container(height: 1, color: ColorToken.border),
                
                // ã‚«ãƒ¡ãƒ©List
                ListView.separated(
                  shrinkWrap: true,
                  physics: const NeverScrollableScrollPhysics(),
                  itemCount: cameraList.length,
                  separatorBuilder: (_, __) => Container(
                    height: 1,
                    color: ColorToken.border,
                  ),
                  itemBuilder: (context, index) {
                    // ...
                  },
                ),
              ],
            ),
          ),
        ],
      );
    },
    // ...
  ),
);
```

- **ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã¯ `ListView` ä¸€ã¤ã ã‘** ã«ä»»ã›ã€  
- ãƒ‡ãƒƒã‚­ã®ä¸­ã®ã‚«ãƒ¡ãƒ©ä¸€è¦§ã¯ã€Œå†…éƒ¨ã§ã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ãªã„ã€(`shrinkWrap: true` + `NeverScrollableScrollPhysics()`)  

ã¨ã™ã‚‹ã“ã¨ã§ã€ã€Œãƒšãƒ¼ã‚¸å…¨ä½“ãŒã²ã¨ã¤ã®ãƒªã‚¹ãƒˆã€ã«ãªã‚Šã¾ã™ã€‚  
ã“ã†ã™ã‚Œã°ã€`SingleChildScrollView` ã‚„åˆ¥ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒé‡ãªã‚‰ãªã„ã®ã§ä¸è¦ãªã™ãé–“ãŒå…¥ã‚Šã«ãã„ã§ã™ã€‚

---

## 2. ã©ã†ã—ã¦ã‚‚ `SingleChildScrollView` ã‚’ä½¿ã„ãŸã„å ´åˆ

ã€Œãƒšãƒ¼ã‚¸å…¨ä½“ã¯ `SingleChildScrollView` ã§åŒ…ã¿ãŸã„ãŒã€ãã®ä¸­ã«ã‚«ãƒ¡ãƒ©ã®ãƒªã‚¹ãƒˆã‚’è¡¨ç¤ºã—ãŸã„ã€ã¨ã„ã†å ´åˆã¯ã€**å†…éƒ¨ã®ãƒªã‚¹ãƒˆã¯ `ListView` ã§ã¯ãªã `Column`ï¼‹`Divider` ã§çµ„ã¿ç«‹ã¦ã‚‹**ã‹ã€ã‚ã‚‹ã„ã¯

```dart
ListView.separated(
  shrinkWrap: true,
  physics: const NeverScrollableScrollPhysics(),
  ...
)
```

ã®ã‚ˆã†ã« **æ˜ç¤ºçš„ã«ãƒã‚¹ãƒˆã—ãŸãƒªã‚¹ãƒˆã‚’ã€Œã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä¸å¯(shrinkWrap + NeverScrollableScrollPhysics)ã€ã«ã—ã¦** è¦ªã® `SingleChildScrollView` ã ã‘ãŒã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’æ‹…ã†ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚  
ç¾çŠ¶ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ãã‚Œã¯ã§ãã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã¾ã™ãŒã€ä¸‹ã®ã‚ˆã†ãªç‚¹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚

1. **`return SingleChildScrollView(...)` ã®ç›´ä¸‹ã§ä½™è¨ˆãª `SizedBox(height: ...)` ã‚„ `Padding(bottom: ...)` ã‚’å…¥ã‚Œã¦ã„ãªã„ã‹**  
2. **`Scaffold` ã® `resizeToAvoidBottomInset: true/false` ã®è¨­å®š**  
   - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰è¡¨ç¤ºæ™‚ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèª¿æ•´ãŒã‚ªãƒ•ã«ãªã£ã¦ã„ã‚‹ã¨ä½™ç™½ãŒå…¥ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚  
   - é€†ã«ä½™ç™½ã‚’å…¥ã‚ŒãŸããªã‘ã‚Œã° `false` ã«ã—ã¦ã¿ã‚‹ã€ãªã©ã€‚  
3. **ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚„å®Ÿæ©Ÿã§ SafeArea ãŒå…¥ã£ã¦ã„ãªã„ã‹**  
   - ã‚‚ã— `SafeArea` ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã«ã¯ä¸‹éƒ¨ã«ç«¯æœ«ã®ãƒ›ãƒ¼ãƒ ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ã¶ã‚“ã®ã‚¹ãƒšãƒ¼ã‚¹ãŒå…¥ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚  
   - `SafeArea` ã‚’å¤–ã™ã€ã‚‚ã—ãã¯ `MediaQuery.removePadding` ã‚’ä½¿ã£ã¦ `removeBottom: true` ã«ã™ã‚‹ã€ãªã©ã§è©¦ã›ã¾ã™ã€‚

---

## 3. `cameraList` ã®é‡è¤‡ã«æ³¨æ„ã™ã‚‹

ã‚³ãƒ¼ãƒ‰ä¸­ã«

```dart
final cameraList = [deck?.deckCameras, deck?.deckCameras]
    .where((element) => element != null)
    .expand((element) => element!)
    .toList();
```

ã¨ã‚ã‚Šã¾ã™ãŒã€ã“ã‚Œã¯
- `deck?.deckCameras` ã‚’2å›è¶³ã—ã¦ã„ã‚‹ãŸã‚ã€ã‚‚ã— `deckCameras` ãŒï¼‘ä»¶ã§ã‚‚ã‚ã‚Œã° **åŒã˜ã‚«ãƒ¡ãƒ©ãŒ2å€** ã«ãªã£ã¦ã„ã‚‹  
- ã‚ã‚‹ã„ã¯ä½™è¨ˆãªã‚¹ãƒšãƒ¼ã‚¹ãŒç”Ÿã¾ã‚Œã¦ã„ã‚‹  

å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚  
å˜ã«ã€Œæœ€åˆã®ãƒ‡ãƒƒã‚­ã®ã‚«ãƒ¡ãƒ©ä¸€è¦§ã‚’è¡¨ç¤ºã—ãŸã„ã€ã ã‘ãªã‚‰  
```dart
final cameraList = deck?.deckCameras ?? [];
```
ã§ååˆ†ã§ã™ã€‚  
åŒã˜ãƒ‡ãƒ¼ã‚¿ãŒ2å›åˆ†è¡¨ç¤ºã•ã‚Œã¦ã—ã¾ã†ã¨ã€ãã®ã¶ã‚“ç”»é¢ã‚‚ç¸¦ã«é•·ããªã‚Šã€ä¸‹ã«å¤§ããªéš™é–“ãŒã‚ã‚‹ã‚ˆã†ã«è¦‹ãˆã¦ã—ã¾ã†ã“ã¨ã‚‚ã‚ã‚‹ã®ã§æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

---

## ã¾ã¨ã‚

- **è¦ªå­ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’é‡è¤‡** ã•ã›ã‚‹ã¨æ„å›³ã—ãªã„ä½™ç™½ã‚„ãƒã‚°ãŒèµ·ãã‚„ã™ã„ã®ã§ã€ã€Œå¤–å´ã¯ `ListView`ï¼ˆã¾ãŸã¯ `SingleChildScrollView`ï¼‰ã€ï¼‹ã€Œå†…å´ã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãªã—ï¼ˆ`Column`ã‚„ `ListView` with `NeverScrollableScrollPhysics`ï¼‹`shrinkWrap:true`ï¼‰ã€ã¨ã„ã†å½¢ã«ã™ã‚‹ã®ãŒåŸºæœ¬ã§ã™ã€‚
- **ãƒ‡ãƒ¼ã‚¿é‡è¤‡** ã§ã‚¢ã‚¤ãƒ†ãƒ ãŒ2å€ã«ãªã£ã¦ã„ãªã„ã‹ç¢ºèªã™ã‚‹ã€‚  
- **SafeArea ã‚„ MediaQuery ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°**ã€`Scaffold` ã® `resizeToAvoidBottomInset` ãªã©ãŒåŸå› ã§ä½™ç™½ãŒå…¥ã£ã¦ã„ãªã„ã‹ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã€‚

ã“ã‚Œã‚‰ã‚’è¦‹ç›´ã—ã¦ã¿ã‚‹ã¨ã€å¤šãã®å ´åˆã¯ä¸‹éƒ¨ã®å¤§ããªéš™é–“ãŒè§£æ¶ˆã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚

---
