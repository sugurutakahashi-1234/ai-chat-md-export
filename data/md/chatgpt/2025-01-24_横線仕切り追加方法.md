# Ê®™Á∑ö‰ªïÂàá„ÇäËøΩÂä†ÊñπÊ≥ï

Êó•‰ªò: 2025-01-24

---

## üë§ „É¶„Éº„Ç∂„Éº
*2025/1/24 19:03:10*

{
  "content_type": "image_asset_pointer",
  "asset_pointer": "file-service://file-WNpqffPsTpeF95W1ueaaEK",
  "size_bytes": 570225,
  "width": 746,
  "height": 1564,
  "fovea": null,
  "metadata": {
    "dalle": null,
    "gizmo": null,
    "generation": null,
    "container_pixel_height": null,
    "container_pixel_width": null,
    "emu_omit_glimpse_image": null,
    "emu_patches_override": null,
    "sanitized": true,
    "asset_pointer_link": null,
    "watermarked_asset_pointer": null
  }
}
{
  "content_type": "image_asset_pointer",
  "asset_pointer": "file-service://file-Q7e8ocr4H5KfvXWQ2Dsw1B",
  "size_bytes": 80434,
  "width": 423,
  "height": 960,
  "fovea": null,
  "metadata": {
    "dalle": null,
    "gizmo": null,
    "generation": null,
    "container_pixel_height": null,
    "container_pixel_width": null,
    "emu_omit_glimpse_image": null,
    "emu_patches_override": null,
    "sanitized": true,
    "asset_pointer_link": null,
    "watermarked_asset_pointer": null
  }
}
ÔºëÊûöÁõÆ„ÅÆÊ∑ª‰ªò„Åó„ÅüÁîªÂÉè„ÅØÁèæÂú®„ÅÆÂÆüË£Ö„Åß„ÄÅÔºíÊûöÁõÆ„ÅÆÊ∑ª‰ªò„Åó„ÅüÁîªÂÉè„ÅØÁõÆÊåá„Åó„Åü„ÅÑÂÆüË£Ö„Åß„ÅÇ„Çã„ÄÇ

ÂØæÂøú„Åó„Å¶„Åª„Åó„ÅÑ„Åì„Å®„ÅØ„ÄÅDecoratedBox„ÅÆ‰∏≠„Å´„Å§„ÅÑ„Å¶„ÄÅÔºíÊûöÁõÆ„ÅÆÊ∑ª‰ªò„Åó„ÅüÁîªÂÉè„ÅÆ„Çà„ÅÜ„Å´„Ç´„É©„É†„ÅÆË¶ÅÁ¥†„ÇíÊ®™„ÅßÂå∫Âàá„Çã„Çà„ÅÜ„Å™Á∑ö„ÇíÂºï„Åç„Åü„ÅÑ„ÄÇ

import 'package:cached_network_image/cached_network_image.dart';
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter_hooks/flutter_hooks.dart';
import 'package:go_router/go_router.dart';
import 'package:hooks_riverpod/hooks_riverpod.dart';
import 'package:snpit_guild_app/domain/design/color_pallet.dart';
import 'package:snpit_guild_app/domain/design/color_token.dart';
import 'package:snpit_guild_app/domain/screen.dart';
import 'package:snpit_guild_app/presentation/providers/api_client/accounts/get_account.dart';
import 'package:snpit_guild_app/presentation/widgets/parameters_bar_column.dart';
import 'package:snpit_guild_app/presentation/widgets/square_image.dart';
import 'package:snpit_guild_app/presentation/widgets/total_parameters_row.dart';
import 'package:snpit_guild_app/utils/snack_bar_utils.dart';

class MyPage extends HookConsumerWidget {
  const MyPage({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final myAccountState = ref.watch(getMyAccountNotifierProvider);

    Future&lt;void&gt; onTapCopyId(String id) async {
      await Clipboard.setData(ClipboardData(text: id));
      if (context.mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('ID: $id copied to clipboard'),
          ),
        );
      }
    }

    useEffect(
      () {
        Future.microtask(() async {
          try {
            await ref
                .read(getMyAccountNotifierProvider.notifier)
                .getMyAccount();
          } on Exception catch (error) {
            if (context.mounted) {
              showErrorSnackBar(context, error);
            }
          }
        });
        return null;
      },
      [],
    );

    return Scaffold(
      appBar: AppBar(
        title: const Text('My Page'),
      ),
      body: myAccountState.when(
        data: (myAccount) {
          final id = myAccount?.userId ?? '';
          final name = myAccount?.username ?? '';
          final photoUrl = myAccount?.avatar ?? '';
          final deck = myAccount?.decks?.first;
          final cameraList = deck?.deckCameras;

          return SingleChildScrollView(
            child: Padding(
              padding: const EdgeInsets.all(24),
              child: Column(
                children: [
                  // User
                  Row(
                    children: [
                      CircleAvatar(
                        radius: 28,
                        backgroundColor:
                            ColorPallet.white.withValues(alpha: 0.6),
                        child: CircleAvatar(
                          radius: 27,
                          backgroundImage: CachedNetworkImageProvider(photoUrl),
                        ),
                      ),
                      const SizedBox(width: 12),
                      SizedBox(
                        width: 182,
                        child: Column(
                          crossAxisAlignment: CrossAxisAlignment.start,
                          children: [
                            Text(
                              name,
                              maxLines: 1,
                              overflow: TextOverflow.ellipsis,
                              style: const TextStyle(
                                fontSize: 16,
                                fontWeight: FontWeight.bold,
                              ),
                            ),
                            const SizedBox(height: 8),
                            GestureDetector(
                              onTap: () async {
                                await onTapCopyId(id);
                              },
                              child: Row(
                                children: [
                                  Expanded(
                                    child: Text(
                                      'ID: $id',
                                      maxLines: 1,
                                      overflow: TextOverflow.ellipsis,
                                      style: const TextStyle(
                                        fontSize: 12,
                                        color: ColorPallet.gray300,
                                      ),
                                    ),
                                  ),
                                  const Icon(
                                    Icons.copy,
                                    color: ColorToken.primary,
                                    size: 12,
                                  ),
                                ],
                              ),
                            ),
                          ],
                        ),
                      ),
                      const Spacer(),
                      IconButton(
                        icon: const Icon(
                          Icons.settings_outlined,
                          size: 24,
                        ),
                        color: ColorToken.text,
                        onPressed: () async {
                          await context.push(Screen.profile.path);
                        },
                      ),
                    ],
                  ),

                  const SizedBox(height: 24),

                  // Deck
                  Column(
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: [
                      Row(
                        children: [
                          const Text(
                            'Decks',
                            style: TextStyle(
                              fontSize: 16,
                              fontWeight: FontWeight.bold,
                            ),
                          ),
                          const Spacer(),
                          Flexible(
                            child: OutlinedButton(
                              onPressed: () {
                                context.push(Screen.deckDetail.path);
                              },
                              style: OutlinedButton.styleFrom(
                                minimumSize: const Size.fromHeight(32),
                              ),
                              child: const Text(
                                'Edit deck',
                                style: TextStyle(
                                  fontSize: 12,
                                  fontWeight: FontWeight.bold,
                                ),
                              ),
                            ),
                          ),
                        ],
                      ),
                      const SizedBox(height: 16),
                      DecoratedBox(
                        decoration: BoxDecoration(
                          color: ColorToken.bg,
                          borderRadius: BorderRadius.circular(8),
                          border: Border.all(
                            color: ColorToken.border,
                            width: 0.5,
                          ),
                        ),
                        child: Column(
                          children: [
                            Padding(
                              padding: const EdgeInsets.all(16),
                              child: TotalParametersRow(
                                searchValue: deck?.searchQ ?? 0,
                                attackValue: deck?.attackE ?? 0,
                                luckValue: deck?.luckL ?? 0,
                                defenceValue: deck?.defenseB ?? 0,
                              ),
                            ),
                            Column(
                              children: cameraList!.map((camera) {
                                return Padding(
                                  padding: const EdgeInsets.all(16),
                                  child: Row(
                                    children: [
                                      Expanded(
                                        child: Row(
                                          children: [
                                            Row(
                                              crossAxisAlignment:
                                                  CrossAxisAlignment.start,
                                              children: [
                                                ClipRRect(
                                                  borderRadius:
                                                      BorderRadius.circular(4),
                                                  child: SquareImage(
                                                    imageUrl: camera.cameraUrl,
                                                    size: 78,
                                                  ),
                                                ),
                                                const SizedBox(width: 8),
                                                Column(
                                                  crossAxisAlignment:
                                                      CrossAxisAlignment.start,
                                                  children: [
                                                    Text(
                                                      camera.rarity ?? '',
                                                      style: const TextStyle(
                                                        fontSize: 12,
                                                      ),
                                                    ),
                                                    const SizedBox(height: 8),
                                                    Text(
                                                      'Lv.${camera.level}',
                                                      style: const TextStyle(
                                                        fontSize: 12,
                                                      ),
                                                    ),
                                                  ],
                                                ),
                                              ],
                                            ),
                                          ],
                                        ),
                                      ),
                                      Expanded(
                                        child: ParametersBarColumn(
                                          searchValue: camera.searchQ ?? 0,
                                          attackValue: camera.attackE ?? 0,
                                          luckValue: camera.luckL ?? 0,
                                          defenceValue: camera.defenseB ?? 0,
                                        ),
                                      ),
                                    ],
                                  ),
                                );
                              }).toList(),
                            ),
                          ],
                        ),
                      ),
                    ],
                  ),
                ],
              ),
            ),
          );
        },
        loading: () {
          return const Center(child: CircularProgressIndicator());
        },
        error: (error, _) {
          return Center(child: Text('Error: $error'));
        },
      ),
    );
  }
}

---

## ü§ñ „Ç¢„Ç∑„Çπ„Çø„É≥„Éà
*2025/1/24 19:03:59*

**Ê®™„É©„Ç§„É≥ÔºàDividerÔºâ„Çí Column „ÅÆ‰∏≠„Åß‰ªïÂàá„Çä„Å®„Åó„Å¶ÂÖ•„Çå„ÇãÊñπÊ≥ï**„ÅØ„ÅÑ„Åè„Å§„Åã„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅ„Ç∑„É≥„Éó„É´„Å™„ÅÆ„ÅØ **ListView.separated** „Çí‰Ωø„ÅÜ„Åã„ÄÅ„ÅÇ„Çã„ÅÑ„ÅØ **Column + Divider „ÇíÊâãÂãï„ÅßÊåü„ÇÄ** „Å®„ÅÑ„ÅÜ„ÇÑ„ÇäÊñπ„Åß„Åô„ÄÇ

---

## 1. ListView.separated „Çí‰Ωø„ÅÜÂ†¥Âêà

`ListView.separated` „ÅØ„ÄåÂêÑ„Ç¢„Ç§„ÉÜ„É†Èñì„Å´ Divider „Å™„Å©‰ªïÂàá„ÇäÁî®„ÅÆ„Ç¶„Ç£„Ç∏„Çß„ÉÉ„Éà„ÇíÊåü„ÇÄ„ÄçÁî®ÈÄî„Å´ÁâπÂåñ„Åó„Åü„Ç≥„É≥„Çπ„Éà„É©„ÇØ„Çø„Åß„Åô„ÄÇ  
ÂÖÉ„ÅÆ„Ç≥„Éº„Éâ„ÅÆ `cameraList!.map(...)` „ÅßËøî„Åó„Å¶„ÅÑ„ÇãÈÉ®ÂàÜ„Çí„ÄÅ‰æã„Åà„Å∞Ê¨°„ÅÆ„Çà„ÅÜ„Å´Êõ∏„ÅçÊèõ„Åà„Çã„Å®„ÄÅ  
ÂêÑ `camera` ÂêåÂ£´„ÅÆÈñì„Å´Ëá™ÂãïÁöÑ„Å´Ê®™Á∑ö„ÇíÊåü„ÇÅ„Åæ„Åô„ÄÇ  
„Çπ„ÇØ„É≠„Éº„É´„ÅØÁ∏¶ÊñπÂêë„ÅÆ„Åæ„Åæ„Å´„Åó„ÄÅ`shrinkWrap` „ÇÑ `physics` „ÇíÂ∑•Â§´„Åô„Çã„Å®„ÄÅ`Column` „ÅÆ‰∏≠„Å´ÁΩÆ„ÅÑ„Å¶„ÇÇÂ§ß‰∏àÂ§´„Åß„Åô„ÄÇ

```dart
// Deck
Column(
  crossAxisAlignment: CrossAxisAlignment.start,
  children: [
    ...
    // DeckÂÖ®‰Ωì„ÅÆËÉåÊôØ„ÅÆ„Éú„ÉÉ„ÇØ„Çπ
    DecoratedBox(
      decoration: BoxDecoration(
        color: ColorToken.bg,
        borderRadius: BorderRadius.circular(8),
        border: Border.all(
          color: ColorToken.border,
          width: 0.5,
        ),
      ),
      child: Column(
        children: [
          // „Éà„Éº„Çø„É´„Éë„É©„É°„Éº„Çø„ÅÆË°å
          Padding(
            padding: const EdgeInsets.all(16),
            child: TotalParametersRow(
              searchValue: deck?.searchQ ?? 0,
              attackValue: deck?.attackE ?? 0,
              luckValue: deck?.luckL ?? 0,
              defenceValue: deck?.defenseB ?? 0,
            ),
          ),
          
          // ‰ªïÂàá„ÇäÁ∑ö„ÇíÊåü„Çì„Åß„Ç´„É°„É©‰∏ÄË¶ß„Çí‰∏¶„Åπ„Åü„ÅÑÂ†¥Âêà
          SizedBox(
            height: 1,
            child: Container(color: ColorToken.border),
          ),

          // „Åì„Åì„Çí ListView.separated „Å´ÁΩÆ„ÅçÊèõ„Åà„Çã
          ListView.separated(
            shrinkWrap: true,                 // Ë¶™„ÅÆColumn„Å´Âêà„Çè„Åõ„Å¶È´ò„Åï„ÇíË©∞„ÇÅ„Çã
            physics: const NeverScrollableScrollPhysics(), // „Çπ„ÇØ„É≠„Éº„É´„ÅØË¶™„Å´‰ªª„Åõ„Çã
            itemCount: cameraList!.length,
            separatorBuilder: (context, index) {
              // ÂêÑ„Ç¢„Ç§„ÉÜ„É†„ÅÆÈñì„Å´ÂÖ•„Çå„Çã‰ªïÂàá„ÇäÁ∑ö
              return Container(
                height: 1,
                color: ColorToken.border,
              );
            },
            itemBuilder: (context, index) {
              final camera = cameraList![index];
              return Padding(
                padding: const EdgeInsets.all(16),
                child: Row(
                  children: [
                    Expanded(
                      child: Row(
                        children: [
                          Row(
                            crossAxisAlignment: CrossAxisAlignment.start,
                            children: [
                              ClipRRect(
                                borderRadius: BorderRadius.circular(4),
                                child: SquareImage(
                                  imageUrl: camera.cameraUrl,
                                  size: 78,
                                ),
                              ),
                              const SizedBox(width: 8),
                              Column(
                                crossAxisAlignment: CrossAxisAlignment.start,
                                children: [
                                  Text(
                                    camera.rarity ?? '',
                                    style: const TextStyle(fontSize: 12),
                                  ),
                                  const SizedBox(height: 8),
                                  Text(
                                    'Lv.${camera.level}',
                                    style: const TextStyle(fontSize: 12),
                                  ),
                                ],
                              ),
                            ],
                          ),
                        ],
                      ),
                    ),
                    Expanded(
                      child: ParametersBarColumn(
                        searchValue: camera.searchQ ?? 0,
                        attackValue: camera.attackE ?? 0,
                        luckValue: camera.luckL ?? 0,
                        defenceValue: camera.defenseB ?? 0,
                      ),
                    ),
                  ],
                ),
              );
            },
          ),
        ],
      ),
    ),
  ],
);
```

„Åì„Çå„Åß‰∏ãË®ò„ÅÆ„Çà„ÅÜ„Å´

1. „Éà„ÉÉ„Éó„Å´„ÄåTotalParametersRow„ÄçÈÉ®ÂàÜ  
2. ‰ªïÂàá„ÇäÁ∑öÔºà `separatorBuilder` „ÅÆÊúÄÂàù„ÅÆ Divider „Åß„ÅØ„Å™„Åè„ÄÅ`SizedBox(...)` „Å™„Å©„Åß‰∏ÄÂ∫¶Êåü„ÇÄ Ôºâ  
3. `cameraList` „ÅÆË¶ÅÁ¥†„Åå‰∏¶„Å≥„ÄÅÂêÑË¶ÅÁ¥†Èñì„Å´‰ªïÂàá„ÇäÁ∑ö„ÅåÂÖ•„Çã

„Å®„ÅÑ„ÅÜÊßãÈÄ†„ÅåÂÆüÁèæ„Åß„Åç„Åæ„Åô„ÄÇ

---

## 2. Column ÂÜÖ„Åß Divider „ÇíÊâãÂãï„ÅßÊåü„ÇÄÂ†¥Âêà

„Äå„Å©„ÅÜ„Åó„Å¶„ÇÇ `Column` „ÅßÁµ±‰∏Ä„Åó„Åü„ÅÑ„Äç„ÄåËá™Ââç„ÅßÂà∂Âæ°„Åó„Åü„ÅÑ„Äç„Å™„Å©„ÅÆÂ†¥Âêà„ÅØ„ÄÅ‰∏ãË®ò„ÅÆ„Çà„ÅÜ„Å´ **Ë¶ÅÁ¥†„ÅÆÈñì„Å´ Divider „ÇíÊåü„Çì„Å† Column** „ÇíËá™ÂàÜ„ÅßÁµÑ„ÅøÁ´ã„Å¶„Åæ„Åô„ÄÇ„Éù„Ç§„É≥„Éà„ÅØ

- `cameraList` „Çí `.asMap()` „ÇÑ `.length` „Åß„Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ‰ªò„Åç„Ç¢„ÇØ„Çª„Çπ„Åó„ÄÅ„ÄåÊúÄÂæå„ÅÆË¶ÅÁ¥†„Åß„Å™„ÅÑ„Å®„Åç„Å†„Åë Divider „ÇíÊåü„ÇÄ„Äç„Çà„ÅÜ„Å´„Åô„Çã„ÄÇ  
- „ÅÇ„Çã„ÅÑ„ÅØ„ÄÅÊúÄÂàù„ÇÑÊúÄÂæå„ÅÆË¶ÅÁ¥†„ÅÆÂâçÂæå„Å´ÁΩÆ„Åè Divider „ÇíË™øÊï¥„Åô„Çã„ÄÇ

„Åß„Åô„ÄÇ

```dart
// Deck
DecoratedBox(
  decoration: BoxDecoration(
    color: ColorToken.bg,
    borderRadius: BorderRadius.circular(8),
    border: Border.all(
      color: ColorToken.border,
      width: 0.5,
    ),
  ),
  child: Column(
    children: [
      Padding(
        padding: const EdgeInsets.all(16),
        child: TotalParametersRow(
          searchValue: deck?.searchQ ?? 0,
          attackValue: deck?.attackE ?? 0,
          luckValue: deck?.luckL ?? 0,
          defenceValue: deck?.defenseB ?? 0,
        ),
      ),

      // „Éà„Éº„Çø„É´„Éë„É©„É°„Éº„Çø„Å®„Ç´„É°„É©‰∏ÄË¶ß„ÅÆÈñì„Å´Âå∫Âàá„ÇäÁ∑ö
      Container(
        height: 1,
        color: ColorToken.border,
      ),

      // „Ç´„É°„É©‰∏ÄË¶ß
      Column(
        children: cameraList!.asMap().entries.map((entry) {
          final index = entry.key;
          final camera = entry.value;

          return Column(
            children: [
              Padding(
                padding: const EdgeInsets.all(16),
                child: Row(
                  children: [
                    // Left
                    Expanded(
                      child: Row(
                        children: [
                          ClipRRect(
                            borderRadius: BorderRadius.circular(4),
                            child: SquareImage(
                              imageUrl: camera.cameraUrl,
                              size: 78,
                            ),
                          ),
                          const SizedBox(width: 8),
                          Column(
                            crossAxisAlignment: CrossAxisAlignment.start,
                            children: [
                              Text(
                                camera.rarity ?? '',
                                style: const TextStyle(fontSize: 12),
                              ),
                              const SizedBox(height: 8),
                              Text(
                                'Lv.${camera.level}',
                                style: const TextStyle(fontSize: 12),
                              ),
                            ],
                          ),
                        ],
                      ),
                    ),
                    // Right
                    Expanded(
                      child: ParametersBarColumn(
                        searchValue: camera.searchQ ?? 0,
                        attackValue: camera.attackE ?? 0,
                        luckValue: camera.luckL ?? 0,
                        defenceValue: camera.defenseB ?? 0,
                      ),
                    ),
                  ],
                ),
              ),
              // ÊúÄÂæå„ÅÆË¶ÅÁ¥†‰ª•Â§ñ„Å™„Çâ„ÄÅÊ¨°„ÅÆË¶ÅÁ¥†„Å®„ÅÆÈñì„Å´ Divider
              if (index < cameraList!.length - 1)
                Container(
                  height: 1,
                  color: ColorToken.border,
                ),
            ],
          );
        }).toList(),
      ),
    ],
  ),
);
```

„Åì„ÅÆ„Çà„ÅÜ„Å´„Åô„Çå„Å∞„ÄÅ**ÂêÑ„Ç´„É°„É©Ë¶ÅÁ¥†„ÅÆ‰∏ã„Å´„Å†„Åë‰ªïÂàá„ÇäÁ∑ö„ÇíÂÖ•„Çå„Çã**Ôºè**ÊúÄÂæå„ÅÆË¶ÅÁ¥†„ÅÆ‰∏ã„Å´„ÅØÁ∑ö„ÇíÂÖ•„Çå„Å™„ÅÑ** „Å®„ÅÑ„Å£„ÅüÁ¥∞„Åã„ÅÑÂà∂Âæ°„ÇÇÂèØËÉΩ„Åß„Åô„ÄÇ 

---

## „Åæ„Å®„ÇÅ

- **ListView.separated** „ÅØ„Äå„É™„Çπ„Éà„ÅÆÂêÑË¶ÅÁ¥†Èñì„Å´‰ªïÂàá„Çä„Äç„ÇíÊåü„ÇÄ„ÅÆ„Å´ÊúÄ„ÇÇÁ∞°Âçò„ÄÇ  
- **Column + Divider** „ÅØËá™ÂàÜ„ÅßË¶ÅÁ¥†„ÅÆÂâçÂæå„Å´ Divider „ÇíÁΩÆ„Åè„ÅÆ„Åß„ÄÅÁ¥∞„Åã„ÅÑÂà∂Âæ°„Åå„Åß„Åç„Çã„ÄÇ  

‰∏äË®ò„ÅÆ„ÅÑ„Åö„Çå„Åã„Åß **„ÄåË¶ÅÁ¥†„Åî„Å®„Å´Ê®™Á∑ö„ÅßÂå∫Âàá„Çä„ÇíÂÖ•„Çå„Çã„Äç** ÂÆüË£Ö„Åå„Åß„Åç„Åæ„Åô„ÄÇ

---

## üë§ „É¶„Éº„Ç∂„Éº
*2025/1/24 19:10:09*

{
  "content_type": "image_asset_pointer",
  "asset_pointer": "file-service://file-YN35SkNRjDm8B7GaQseLhZ",
  "size_bytes": 697715,
  "width": 762,
  "height": 1584,
  "fovea": null,
  "metadata": {
    "dalle": null,
    "gizmo": null,
    "generation": null,
    "container_pixel_height": null,
    "container_pixel_width": null,
    "emu_omit_glimpse_image": null,
    "emu_patches_override": null,
    "sanitized": true,
    "asset_pointer_link": null,
    "watermarked_asset_pointer": null
  }
}
Bottom„Å´„Åô„Åî„ÅÑÈöôÈñì„ÅåÁîü„Åæ„Çå„Å¶„Åó„Åæ„Å£„Åü

import 'package:cached_network_image/cached_network_image.dart';
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter_hooks/flutter_hooks.dart';
import 'package:go_router/go_router.dart';
import 'package:hooks_riverpod/hooks_riverpod.dart';
import 'package:snpit_guild_app/domain/design/color_pallet.dart';
import 'package:snpit_guild_app/domain/design/color_token.dart';
import 'package:snpit_guild_app/domain/screen.dart';
import 'package:snpit_guild_app/presentation/providers/api_client/accounts/get_account.dart';
import 'package:snpit_guild_app/presentation/widgets/parameters_bar_column.dart';
import 'package:snpit_guild_app/presentation/widgets/square_image.dart';
import 'package:snpit_guild_app/presentation/widgets/total_parameters_row.dart';
import 'package:snpit_guild_app/utils/snack_bar_utils.dart';

class MyPage extends HookConsumerWidget {
  const MyPage({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final myAccountState = ref.watch(getMyAccountNotifierProvider);

    Future&lt;void&gt; onTapCopyId(String id) async {
      await Clipboard.setData(ClipboardData(text: id));
      if (context.mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('ID: $id copied to clipboard'),
          ),
        );
      }
    }

    useEffect(
      () {
        Future.microtask(() async {
          try {
            await ref
                .read(getMyAccountNotifierProvider.notifier)
                .getMyAccount();
          } on Exception catch (error) {
            if (context.mounted) {
              showErrorSnackBar(context, error);
            }
          }
        });
        return null;
      },
      [],
    );

    return Scaffold(
      appBar: AppBar(
        title: const Text('My Page'),
      ),
      body: myAccountState.when(
        data: (myAccount) {
          final id = myAccount?.userId ?? '';
          final name = myAccount?.username ?? '';
          final photoUrl = myAccount?.avatar ?? '';
          final deck = myAccount?.decks?.first;
          final cameraList = [deck?.deckCameras, deck?.deckCameras]
              .where((element) =&gt; element != null)
              .expand((element) =&gt; element!)
              .toList();

          return SingleChildScrollView(
            child: Padding(
              padding: const EdgeInsets.all(24),
              child: Column(
                children: [
                  // User
                  Row(
                    children: [
                      CircleAvatar(
                        radius: 28,
                        backgroundColor:
                            ColorPallet.white.withValues(alpha: 0.6),
                        child: CircleAvatar(
                          radius: 27,
                          backgroundImage: CachedNetworkImageProvider(photoUrl),
                        ),
                      ),
                      const SizedBox(width: 12),
                      SizedBox(
                        width: 182,
                        child: Column(
                          crossAxisAlignment: CrossAxisAlignment.start,
                          children: [
                            Text(
                              name,
                              maxLines: 1,
                              overflow: TextOverflow.ellipsis,
                              style: const TextStyle(
                                fontSize: 16,
                                fontWeight: FontWeight.bold,
                              ),
                            ),
                            const SizedBox(height: 8),
                            GestureDetector(
                              onTap: () async {
                                await onTapCopyId(id);
                              },
                              child: Row(
                                children: [
                                  Expanded(
                                    child: Text(
                                      'ID: $id',
                                      maxLines: 1,
                                      overflow: TextOverflow.ellipsis,
                                      style: const TextStyle(
                                        fontSize: 12,
                                        color: ColorPallet.gray300,
                                      ),
                                    ),
                                  ),
                                  const Icon(
                                    Icons.copy,
                                    color: ColorToken.primary,
                                    size: 12,
                                  ),
                                ],
                              ),
                            ),
                          ],
                        ),
                      ),
                      const Spacer(),
                      IconButton(
                        icon: const Icon(
                          Icons.settings_outlined,
                          size: 24,
                        ),
                        color: ColorToken.text,
                        onPressed: () async {
                          await context.push(Screen.profile.path);
                        },
                      ),
                    ],
                  ),

                  const SizedBox(height: 24),

                  // Deck
                  Column(
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: [
                      Row(
                        children: [
                          const Text(
                            'Decks',
                            style: TextStyle(
                              fontSize: 16,
                              fontWeight: FontWeight.bold,
                            ),
                          ),
                          const Spacer(),
                          Flexible(
                            child: OutlinedButton(
                              onPressed: () {
                                context.push(Screen.deckDetail.path);
                              },
                              style: OutlinedButton.styleFrom(
                                minimumSize: const Size.fromHeight(32),
                              ),
                              child: const Text(
                                'Edit deck',
                                style: TextStyle(
                                  fontSize: 12,
                                  fontWeight: FontWeight.bold,
                                ),
                              ),
                            ),
                          ),
                        ],
                      ),
                      const SizedBox(height: 16),
                      DecoratedBox(
                        decoration: BoxDecoration(
                          color: ColorToken.bg,
                          borderRadius: BorderRadius.circular(8),
                          border: Border.all(
                            color: ColorToken.border,
                          ),
                        ),
                        child: Column(
                          children: [
                            Padding(
                              padding: const EdgeInsets.all(16),
                              child: TotalParametersRow(
                                searchValue: deck?.searchQ ?? 0,
                                attackValue: deck?.attackE ?? 0,
                                luckValue: deck?.luckL ?? 0,
                                defenceValue: deck?.defenseB ?? 0,
                              ),
                            ),

                            SizedBox(
                              height: 1,
                              child: Container(color: ColorToken.border),
                            ),

                            ListView.separated(
                              shrinkWrap: true,
                              physics:
                                  const NeverScrollableScrollPhysics(),
                              itemCount: cameraList!.length,
                              separatorBuilder: (context, index) {
                                return Container(
                                  height: 1,
                                  color: ColorToken.border,
                                );
                              },
                              itemBuilder: (context, index) {
                                final camera = cameraList![index];
                                return Padding(
                                  padding: const EdgeInsets.all(16),
                                  child: Row(
                                    children: [
                                      Expanded(
                                        child: Row(
                                          children: [
                                            Row(
                                              crossAxisAlignment:
                                                  CrossAxisAlignment.start,
                                              children: [
                                                ClipRRect(
                                                  borderRadius:
                                                      BorderRadius.circular(4),
                                                  child: SquareImage(
                                                    imageUrl: camera.cameraUrl,
                                                    size: 78,
                                                  ),
                                                ),
                                                const SizedBox(width: 8),
                                                Column(
                                                  crossAxisAlignment:
                                                      CrossAxisAlignment.start,
                                                  children: [
                                                    Text(
                                                      camera.rarity ?? '',
                                                      style: const TextStyle(
                                                          fontSize: 12),
                                                    ),
                                                    const SizedBox(height: 8),
                                                    Text(
                                                      'Lv.${camera.level}',
                                                      style: const TextStyle(
                                                          fontSize: 12),
                                                    ),
                                                  ],
                                                ),
                                              ],
                                            ),
                                          ],
                                        ),
                                      ),
                                      Expanded(
                                        child: ParametersBarColumn(
                                          searchValue: camera.searchQ ?? 0,
                                          attackValue: camera.attackE ?? 0,
                                          luckValue: camera.luckL ?? 0,
                                          defenceValue: camera.defenseB ?? 0,
                                        ),
                                      ),
                                    ],
                                  ),
                                );
                              },
                            ),
                          ],
                        ),
                      ),
                    ],
                  ),
                ],
              ),
            ),
          );
        },
        loading: () {
          return const Center(child: CircularProgressIndicator());
        },
        error: (error, _) {
          return Center(child: Text('Error: $error'));
        },
      ),
    );
  }
}

---

## ü§ñ „Ç¢„Ç∑„Çπ„Çø„É≥„Éà
*2025/1/24 19:11:43*

Flutter„Åß„ÅØ„Äå`SingleChildScrollView`Ôºã`Column`„ÅÆ‰∏≠„Å´„Åï„Çâ„Å´`ListView`„Äç„Å®„ÅÑ„ÅÜ„Åµ„ÅÜ„Å´„Çπ„ÇØ„É≠„Éº„É´„Ç¶„Ç£„Ç∏„Çß„ÉÉ„Éà„ÇíÈáç„Å≠„Å¶‰Ωø„ÅÜ„Å®„ÄÅÊÑèÂõ≥„Åó„Å™„ÅÑ‰ΩôÁôΩ„Åå„Åß„Åç„ÇÑ„Åô„ÅÑ„Åß„Åô„ÄÇ‰ªäÂõû„ÅÆ„Çà„ÅÜ„Å´„Äå‰∏ãÈÉ®„Å´Â§ß„Åç„Å™ÈöôÈñì„ÅåÁîü„Åò„Çã„ÄçÂ†¥Âêà„ÇÇ„ÄÅ„Åª„Å®„Çì„Å©„Åå„Çπ„ÇØ„É≠„Éº„É´„ÅÆÈáçË§á„ÇÑÂÆâÂÖ®È†òÂüü(SafeArea)„Éª„É°„Éá„Ç£„Ç¢„Éë„Éá„Ç£„É≥„Ç∞„ÅÆÂΩ±Èüø„ÅåÂéüÂõ†„Åß„Åô„ÄÇ  
‰ª•‰∏ã„ÅÆÂØæÁ≠ñ„ÇíÈ†Ü„Å´Ë©¶„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

---

## 1. `SingleChildScrollView` „Çí„ÇÑ„ÇÅ„ÄÅÂÖ®‰Ωì„Çí `ListView` „Åß„Åæ„Å®„ÇÅ„Çã

„ÇÇ„Å£„Å®„ÇÇ„Ç∑„É≥„Éó„É´„Å™„ÅÆ„ÅØ„ÄÅ„ÄåÁîªÈù¢ÂÖ®‰Ωì„ÇíÁ∏¶„Çπ„ÇØ„É≠„Éº„É´„Åó„Åü„ÅÑ„Äç„ÅÆ„Åß„ÅÇ„Çå„Å∞ **`SingleChildScrollView` „ÅÆ‰ª£„Çè„Çä„Å´ `ListView` ‰∏Ä„Å§„Å´„Åæ„Å®„ÇÅ„Çã** „Åì„Å®„Åß„Åô„ÄÇ  
`ListView` „ÅØ„Åù„ÅÆ„Åæ„ÅæÁ∏¶„Çπ„ÇØ„É≠„Éº„É´„Å´„Å™„Çã„ÅÆ„Åß„ÄÅÊ¨°„ÅÆ„Çà„ÅÜ„Å´ `Column` „ÅÆ‰ª£„Çè„Çä„Å´ `ListView` „Çí‰Ωø„ÅÜ„Å†„Åë„Åß„ÇÇ‰∏ãÈÉ®„ÅÆ‰ΩôÁôΩ„Åå„Å™„Åè„Å™„ÇãÂèØËÉΩÊÄß„ÅåÈ´ò„ÅÑ„Åß„Åô„ÄÇ

```dart
return Scaffold(
  appBar: AppBar(
    title: const Text('My Page'),
  ),
  body: myAccountState.when(
    data: (myAccount) {
      final deck = myAccount?.decks?.first;
      final cameraList = deck?.deckCameras ?? [];

      return ListView(
        padding: const EdgeInsets.all(24),
        children: [
          // --- „É¶„Éº„Ç∂„ÉºÊÉÖÂ†±„ÅÆË°å ---
          Row(
            // ...
          ),

          const SizedBox(height: 24),

          // --- „Éá„ÉÉ„Ç≠„Çª„ÇØ„Ç∑„Éß„É≥ ---
          Text('Decks', /* ... */),
          // ...
          DecoratedBox(
            decoration: BoxDecoration(/* ... */),
            child: Column(
              children: [
                Padding(
                  padding: const EdgeInsets.all(16),
                  child: TotalParametersRow(
                    // ...
                  ),
                ),
                // ‰ªïÂàá„ÇäÁ∑ö
                Container(height: 1, color: ColorToken.border),
                
                // „Ç´„É°„É©List
                ListView.separated(
                  shrinkWrap: true,
                  physics: const NeverScrollableScrollPhysics(),
                  itemCount: cameraList.length,
                  separatorBuilder: (_, __) => Container(
                    height: 1,
                    color: ColorToken.border,
                  ),
                  itemBuilder: (context, index) {
                    // ...
                  },
                ),
              ],
            ),
          ),
        ],
      );
    },
    // ...
  ),
);
```

- **„Çπ„ÇØ„É≠„Éº„É´„ÅØ `ListView` ‰∏Ä„Å§„Å†„Åë** „Å´‰ªª„Åõ„ÄÅ  
- „Éá„ÉÉ„Ç≠„ÅÆ‰∏≠„ÅÆ„Ç´„É°„É©‰∏ÄË¶ß„ÅØ„ÄåÂÜÖÈÉ®„Åß„ÅØ„Çπ„ÇØ„É≠„Éº„É´„Åó„Å™„ÅÑ„Äç(`shrinkWrap: true` + `NeverScrollableScrollPhysics()`)  

„Å®„Åô„Çã„Åì„Å®„Åß„ÄÅ„Äå„Éö„Éº„Ç∏ÂÖ®‰Ωì„Åå„Å≤„Å®„Å§„ÅÆ„É™„Çπ„Éà„Äç„Å´„Å™„Çä„Åæ„Åô„ÄÇ  
„Åì„ÅÜ„Åô„Çå„Å∞„ÄÅ`SingleChildScrollView` „ÇÑÂà•„ÅÆ„Çπ„ÇØ„É≠„Éº„É´„ÅåÈáç„Å™„Çâ„Å™„ÅÑ„ÅÆ„Åß‰∏çË¶Å„Å™„Åô„ÅçÈñì„ÅåÂÖ•„Çä„Å´„Åè„ÅÑ„Åß„Åô„ÄÇ

---

## 2. „Å©„ÅÜ„Åó„Å¶„ÇÇ `SingleChildScrollView` „Çí‰Ωø„ÅÑ„Åü„ÅÑÂ†¥Âêà

„Äå„Éö„Éº„Ç∏ÂÖ®‰Ωì„ÅØ `SingleChildScrollView` „ÅßÂåÖ„Åø„Åü„ÅÑ„Åå„ÄÅ„Åù„ÅÆ‰∏≠„Å´„Ç´„É°„É©„ÅÆ„É™„Çπ„Éà„ÇíË°®Á§∫„Åó„Åü„ÅÑ„Äç„Å®„ÅÑ„ÅÜÂ†¥Âêà„ÅØ„ÄÅ**ÂÜÖÈÉ®„ÅÆ„É™„Çπ„Éà„ÅØ `ListView` „Åß„ÅØ„Å™„Åè `Column`Ôºã`Divider` „ÅßÁµÑ„ÅøÁ´ã„Å¶„Çã**„Åã„ÄÅ„ÅÇ„Çã„ÅÑ„ÅØ

```dart
ListView.separated(
  shrinkWrap: true,
  physics: const NeverScrollableScrollPhysics(),
  ...
)
```

„ÅÆ„Çà„ÅÜ„Å´ **ÊòéÁ§∫ÁöÑ„Å´„Éç„Çπ„Éà„Åó„Åü„É™„Çπ„Éà„Çí„Äå„Çπ„ÇØ„É≠„Éº„É´‰∏çÂèØ(shrinkWrap + NeverScrollableScrollPhysics)„Äç„Å´„Åó„Å¶** Ë¶™„ÅÆ `SingleChildScrollView` „Å†„Åë„Åå„Çπ„ÇØ„É≠„Éº„É´„ÇíÊãÖ„ÅÜ„Çà„ÅÜ„Å´„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ  
ÁèæÁä∂„ÅÆ„Ç≥„Éº„Éâ„Åß„ÅØ„Åù„Çå„ÅØ„Åß„Åç„Å¶„ÅÑ„Çã„Çà„ÅÜ„Å´Ë¶ã„Åà„Åæ„Åô„Åå„ÄÅ‰∏ã„ÅÆ„Çà„ÅÜ„Å™ÁÇπ„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

1. **`return SingleChildScrollView(...)` „ÅÆÁõ¥‰∏ã„Åß‰ΩôË®à„Å™ `SizedBox(height: ...)` „ÇÑ `Padding(bottom: ...)` „ÇíÂÖ•„Çå„Å¶„ÅÑ„Å™„ÅÑ„Åã**  
2. **`Scaffold` „ÅÆ `resizeToAvoidBottomInset: true/false` „ÅÆË®≠ÂÆö**  
   - „Ç≠„Éº„Éú„Éº„ÉâË°®Á§∫ÊôÇ„ÅÆ„É¨„Ç§„Ç¢„Ç¶„ÉàË™øÊï¥„Åå„Ç™„Éï„Å´„Å™„Å£„Å¶„ÅÑ„Çã„Å®‰ΩôÁôΩ„ÅåÂÖ•„Çã„Åì„Å®„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ  
   - ÈÄÜ„Å´‰ΩôÁôΩ„ÇíÂÖ•„Çå„Åü„Åè„Å™„Åë„Çå„Å∞ `false` „Å´„Åó„Å¶„Åø„Çã„ÄÅ„Å™„Å©„ÄÇ  
3. **„Ç∑„Éü„É•„É¨„Éº„Çø„ÇÑÂÆüÊ©ü„Åß SafeArea „ÅåÂÖ•„Å£„Å¶„ÅÑ„Å™„ÅÑ„Åã**  
   - „ÇÇ„Åó `SafeArea` „Çí‰Ωø„Å£„Å¶„ÅÑ„ÇãÂ†¥Âêà„Å´„ÅØ‰∏ãÈÉ®„Å´Á´ØÊú´„ÅÆ„Éõ„Éº„É†„Ç§„É≥„Ç∏„Ç±„Éº„Çø„Å∂„Çì„ÅÆ„Çπ„Éö„Éº„Çπ„ÅåÂÖ•„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ  
   - `SafeArea` „ÇíÂ§ñ„Åô„ÄÅ„ÇÇ„Åó„Åè„ÅØ `MediaQuery.removePadding` „Çí‰Ωø„Å£„Å¶ `removeBottom: true` „Å´„Åô„Çã„ÄÅ„Å™„Å©„ÅßË©¶„Åõ„Åæ„Åô„ÄÇ

---

## 3. `cameraList` „ÅÆÈáçË§á„Å´Ê≥®ÊÑè„Åô„Çã

„Ç≥„Éº„Éâ‰∏≠„Å´

```dart
final cameraList = [deck?.deckCameras, deck?.deckCameras]
    .where((element) => element != null)
    .expand((element) => element!)
    .toList();
```

„Å®„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅ„Åì„Çå„ÅØ
- `deck?.deckCameras` „Çí2ÂõûË∂≥„Åó„Å¶„ÅÑ„Çã„Åü„ÇÅ„ÄÅ„ÇÇ„Åó `deckCameras` „ÅåÔºë‰ª∂„Åß„ÇÇ„ÅÇ„Çå„Å∞ **Âêå„Åò„Ç´„É°„É©„Åå2ÂÄç** „Å´„Å™„Å£„Å¶„ÅÑ„Çã  
- „ÅÇ„Çã„ÅÑ„ÅØ‰ΩôË®à„Å™„Çπ„Éö„Éº„Çπ„ÅåÁîü„Åæ„Çå„Å¶„ÅÑ„Çã  

ÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ  
Âçò„Å´„ÄåÊúÄÂàù„ÅÆ„Éá„ÉÉ„Ç≠„ÅÆ„Ç´„É°„É©‰∏ÄË¶ß„ÇíË°®Á§∫„Åó„Åü„ÅÑ„Äç„Å†„Åë„Å™„Çâ  
```dart
final cameraList = deck?.deckCameras ?? [];
```
„ÅßÂçÅÂàÜ„Åß„Åô„ÄÇ  
Âêå„Åò„Éá„Éº„Çø„Åå2ÂõûÂàÜË°®Á§∫„Åï„Çå„Å¶„Åó„Åæ„ÅÜ„Å®„ÄÅ„Åù„ÅÆ„Å∂„ÇìÁîªÈù¢„ÇÇÁ∏¶„Å´Èï∑„Åè„Å™„Çä„ÄÅ‰∏ã„Å´Â§ß„Åç„Å™ÈöôÈñì„Åå„ÅÇ„Çã„Çà„ÅÜ„Å´Ë¶ã„Åà„Å¶„Åó„Åæ„ÅÜ„Åì„Å®„ÇÇ„ÅÇ„Çã„ÅÆ„ÅßÊ≥®ÊÑè„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

---

## „Åæ„Å®„ÇÅ

- **Ë¶™Â≠ê„Åß„Çπ„ÇØ„É≠„Éº„É´„ÇíÈáçË§á** „Åï„Åõ„Çã„Å®ÊÑèÂõ≥„Åó„Å™„ÅÑ‰ΩôÁôΩ„ÇÑ„Éê„Ç∞„ÅåËµ∑„Åç„ÇÑ„Åô„ÅÑ„ÅÆ„Åß„ÄÅ„ÄåÂ§ñÂÅ¥„ÅØ `ListView`Ôºà„Åæ„Åü„ÅØ `SingleChildScrollView`Ôºâ„ÄçÔºã„ÄåÂÜÖÂÅ¥„ÅØ„Çπ„ÇØ„É≠„Éº„É´„Å™„ÅóÔºà`Column`„ÇÑ `ListView` with `NeverScrollableScrollPhysics`Ôºã`shrinkWrap:true`Ôºâ„Äç„Å®„ÅÑ„ÅÜÂΩ¢„Å´„Åô„Çã„ÅÆ„ÅåÂü∫Êú¨„Åß„Åô„ÄÇ
- **„Éá„Éº„ÇøÈáçË§á** „Åß„Ç¢„Ç§„ÉÜ„É†„Åå2ÂÄç„Å´„Å™„Å£„Å¶„ÅÑ„Å™„ÅÑ„ÅãÁ¢∫Ë™ç„Åô„Çã„ÄÇ  
- **SafeArea „ÇÑ MediaQuery „ÅÆ„Éë„Éá„Ç£„É≥„Ç∞**„ÄÅ`Scaffold` „ÅÆ `resizeToAvoidBottomInset` „Å™„Å©„ÅåÂéüÂõ†„Åß‰ΩôÁôΩ„ÅåÂÖ•„Å£„Å¶„ÅÑ„Å™„ÅÑ„Åã„ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã„ÄÇ

„Åì„Çå„Çâ„ÇíË¶ãÁõ¥„Åó„Å¶„Åø„Çã„Å®„ÄÅÂ§ö„Åè„ÅÆÂ†¥Âêà„ÅØ‰∏ãÈÉ®„ÅÆÂ§ß„Åç„Å™ÈöôÈñì„ÅåËß£Ê∂à„Åï„Çå„Çã„ÅØ„Åö„Åß„Åô„ÄÇ

---
