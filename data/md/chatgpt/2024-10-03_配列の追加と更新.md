# é…åˆ—ã®è¿½åŠ ã¨æ›´æ–°

æ—¥ä»˜: 2024-10-03

---

## ðŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/10/3 19:34:37*

Swiftã§å˜ç´”ã«é…åˆ—ã®å¾Œã‚ã«è¿½åŠ ã—ãŸã„

extension Array where Element: Identifiable {
    func addOrUpdate(newElements: [Element]) -&gt; [Element] {
        var combined = self
        newElements.forEach { newItem in
            if let index = combined.firstIndex(where: { $0.id == newItem.id }) {
                combined[index] = newItem
            } else {
                combined.append(newItem)
            }
        }
        return combined
    }

---

## ðŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/10/3 19:34:46*

User prefers not to add a new element when updating an existing element in the array based on its id.

---

## ðŸ”§ ãƒ„ãƒ¼ãƒ«
*2024/10/3 19:34:46*

Model set context updated.

---

## ðŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/10/3 19:34:46*

Your current implementation already does what you're aiming for by either updating an element if it exists or appending it if not. However, if you want a function that only updates without appending any new elements, you can modify it like this:

```swift
extension Array where Element: Identifiable {
    func updateIfExists(newElements: [Element]) -> [Element] {
        var updated = self
        newElements.forEach { newItem in
            if let index = updated.firstIndex(where: { $0.id == newItem.id }) {
                updated[index] = newItem
            }
        }
        return updated
    }
}
```

This will only update the existing elements without adding any new ones to the array.

---
