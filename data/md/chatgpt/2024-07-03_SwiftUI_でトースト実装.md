# SwiftUI ã§ãƒˆãƒ¼ã‚¹ãƒˆå®Ÿè£…

æ—¥ä»˜: 2024-07-03

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/7/3 14:29:19*

ç”»é¢é·ç§»ã—ã¦ã‚‚æ¶ˆãˆãªã„ãƒˆãƒ¼ã‚¹ãƒˆã‚’ SwiftUI ã§å®Ÿè£…ã—ãŸã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/7/3 14:29:43*

SwiftUI ã§ç”»é¢é·ç§»ã—ã¦ã‚‚æ¶ˆãˆãªã„ãƒˆãƒ¼ã‚¹ãƒˆã‚’å®Ÿè£…ã™ã‚‹ã«ã¯ã€ãƒˆãƒ¼ã‚¹ãƒˆã®è¡¨ç¤ºçŠ¶æ…‹ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ç®¡ç†ã—ã€å„ç”»é¢ã§ãã‚Œã‚’å‚ç…§ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã¯ãã®å®Ÿè£…ä¾‹ã§ã™ã€‚

ã¾ãšã€ãƒˆãƒ¼ã‚¹ãƒˆã®è¡¨ç¤ºçŠ¶æ…‹ã‚’ç®¡ç†ã™ã‚‹ `ToastManager` ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚

```swift
import SwiftUI

class ToastManager: ObservableObject {
    @Published var isShowing: Bool = false
    @Published var message: String = ""
    
    func showToast(message: String) {
        self.message = message
        self.isShowing = true
    }
    
    func hideToast() {
        self.isShowing = false
    }
}
```

æ¬¡ã«ã€ãƒˆãƒ¼ã‚¹ãƒˆãƒ“ãƒ¥ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚

```swift
import SwiftUI

struct ToastView: View {
    @ObservedObject var toastManager: ToastManager
    
    var body: some View {
        if toastManager.isShowing {
            VStack {
                Spacer()
                Text(toastManager.message)
                    .padding()
                    .background(Color.black.opacity(0.8))
                    .foregroundColor(.white)
                    .cornerRadius(8)
                    .padding()
            }
            .animation(.easeInOut)
            .transition(.move(edge: .bottom))
            .onTapGesture {
                toastManager.hideToast()
            }
        }
    }
}
```

ãã—ã¦ã€å„ç”»é¢ã§ `ToastManager` ã‚’ä½¿ã£ã¦ãƒˆãƒ¼ã‚¹ãƒˆã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ãƒ“ãƒ¥ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚

```swift
import SwiftUI

struct ContentView: View {
    @StateObject var toastManager = ToastManager()
    
    var body: some View {
        NavigationView {
            VStack {
                NavigationLink(destination: SecondView(toastManager: toastManager)) {
                    Text("Go to Second View")
                }
                Button(action: {
                    toastManager.showToast(message: "Hello, this is a toast message!")
                }) {
                    Text("Show Toast")
                }
            }
            .overlay(
                ToastView(toastManager: toastManager)
            )
        }
    }
}

struct SecondView: View {
    @ObservedObject var toastManager: ToastManager
    
    var body: some View {
        VStack {
            Text("This is the second view.")
            Button(action: {
                toastManager.showToast(message: "Hello from the second view!")
            }) {
                Text("Show Toast")
            }
        }
        .overlay(
            ToastView(toastManager: toastManager)
        )
    }
}

@main
struct MyApp: App {
    var body: some Scene {
        WindowGroup {
            ContentView()
        }
    }
}
```

ã“ã®å®Ÿè£…ã§ã¯ã€`ToastManager` ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªçŠ¶æ…‹ã¨ã—ã¦ç®¡ç†ã—ã€ã©ã®ç”»é¢ã§ã‚‚ãƒˆãƒ¼ã‚¹ãƒˆã‚’è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ç”»é¢é·ç§»ã—ã¦ã‚‚ãƒˆãƒ¼ã‚¹ãƒˆã¯æ¶ˆãˆãšã€`ToastManager` ã«ã‚ˆã£ã¦ç®¡ç†ã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œç¶šã‘ã¾ã™ã€‚ãƒˆãƒ¼ã‚¹ãƒˆã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã“ã¨ã§éè¡¨ç¤ºã«ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«ã‚ˆã‚Šã€ã‚¢ãƒ—ãƒªå…¨ä½“ã§ä¸€è²«ã—ã¦ãƒˆãƒ¼ã‚¹ãƒˆã‚’ç®¡ç†ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é‡è¦ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¦‹é€ƒã•ã›ãªã„ã‚ˆã†ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/7/3 14:30:13*

ã“ã‚Œã ã¨ãƒˆãƒ¼ã‚¹ãƒˆViewã«ã‹ã¶ã£ã¦ã„ã‚‹ç¯„å›²ã®ã‚¿ãƒƒãƒ—ãªã©ãŒã§ããªããªã‚‰ãªã„ã®ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/7/3 14:30:40*

ç¢ºã‹ã«ã€ä¸Šè¨˜ã®å®Ÿè£…ã ã¨ãƒˆãƒ¼ã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹é–“ã¯ã€ãã®ãƒˆãƒ¼ã‚¹ãƒˆã«è¦†ã‚ã‚Œã¦ã„ã‚‹ç¯„å›²ãŒã‚¿ãƒƒãƒ—ã§ããªããªã‚Šã¾ã™ã€‚ã“ã‚Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã¯ã€ãƒˆãƒ¼ã‚¹ãƒˆãƒ“ãƒ¥ãƒ¼ãŒç”»é¢å…¨ä½“ã‚’è¦†ã†ã®ã§ã¯ãªãã€ãƒˆãƒ¼ã‚¹ãƒˆè‡ªä½“ã‚’å¿…è¦ãªå ´æ‰€ã«è¡¨ç¤ºã—ã€èƒŒæ™¯éƒ¨åˆ†ã‚’é€éã•ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ä»¥ä¸‹ã¯ã€ãƒˆãƒ¼ã‚¹ãƒˆè¡¨ç¤ºä¸­ã§ã‚‚èƒŒå¾Œã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ“ä½œã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ”¹å–„ã•ã‚ŒãŸå®Ÿè£…ä¾‹ã§ã™ã€‚

```swift
import SwiftUI

class ToastManager: ObservableObject {
    @Published var isShowing: Bool = false
    @Published var message: String = ""
    
    func showToast(message: String) {
        self.message = message
        self.isShowing = true
    }
    
    func hideToast() {
        self.isShowing = false
    }
}

struct ToastView: View {
    @ObservedObject var toastManager: ToastManager
    
    var body: some View {
        GeometryReader { geometry in
            if toastManager.isShowing {
                VStack {
                    Spacer()
                    Text(toastManager.message)
                        .padding()
                        .background(Color.black.opacity(0.8))
                        .foregroundColor(.white)
                        .cornerRadius(8)
                        .padding(.bottom, geometry.safeAreaInsets.bottom + 20)
                }
                .frame(width: geometry.size.width)
                .animation(.easeInOut)
                .transition(.move(edge: .bottom))
                .zIndex(1)  // Ensure toast is on top
            }
        }
        .background(Color.clear)  // Make sure background is transparent
        .allowsHitTesting(false)  // Allow taps to pass through
    }
}

struct ContentView: View {
    @StateObject var toastManager = ToastManager()
    
    var body: some View {
        NavigationView {
            ZStack {
                VStack {
                    NavigationLink(destination: SecondView(toastManager: toastManager)) {
                        Text("Go to Second View")
                    }
                    Button(action: {
                        toastManager.showToast(message: "Hello, this is a toast message!")
                    }) {
                        Text("Show Toast")
                    }
                }
                .zIndex(0)
                
                ToastView(toastManager: toastManager)
            }
        }
    }
}

struct SecondView: View {
    @ObservedObject var toastManager: ToastManager
    
    var body: some View {
        ZStack {
            VStack {
                Text("This is the second view.")
                Button(action: {
                    toastManager.showToast(message: "Hello from the second view!")
                }) {
                    Text("Show Toast")
                }
            }
            .zIndex(0)
            
            ToastView(toastManager: toastManager)
        }
    }
}

@main
struct MyApp: App {
    var body: some Scene {
        WindowGroup {
            ContentView()
        }
    }
}
```

ã“ã®æ”¹å–„ã§ã¯ã€`ToastView` ã® `background` ã‚’ `Color.clear` ã«ã—ã€`allowsHitTesting(false)` ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€ãƒˆãƒ¼ã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹é–“ã§ã‚‚èƒŒå¾Œã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒã‚¿ãƒƒãƒ—ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ã¾ãŸã€`zIndex` ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã€ãƒˆãƒ¼ã‚¹ãƒˆãŒå¸¸ã«ä»–ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¸Šã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

ã“ã‚Œã«ã‚ˆã‚Šã€ãƒˆãƒ¼ã‚¹ãƒˆè¡¨ç¤ºä¸­ã§ã‚‚èƒŒå¾Œã®ãƒœã‚¿ãƒ³ã‚„ãƒªãƒ³ã‚¯ãªã©ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªè¦ç´ ã‚’æ“ä½œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

---
