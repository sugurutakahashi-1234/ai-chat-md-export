# Git log æ—¥å ±ã¾ã¨ã‚

æ—¥ä»˜: 2025-02-18

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/2/18 21:51:04*

git log ã‹ã‚‰æ—¥å ±ã‚’ä½œæˆã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã—ã¦ã„ã‚‹ã€‚

ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚‚æ‚ªããªã„ãŒã€é€£ç¶šã—ãŸåŒã˜ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã¾ã¨ã‚ã¦ã„ã‚‹ãŒã€ãã®æ—¥å˜ä½ã§ã€åŒã˜ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‚Œã°ã¾ã¨ã‚ãŸã„ã€‚

ã†ã¾ãè¨˜è¿°ã§ããªã„ã‹ï¼Ÿ


#!/bin/zsh

# Set default date range (default: from yesterday to today)
SINCE_DATE=${1:-$(date -v-1d +"%Y-%m-%d")}
UNTIL_DATE=${2:-$(date +"%Y-%m-%d")}
GITHUB_USERNAME=${3:-""}  # Optional GitHub username filter

DATE_RANGE="${SINCE_DATE}_to_${UNTIL_DATE}"
OUTPUT_FILE="git_report_${DATE_RANGE}.md"

# Header section
echo "# Git Commit Report ($SINCE_DATE to $UNTIL_DATE)" &gt; "$OUTPUT_FILE"
echo "" &gt;&gt; "$OUTPUT_FILE"

# Build the git log command with optional author filtering
GIT_LOG_CMD="git log --since=\"$SINCE_DATE\" --until=\"$UNTIL_DATE\" --pretty=format:\"%cd %h %s (%an)\" --date=short"

if [[ -n "$GITHUB_USERNAME" ]]; then
    GIT_LOG_CMD+=" --author=\"$GITHUB_USERNAME\""
fi

# Retrieve commit logs and remove duplicates
eval $GIT_LOG_CMD | sort -r | awk -v output="$OUTPUT_FILE" '
BEGIN { current_date = ""; prev_msg = ""; commit_list = ""; prev_author = "" }
{
    if ($1 != current_date) {
        if (commit_list != "") {
            print "- **" commit_list "** " prev_msg " (" prev_author ")" &gt;&gt; output;
        }
        current_date = $1;
        prev_msg = "";
        commit_list = "";
        print "\n## " current_date "\n" &gt;&gt; output;
    }

    commit_hash = $2;
    commit_msg = substr($0, index($0,$3));
    author = substr(commit_msg, index(commit_msg, "(") + 1);
    author = substr(author, 1, length(author) - 1);

    commit_msg = substr(commit_msg, 1, index(commit_msg, "(") - 2);

    if (commit_msg == prev_msg && author == prev_author) {
        commit_list = commit_list ", " commit_hash;
    } else {
        if (commit_list != "") {
            print "- **" commit_list "** " prev_msg " (" prev_author ")" &gt;&gt; output;
        }
        commit_list = commit_hash;
        prev_msg = commit_msg;
        prev_author = author;
    }
}

END {
    if (commit_list != "") {
        print "- **" commit_list "** " prev_msg " (" prev_author ")" &gt;&gt; output;
    }
}'

echo "" &gt;&gt; "$OUTPUT_FILE"
echo "The commit report has been saved to $OUTPUT_FILE."

---

## ğŸ”§ ãƒ„ãƒ¼ãƒ«
*2025/2/18 21:52:29*

**åé›†ã¨ã¾ã¨ã‚**  
å„æ—¥ä»˜ã”ã¨ã«ã€åŒã˜ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŒã¤é€£ç¶šã—ãŸã‚³ãƒŸãƒƒãƒˆã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¦ã€ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’åé›†ã—ã¦ã„ã‚‹ã€‚

**åé›†ã¨åˆ†é¡ã®å·¥å¤«**  
æ—¥ã”ã¨ã«ã‚³ãƒŸãƒƒãƒˆã‚’åé›†ã—ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¾ãŸã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨è‘—è€…ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã€‚æœ€å¾Œã«ã€ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚ŒãŸã‚³ãƒŸãƒƒãƒˆã‚’å°åˆ·ã—ã¦ã„ã‚‹ã€‚

**æ—¥ã”ã¨ã«ã¾ã¨ã‚ã‚‹**  
æ—¥ã”ã¨ã«ã‚³ãƒŸãƒƒãƒˆã‚’åé›†ã—ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨è‘—è€…ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¦å‡ºåŠ›ã—ã¦ã„ã‚‹ã€‚æ–°ã—ã„æ—¥ãŒå§‹ã¾ã‚‹ã¨å‰æ—¥ã®ã‚°ãƒ«ãƒ¼ãƒ—ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã—ã€é…åˆ—ã‚’ãƒªã‚»ãƒƒãƒˆã€‚

**æ—¥ã”ã¨ã®æ•´ç†**  
æ—¥ä»˜ã‚’å¤‰æ•°ã‚„AWKé…åˆ—ã«æ ¼ç´ã—ã€å‰æ—¥ã®ã‚°ãƒ«ãƒ¼ãƒ—ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºå¾Œã€é…åˆ—ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦ã„ã‚‹ã€‚æœ€å¾Œã«ã€æœ€æ–°ã‹ã‚‰å¤ã„é †ã«ãƒ‡ãƒ¼ã‚¿ã‚’ä¸¦ã¹ã¦ã„ã‚‹ã€‚

**æ—¥ä»˜ã®è¦‹å‡ºã—ã‚’å†è¡¨ç¤º**  
æ–°ã—ã„æ—¥ä»˜ã‚’è¦‹ã¤ã‘ãŸã‚‰ã€å‰æ—¥ã®ã‚°ãƒ«ãƒ¼ãƒ—ãƒ‡ãƒ¼ã‚¿ã‚’å†åº¦è¡¨ç¤ºã—ã€é…åˆ—ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦ã„ã‚‹ã€‚AWKã§æœ€æ–°ã‹ã‚‰å¤ã„é †ã«ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã€‚

**æ—¥ã”ã¨ã«ã‚³ãƒŸãƒƒãƒˆã‚’åé›†ã—ã€åˆ†é¡ã™ã‚‹**  
æ—¥ä»˜ãŒå¤‰ã‚ã‚‹ãŸã³ã«å‰æ—¥ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã—ã€é…åˆ—ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦ã„ã‚‹ã€‚Qã‚³ãƒŸãƒƒãƒˆã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨è‘—è€…ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹æ–¹æ³•ã‚‚æ¤œè¨ä¸­ã€‚

**ç‰¹å®šæ¡ä»¶ã®æ“ä½œ**  
åŒã˜ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨è‘—è€…ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã€æ—¥ã”ã¨ã«å‡ºåŠ›ã—ãªãŒã‚‰é…åˆ—ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦ã„ã‚‹ã€‚

**æ—¥ã”ã¨ã«è¿½è·¡ã™ã‚‹**  
AWKã§æ—¥ä»˜ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€è‘—è€…ã”ã¨ã«ã‚³ãƒŸãƒƒãƒˆã‚’è¿½è·¡ã—ã€å¤‰åŒ–ãŒã‚ã‚‹ãŸã³ã«å‰æ—¥ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‡ºåŠ›ã—ã¦é…åˆ—ã‚’ãƒªã‚»ãƒƒãƒˆã€‚æœ€å¾Œã«æ®‹ã‚Šã‚’è¡¨ç¤ºã€‚

**æ—¥ã€…ã®ã‚³ãƒŸãƒƒãƒˆã‚’æ•´ç†**  
æ—¥ä»˜ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€è‘—è€…ã”ã¨ã«ã‚³ãƒŸãƒƒãƒˆã‚’è¿½è·¡ã—ã€é †ç•ªã‚’ä¿ã¡ãªãŒã‚‰ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã€‚Pythonã‚ˆã‚Šã‚‚AWKã®æ–¹ãŒé©ã—ã¦ã„ã‚‹ã¨æ„Ÿã˜ã‚‹ã€‚

**æ—¥ä»˜ã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–**  
AWKã‚’ç”¨ã„ã¦ã€æ—¥ä»˜ã”ã¨ã«ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨è‘—è€…ã‚’æ•´ç†ã—ã€å„æ—¥ã®è¦‹å‡ºã—ã‚’å‡ºåŠ›ã—ã¦ã„ã‚‹ã€‚é †åºã‚’ä¿ã¡ãªãŒã‚‰æœ€å¾Œã«æ®‹ã‚Šã‚’è¡¨ç¤ºã™ã‚‹ã€‚

**ã‚³ãƒŸãƒƒãƒˆã®æ•´ç†**

AWSã§æ—¥ä»˜ã”ã¨ã«ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨è‘—è€…ã‚’æ‰±ã„ã€é †åºã‚’ç¶­æŒã—ã¤ã¤ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã€CSVå½¢å¼ã§æ•´ãˆã€ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå…ˆã‚’æŒ‡å®šã—ã¦å‡ºåŠ›ã—ã¦ã„ã‚‹ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/2/18 21:52:29*

ä»¥ä¸‹ã¯æ—¥ä»˜ã”ã¨ã«åŒã˜ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã¾ã¨ã‚ã¦å‡ºåŠ›ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚  
ãƒã‚¤ãƒ³ãƒˆã¯

- æ—¥ä»˜ãŒå¤‰ã‚ã‚‹ãŸã³ã«é…åˆ—ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹ã®ã§ã¯ãªãã€ã€Œæ—¥ä»˜+ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸(+ä½œè€…)ã€ã‚’ã‚­ãƒ¼ã«ã—ã¦ãƒãƒƒã‚·ãƒ¥ï¼ˆã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ï¼‰ã‚’ã¾ã¨ã‚ã¦æ ¼ç´ã™ã‚‹  
- æœ€çµ‚çš„ã«æ—¥ä»˜ã”ã¨ã«ä¸€æ‹¬ã—ã¦å‡ºåŠ›ã™ã‚‹  

ã¨ã„ã†ä»•çµ„ã¿ã«ã™ã‚‹ã“ã¨ã§ã™ã€‚é€£ç¶šã—ãŸè¡Œã§ã¯ãªãã€åŒã˜æ—¥ä»˜å†…ã§åŒã˜ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚‚ã¤ã‚³ãƒŸãƒƒãƒˆã‚’ã™ã¹ã¦ã¾ã¨ã‚ã‚‰ã‚Œã¾ã™ã€‚

```bash
#!/bin/zsh

# Set default date range (default: from yesterday to today)
SINCE_DATE=${1:-$(date -v-1d +"%Y-%m-%d")}
UNTIL_DATE=${2:-$(date +"%Y-%m-%d")}
GITHUB_USERNAME=${3:-""}  # Optional GitHub username filter

DATE_RANGE="${SINCE_DATE}_to_${UNTIL_DATE}"
OUTPUT_FILE="git_report_${DATE_RANGE}.md"

# Header section
echo "# Git Commit Report ($SINCE_DATE to $UNTIL_DATE)" > "$OUTPUT_FILE"
echo "" >> "$OUTPUT_FILE"

# Build the git log command with optional author filtering
GIT_LOG_CMD="git log --since=\"$SINCE_DATE\" --until=\"$UNTIL_DATE\" --pretty=format:\"%cd %h %s (%an)\" --date=short"
if [[ -n "$GITHUB_USERNAME" ]]; then
    GIT_LOG_CMD+=" --author=\"$GITHUB_USERNAME\""
fi

# ã“ã“ã§ã¯æœ€æ–°ã®ã‚³ãƒŸãƒƒãƒˆãŒå…ˆã«ãªã‚‹ã‚ˆã† sort -r ã‚’ã‹ã‘ã‚‹
eval $GIT_LOG_CMD | sort -r | awk -v output="$OUTPUT_FILE" '
################################################################################
# ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å‹•ã:
# 1) è¡Œå˜ä½ã§èª­ã¿è¾¼ã‚€ã€‚
#    ä¾‹: 2025-02-17 abc123 fix bug (Alice)
#    ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ: æ—¥ä»˜, ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥, ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸, (ä½œè€…)
# 2) æ—¥ä»˜ã”ã¨ã«é…åˆ— commits_by_day[æ—¥ä»˜][ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸||ä½œè€…] ã«ãƒãƒƒã‚·ãƒ¥ã‚’è¿½è¨˜ã—ã¦ã„ãã€‚
# 3) END ãƒ–ãƒ­ãƒƒã‚¯ã§ã¾ã¨ã‚ã¦å‡ºåŠ›ã™ã‚‹ã€‚
################################################################################

# ã¾ãšå„æ—¥ä»˜ã‚’ä¿æŒã™ã‚‹ãŸã‚ã®é…åˆ—ã‚’ç”¨æ„
BEGIN {
    # day_listã‚’æ·»å­—é †åºç®¡ç†ç”¨ã«ä½¿ã†
    day_count = 0
}

{
    # è¡Œã®å…ˆé ­ãŒæ—¥ä»˜(YYYY-MM-DD)ãªã®ã§ã€ã¾ãšãã‚Œã‚’å–ã‚Šå‡ºã™
    day = $1

    # 2ã¤ç›®ãŒã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥
    commit_hash = $2

    # è¡Œå…¨ä½“ã‹ã‚‰ã€æ—¥ä»˜ã¨ãƒãƒƒã‚·ãƒ¥ä»¥å¤–ã‚’å–ã‚Šå‡ºã—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‹ä½œè€…ã‚’æŠ½å‡º
    # "2025-02-17 abc123 " ã‚’å‰Šé™¤ã™ã‚‹
    sub("^[^ ]+ [^ ]+ ", "", $0)
    msg_author = $0  # ä¾‹: "fix bug (Alice)"

    # ä½œè€…ã‚’æ‹¬å¼§ã‹ã‚‰å–ã‚Šå‡ºã™
    author_start = index(msg_author, "(")
    author_end   = index(msg_author, ")")
    author = substr(msg_author, author_start+1, author_end - author_start - 1)

    # ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸éƒ¨ (æœ€å¾Œã®æ‹¬å¼§ä»¥å‰)
    message = substr(msg_author, 1, author_start - 2)

    # å‰å¾Œã®ä½™åˆ†ãªç©ºç™½ã‚’å¿µã®ãŸã‚å‰Šé™¤
    gsub(/^[ \t]+|[ \t]+$/, "", message)
    gsub(/^[ \t]+|[ \t]+$/, "", author)

    # ã€Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸||ä½œè€…ã€ã¨ã„ã†å½¢ã§ã‚­ãƒ¼ã‚’ä½œã‚‹ (ã‚‚ã—ä½œè€…ã‚‚å«ã‚ã¦ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ã—ãŸã„å ´åˆ)
    # ä½œè€…ã‚’ç„¡è¦–ã—ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã ã‘ã§ã¾ã¨ã‚ãŸã„å ´åˆã¯ã€message ã ã‘ã‚’ä½¿ã†
    key = message "||" author

    # æ—¥ä»˜ãƒªã‚¹ãƒˆã«å«ã¾ã‚Œã¦ã„ãªã„å ´åˆã¯æ–°è¦ç™»éŒ²
    if (!(day in days)) {
        days[day] = day_count
        day_list[day_count] = day
        day_count++
    }

    # é…åˆ—ã«ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’æºœã‚è¾¼ã‚€ã€‚ã™ã§ã«ã‚­ãƒ¼ãŒã‚ã‚Œã°è¿½è¨˜ã€‚
    if (commits_by_day[day][key] == "") {
        commits_by_day[day][key] = commit_hash
    } else {
        commits_by_day[day][key] = commits_by_day[day][key] "," commit_hash
    }
}

END {
    # æ—¥ä»˜ã®é †ç•ª (æœ€æ–° â†’ å¤ã„) ã«å¾“ã£ã¦å‡ºåŠ›ã—ã¦ã„ã
    for (i = 0; i < day_count; i++) {
        d = day_list[i]
        print "\n## " d "\n" >> output

        # æ—¥ä»˜ d ã«å¯¾å¿œã™ã‚‹ã‚­ãƒ¼(ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸||ä½œè€…)ã‚’é †ä¸åŒã§åˆ—æŒ™
        # ä¸€è¦§ãŒå¿…è¦ãªã‚‰ä»–ã®æ–¹æ³•ã§ã‚½ãƒ¼ãƒˆã‚‚å¯èƒ½
        for (k in commits_by_day[d]) {
            # ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ä¸€è¦§ã‚’ã‚«ãƒ³ãƒã§åˆ†è§£
            split(commits_by_day[d][k], arr_hashes, ",")

            # k ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ä½œè€…ã‚’å¾©å…ƒ
            split(k, ma, "\\|\\|")
            commit_msg = ma[1]
            commit_author = ma[2]

            # ãƒãƒƒã‚·ãƒ¥ã‚’æ•´å½¢ã—ã¦é€£çµ
            joined_hashes = arr_hashes[1]
            for (h = 2; h <= length(arr_hashes); h++) {
                joined_hashes = joined_hashes ", " arr_hashes[h]
            }

            # å‡ºåŠ›å½¢å¼: "- **ãƒãƒƒã‚·ãƒ¥ä¸€è¦§** ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (ä½œè€…)"
            print "- **" joined_hashes "** " commit_msg " (" commit_author ")" >> output
        }
    }
}'


echo "" >> "$OUTPUT_FILE"
echo "The commit report has been saved to $OUTPUT_FILE."
```

### ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒã‚¤ãƒ³ãƒˆ

1. **AWKã§æ—¥ä»˜ã”ã¨ã«ã¾ã¨ã‚ã‚‹**  
   - `commits_by_day[æ—¥ä»˜][key]` ã¨ã„ã†å¤šæ¬¡å…ƒé…åˆ—(å®Ÿéš›ã«ã¯é€£æƒ³é…åˆ—ã®å…¥ã‚Œå­)ã‚’åˆ©ç”¨ã—ã¦ã€æ—¥ä»˜ã”ã¨ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸(+ä½œè€…)ã‚’ã‚­ãƒ¼ã«ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’æ ¼ç´ã—ã¦ã„ã¾ã™ã€‚  
   - è¡Œå˜ä½ã§èª­ã‚€ãŸã³ã«ã€æ—¥ä»˜ã‚’è¦‹ã¦é…åˆ—ã«è¿½åŠ ã—ã¦ã„ãã€æœ€å¾Œã« `END` ãƒ–ãƒ­ãƒƒã‚¯ã§ã¾ã¨ã‚ã¦å‡ºåŠ›ã—ã¾ã™ã€‚

2. **ä½œè€…ã‚‚å«ã‚ã¦ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ã™ã‚‹ã‹ã©ã†ã‹**  
   - `key = message "||" author` ã®ã‚ˆã†ã«ã—ã¦ã„ã‚‹éƒ¨åˆ†ã§ã€ŒåŒã˜ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã¤åŒã˜ä½œè€…ã€ã®å ´åˆã«ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚  
   - ä½œè€…ã‚’å®Œå…¨ã«ç„¡è¦–ã—ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã ã‘ã§ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ã—ãŸã„å ´åˆã¯ã€`key = message` ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã¦ãã ã•ã„ã€‚

3. **ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã¯ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§ã¾ã¨ã‚ã¦æ ¼ç´**  
   - åŒã˜ã‚­ãƒ¼ã«å¯¾ã—ã¦ä½•åº¦ã‚‚ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’è¿½è¨˜ã—ã€æœ€å¾Œã« `split(..., arr_hashes, ",")` ã§åˆ†å‰²ã—ã¦å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚

4. **ä¸¦ã³é †**  
   - `sort -r` ã‚’ã‹ã‘ã¦ã„ã‚‹ã®ã§ã€æœ€æ–°ã®ã‚³ãƒŸãƒƒãƒˆ (æ—¥ä»˜ãŒæ–°ã—ã„é †) ãŒå…ˆã«ãã¾ã™ã€‚AWKå´ã§ã¯èª­ã¿è¾¼ã‚“ã é †ã«æ—¥ä»˜ã‚’ day_list ã«ç©ã‚“ã§ã„ã‚‹ã®ã§ã€ãã®ã¾ã¾æœ€æ–°æ—¥ä»˜ â†’ å¤ã„æ—¥ä»˜ã®é †ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚  
   - æ—¥ä»˜å†…ã§ã®ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ä¸¦ã³ã¯ã€é€£æƒ³é…åˆ—ã®å–ã‚Šå‡ºã—ãªã®ã§åŸºæœ¬çš„ã«ã¯é †ä¸åŒã§ã™ã€‚ã‚‚ã—ä½•ã‚‰ã‹ã®é †åºï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸åãªã©ï¼‰ã§ä¸¦ã¹æ›¿ãˆãŸã‘ã‚Œã°ã€å¾Œæ®µã§è¿½åŠ ã® sort å‡¦ç†ã‚’å…¥ã‚Œã¦ãã ã•ã„ã€‚

---

ã“ã®æ–¹å¼ã«ã™ã‚‹ã“ã¨ã§ã€

- åŒã˜æ—¥ä»˜å†…ã§ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç¹°ã‚Šè¿”ã—å‡ºã¦ããŸå ´åˆ  
- é€£ç¶šã—ã¦ã„ãªãã¦ã‚‚  
- ã™ã¹ã¦ã¾ã¨ã‚ã¦1è¡Œã«ã™ã‚‹  

ãŒå®Ÿç¾ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/2/18 21:54:03*

shell ç¸›ã‚Šå‡ºãªãã¦ã‚‚ã„ã„ã‚ˆã€‚
nodejs ã¯å‹•ãç’°å¢ƒã§ã‚ã‚‹ã“ã¨ã‚’å‰æã«è¨˜è¿°ã—ã¦ã‚‚ã„ã„

---

## ğŸ”§ ãƒ„ãƒ¼ãƒ«
*2025/2/18 21:54:40*

**ã¾ã¨ã‚ã‚’ä½œæˆ**

Gitã®ãƒ­ã‚°ã‚’è§£æã—ã€æ—¥ä»˜ã”ã¨ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã€‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§è‘—è€…ã‚‚å«ã‚ã€å˜ä¸€ã®Markdownãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚

**ã‚³ãƒãƒ³ãƒ‰ã®æ§‹ç¯‰**

ã‚³ãƒãƒ³ãƒ‰ã‚’ä½œæˆã—ã€æ¨™æº–å‡ºåŠ›ã‚’å–å¾—ã€‚å„è¡Œã‚’æ—¥ä»˜ã€çŸ­ç¸®ãƒãƒƒã‚·ãƒ¥ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€è‘—è€…ã«åˆ†å‰²ã—ã€æœ€çµ‚çš„ãªMarkdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã—ã¦ã„ã‚‹ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/2/18 21:54:40*

ä»¥ä¸‹ã«ã€**Node.js** ã‚’ä½¿ã£ã¦ Git ã®ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‹ã‚‰æ—¥å ±ã‚’ä½œæˆã—ã€**åŒã˜æ—¥ä»˜å†…ã§åŒã˜ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã¾ã¨ã‚ã¦**å‡ºåŠ›ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç¤ºã—ã¾ã™ã€‚

- æ—¥ä»˜ã®ç¯„å›²æŒ‡å®š (`--since`, `--until`) ã¨ã€ä»»æ„ã® author ãƒ•ã‚£ãƒ«ã‚¿(`--author`) ãŒå¯èƒ½
- å–å¾—ã—ãŸãƒ­ã‚°ã‹ã‚‰æ—¥ä»˜å˜ä½ã§ã¾ã¨ã‚ã€ã•ã‚‰ã«ãã®æ—¥ä»˜å†…ã§ã€ŒåŒã˜ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆ+ä½œè€…ï¼‰ã€ã‚’ã¾ã¨ã‚ã‚‹
- ã¾ã¨ã‚æ–¹ã‚’ã€Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ + ä½œè€…ã€ã§è¡Œã†ã‹ã€ã€Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã¿ã€ã§è¡Œã†ã‹ã¯å®Ÿè£…ä¸­ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¦‹ã¦èª¿æ•´

ä»¥ä¸‹ã®ä¾‹ã¯**å­ãƒ—ãƒ­ã‚»ã‚¹** (`child_process.execSync`) ã‚’ä½¿ã£ã¦ `git log` ã‚’å®Ÿè¡Œã—ã€çµæœã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦ Markdown å½¢å¼ã«æ•´å½¢ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚

## Node.js ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¾‹

```js
#!/usr/bin/env node
/**
 * Node.js ã§ Git ã®ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’é›†è¨ˆã—ã€Markdown ã®æ—¥å ±ã‚’ä½œæˆã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
 * 
 * ä½¿ã„æ–¹:
 *   $ node git-report.js [sinceDate] [untilDate] [author]
 * 
 * ä¾‹:
 *   $ node git-report.js 2025-02-17 2025-02-18 "Alice"
 * 
 * ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’çœç•¥ã—ãŸå ´åˆã¯:
 *   sinceDate: "yesterday"
 *   untilDate: "today"
 *   author   : (æœªæŒ‡å®š)
 */

const { execSync } = require('child_process');
const fs = require('fs');
const path = require('path');

// ã‚³ãƒãƒ³ãƒ‰å¼•æ•°ã‚’å—ã‘å–ã‚‹
// (ä¾‹) node git-report.js 2025-02-17 2025-02-18 "Alice"
const SINCE_DATE = process.argv[2] || 'yesterday';  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã€Œæ˜¨æ—¥ã€
const UNTIL_DATE = process.argv[3] || 'today';       // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã€Œä»Šæ—¥ã€
const GIT_AUTHOR = process.argv[4] || '';            // æœªæŒ‡å®šOK

// å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«å (é©å®œå¤‰æ›´ã—ã¦ãã ã•ã„)
const DATE_RANGE = `${SINCE_DATE}_to_${UNTIL_DATE}`;
const OUTPUT_FILE = `git_report_${DATE_RANGE}.md`;

// ã‚³ãƒãƒ³ãƒ‰ã‚’çµ„ã¿ç«‹ã¦ã‚‹
// ä¾‹: git log --since="2025-02-17" --until="2025-02-18" --pretty=format:"%cd %h %s (%an)" --date=short --author="Alice"
let gitLogCmd = `git log --since="${SINCE_DATE}" --until="${UNTIL_DATE}" --pretty=format:"%cd %h %s (%an)" --date=short`;
if (GIT_AUTHOR) {
  gitLogCmd += ` --author="${GIT_AUTHOR}"`;
}

// ãƒ­ã‚°ã‚’å–å¾— (æœ€æ–°é †ã«ã—ãŸã‘ã‚Œã°ã€ã‚ã¨ã§ã‚½ãƒ¼ãƒˆã™ã‚‹ã®ã§ã€ã“ã“ã§ã¯ä¸€æ—¦å–å¾—ã®ã¿)
const rawLog = execSync(gitLogCmd, { encoding: 'utf8' });

// ãƒ­ã‚°ã‚’è¡Œå˜ä½ã«åˆ†è§£ãƒ»æ•´å½¢
// ä¾‹è¡Œ: "2025-02-17 abc123 fix bug (Alice)"
const lines = rawLog.split(/\r?\n/).filter(line => line.trim() !== '');

// æ—¥ä»˜ã”ã¨ã€ã‹ã¤ã€Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸+ä½œè€…ã€å˜ä½ã§ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’ã¾ã¨ã‚ã‚‹ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
// data = {
//   "YYYY-MM-DD": {
//     "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸||ä½œè€…": [ "ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥", "ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥", ... ],
//     ...
//   },
//   ...
// };
const data = {};

// ãƒ‘ãƒ¼ã‚¹å‡¦ç†
lines.forEach(line => {
  // è¡Œé ­ã®YYYY-MM-DDã‚’å–ã‚Šå‡ºã™ï¼ˆä¾‹: "2025-02-17"ï¼‰
  // ç¶šãã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ (ä¾‹: "abc123")
  // ä»¥é™ã«ç¶šã "fix bug (Alice)" ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ä½œè€…
  // æ­£è¦è¡¨ç¾ã§åˆ†è§£ã—ã¦ã¿ã‚‹
  const match = line.match(/^(\d{4}-\d{2}-\d{2})\s+([0-9a-f]+)\s+(.*)\s\((.*)\)$/);
  if (!match) {
    // äºˆæœŸã›ã¬å½¢å¼ã®å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—ï¼ˆå¿…è¦ã«å¿œã˜ã¦ã‚¨ãƒ©ãƒ¼å‡¦ç†ï¼‰
    return;
  }
  const date   = match[1]; // "2025-02-17"
  const hash   = match[2]; // "abc123"
  const msgRaw = match[3]; // "fix bug"
  const author = match[4]; // "Alice"

  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ä½œè€…ã‚’æ•´å½¢
  const message = msgRaw.trim();

  // ã€Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã¿ã§ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ã€ã™ã‚‹å ´åˆã¯ key = message;
  // ã€Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ + ä½œè€… ã§ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ã€ã™ã‚‹å ´åˆã¯ key = `${message}||${author}`;
  // å¿…è¦ã«å¿œã˜ã¦å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚
  const key = `${message}||${author}`;

  // data[date] ãŒã¾ã ç„¡ã‘ã‚Œã°ä½œæˆ
  if (!data[date]) {
    data[date] = {};
  }
  // data[date][key] ãŒã¾ã ç„¡ã‘ã‚Œã°åˆæœŸåŒ–
  if (!data[date][key]) {
    data[date][key] = [];
  }
  // ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’è¿½åŠ 
  data[date][key].push(hash);
});

// æ—¥ä»˜ã‚’æ–°ã—ã„é †(é™é †)ã«ã‚½ãƒ¼ãƒˆã—ãŸã„å ´åˆ
const sortedDates = Object.keys(data).sort().reverse();

// Markdown å‡ºåŠ›ã‚’çµ„ã¿ç«‹ã¦ã‚‹
let md = `# Git Commit Report (${SINCE_DATE} to ${UNTIL_DATE})\n\n`;

sortedDates.forEach(date => {
  md += `## ${date}\n\n`;

  // åŒã˜æ—¥ä»˜å†…ã§ã® key ä¸€è¦§ã‚’é©å½“ã«åˆ—æŒ™ (ä¸¦ã³é †ãŒæ°—ã«ãªã‚‹å ´åˆã¯ sort ã‚‚OK)
  // Object.keys(data[date]) => ["fix bug||Alice", "add feature||Bob", ...]
  const keys = Object.keys(data[date]);

  keys.forEach(key => {
    // key: "fix bug||Alice" -> [ "abc123", "def456", ...]
    const commitHashes = data[date][key];
    // ã€Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸||ä½œè€…ã€ã‹ã‚‰åˆ†å‰²
    const [msg, author] = key.split('||');
    // ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’ ", " ã§é€£çµ
    const joinedHashes = commitHashes.join(', ');

    // å‡ºåŠ›å½¢å¼ã¯ãŠå¥½ã¿ã§
    // ä¾‹: "- **abc123, def456** fix bug (Alice)"
    md += `- **${joinedHashes}** ${msg} (${author})\n`;
  });

  md += '\n';
});

// ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãå‡ºã—
fs.writeFileSync(path.resolve(__dirname, OUTPUT_FILE), md, 'utf8');

// ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
console.log(`The commit report has been saved to ${OUTPUT_FILE}`);
```

---

### ä½¿ã„æ–¹

1. ä¸Šè¨˜ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ `git-report.js` ãªã©ã®åå‰ã§ä¿å­˜ã—ã€`chmod +x git-report.js` ã§å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ã—ã¦ãŠãã¾ã™ã€‚  
2. ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒã‚ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€ã‚‚ã—ãã¯ä»»æ„ã®å ´æ‰€ã‹ã‚‰ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ã€‚

```bash
# ä¾‹1: å‰æ—¥ã‹ã‚‰ä»Šæ—¥ã¾ã§ã®ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’ã¾ã¨ã‚ã‚‹ (author æŒ‡å®šãªã—)
$ ./git-report.js 2025-02-17 2025-02-18

# ä¾‹2: author æŒ‡å®š (ãƒ¦ãƒ¼ã‚¶"alice") ã‚’ã—ã¦ã€ç‰¹å®šç¯„å›²ã®ã‚³ãƒŸãƒƒãƒˆã ã‘ã‚’é›†è¨ˆ
$ ./git-report.js 2025-02-17 2025-02-18 alice

# å¼•æ•°ã‚’çœç•¥ã—ãŸå ´åˆã¯ since="yesterday", until="today"
$ ./git-report.js
```

3. `git_report_XXXX-XX-XX_to_XXXX-XX-XX.md` ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

---

### ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒã‚¤ãƒ³ãƒˆ

1. **Gitãƒ­ã‚°å–å¾—**  
   - `git log --since="..." --until="..." --pretty=format:"..." --date=short` ã§å–å¾—ã—ã¦ã„ã¾ã™ã€‚  
   - `--author="..."` ã‚’ä»˜ä¸ã™ã‚‹ã¨ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¶ã«çµã‚Œã¾ã™ã€‚

2. **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ä½œè€…ã®ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°**  
   - `key = \`${message}||${author}\`;` ã«ã—ã¦ã„ã‚‹ã®ã§ã€ã€ŒåŒã˜ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã¤åŒã˜ä½œè€…ã€ã§ã‚ã‚Œã°æ—¥ä»˜å†…ã®ã‚³ãƒŸãƒƒãƒˆã‚’ã™ã¹ã¦ã¾ã¨ã‚ã¦å‡ºåŠ›ã—ã¾ã™ã€‚  
   - ã‚‚ã—ä½œè€…ã‚’ç„¡è¦–ã—ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã ã‘ã§ã¾ã¨ã‚ãŸã„å ´åˆã¯ `key = message;` ã«æ›¸ãæ›ãˆã¦ãã ã•ã„ã€‚

3. **Node.js ã§ã®é…åˆ—ã‚„é€£æƒ³é…åˆ—ã‚’æ´»ç”¨**  
   - æ—¥ä»˜ â†’ (ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ + ä½œè€…) â†’ ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ä¸€è¦§ ã®å¤šæ®µéšã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚  
   - `Object.keys(data).sort().reverse()` ã§æ—¥ä»˜ã‚’ã€Œæ–°ã—ã„æ—¥ä»˜ã‹ã‚‰å¤ã„æ—¥ä»˜ã€ã®é †ã«ä¸¦ã¹ã¦ã„ã¾ã™ã€‚å¿…è¦ã«å¿œã˜ã¦å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚

4. **Markdownå‡ºåŠ›**  
   - ä¾‹ã¨ã—ã¦ `## YYYY-MM-DD` ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œã‚Šã€ãã®ä¸‹ã« `- **ãƒãƒƒã‚·ãƒ¥ä¸€è¦§** ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (ä½œè€…)` ã®å½¢å¼ã§å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚  
   - å‡ºåŠ›å½¢å¼ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«åˆã‚ã›ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ãã ã•ã„ã€‚

---

ã“ã‚Œã«ã‚ˆã‚Šã€**åŒã˜æ—¥ä»˜ã®ä¸­ã§åŒã˜ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆ+ä½œè€…ï¼‰** ãŒåˆ†æ•£ã—ã¦ã‚³ãƒŸãƒƒãƒˆã•ã‚Œã¦ã„ã¦ã‚‚ã€ä¸€ã¤ã«ã¾ã¨ã‚ã¦ä¸€è¦§è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚Shell ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚ˆã‚Šã‚‚æŸ”è»Ÿã«æ›¸ã‘ã‚‹ã®ã§ã€ä»–ã«ã‚‚ã„ã‚ã„ã‚ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã‚„ã™ã„ã§ã™ã€‚ãœã²ãŠè©¦ã—ãã ã•ã„ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/2/18 21:56:55*

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã“ã‚Œã§ã„ã„ã‚“ã ã‘ã©ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã€ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚„è‘—è€…åã‚’æ¶ˆã™æ§˜ãªãƒ•ãƒ©ã‚°ã‚’ã¤ã‘ã¦æ¬²ã—ã„

---

## ğŸ”§ ãƒ„ãƒ¼ãƒ«
*2025/2/18 21:57:44*

**ãƒ•ãƒ©ã‚°è§£æã‚’æ¨¡ç´¢ä¸­**

git-report.jsã®å®Ÿè¡Œæ™‚ã€ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚„è‘—è€…åã‚’éè¡¨ç¤ºã«ã™ã‚‹ãƒ•ãƒ©ã‚°ã‚’è§£æã™ã‚‹æ–¹æ³•ã‚’æ¤œè¨ä¸­ã€‚ãƒ—ãƒ­ã‚»ã‚¹ã®å¼•æ•°ã‚’ä½¿ã†å˜ç´”ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’èª¿ã¹ã¦ã„ã‚‹ã€‚

**é¸æŠè‚¢ã®è§£æ**

å¼•æ•°ã‹ã‚‰`--hide-hash`ã‚„`--hide-author`ã®æœ‰ç„¡ã‚’ç¢ºèªã—ã€æ¨™æº–è¨­å®šã¨ãƒ•ãƒ©ã‚°è§£æã‚’æ¤œè¨ã€‚ã“ã‚Œã¯ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒãƒªã‚¹ãƒˆã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’è¦‹ã¦ã„ã‚‹ã‚“ã ã€‚

**ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç¢ºã‹ã‚ã‚‹**

`process.argv`ã®å¼•æ•°ã‚’ã‚¹ãƒ©ã‚¤ã‚¹ã—ã€`--hide-hash`ã‚„`--hide-author`ã‚’è¦‹ã¦ã€éè¡¨ç¤ºã®è¨­å®šã‚’é©ç”¨ä¸­ã€‚æ—¥ä»˜å¼•æ•°ã‚‚ãƒã‚§ãƒƒã‚¯ã—ã¦ã€å‡ºåŠ›å½¢å¼ã‚’å·¥å¤«ã—ã¦ã„ã‚‹ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/2/18 21:57:44*

ä»¥ä¸‹ã¯ã€**Node.js** ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ Git ã®ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’é›†è¨ˆã—ã€**ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ•ãƒ©ã‚°ã§ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚„è‘—è€…åã‚’çœç•¥ã™ã‚‹**æ©Ÿèƒ½ã‚’ã¤ã‘ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚

---

## ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¾‹: `git-report.js`

```js
#!/usr/bin/env node
/**
 * Node.js ã§ Git ã®ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’é›†è¨ˆã—ã€Markdown ã®æ—¥å ±ã‚’ä½œæˆã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
 * 
 * ä½¿ã„æ–¹:
 *   $ node git-report.js [sinceDate] [untilDate] [author] [--hide-hash] [--hide-author]
 * 
 * ä¾‹:
 *   $ node git-report.js 2025-02-17 2025-02-18 "Alice" --hide-hash
 *   $ node git-report.js 2025-02-17 2025-02-18 "Alice" --hide-author
 *   $ node git-report.js 2025-02-17 2025-02-18 "Alice" --hide-hash --hide-author
 * 
 * çœç•¥æ™‚:
 *   sinceDate: "yesterday"
 *   untilDate: "today"
 *   author   : (æœªæŒ‡å®š)
 */

const { execSync } = require('child_process');
const fs = require('fs');
const path = require('path');

// ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã‚’å‡¦ç†ã™ã‚‹
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ä¾‹: node git-report.js 2025-02-17 2025-02-18 "Alice" --hide-hash --hide-author
//     â†‘             â†‘             â†‘               â†‘            â†‘
//     0             1             2               ãƒ•ãƒ©ã‚°ãƒ•ãƒ©ã‚°
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const args = process.argv.slice(2);

let hideHash = false;
let hideAuthor = false;

// ãƒ•ãƒ©ã‚° (--hide-hash, --hide-author) ã¨ã€æ—¥ä»˜/author å¼•æ•°ã‚’åˆ†é›¢
const dateArgs = [];
for (const arg of args) {
  if (arg === '--hide-hash') {
    hideHash = true;
  } else if (arg === '--hide-author') {
    hideAuthor = true;
  } else {
    // ãƒ•ãƒ©ã‚°ä»¥å¤–ã®ã‚‚ã®ã¯æ—¥ä»˜ã‚„authorã¨ã¿ãªã™
    dateArgs.push(arg);
  }
}

// dateArgs[0] = SINCE_DATE, dateArgs[1] = UNTIL_DATE, dateArgs[2] = GIT_AUTHOR
const SINCE_DATE = dateArgs[0] || 'yesterday';
const UNTIL_DATE = dateArgs[1] || 'today';
const GIT_AUTHOR = dateArgs[2] || '';

// å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«å (é©å®œå¤‰æ›´ã—ã¦ãã ã•ã„)
const DATE_RANGE = `${SINCE_DATE}_to_${UNTIL_DATE}`;
const OUTPUT_FILE = `git_report_${DATE_RANGE}.md`;

// Gitãƒ­ã‚°å–å¾—ã‚³ãƒãƒ³ãƒ‰ã‚’çµ„ã¿ç«‹ã¦ã‚‹
// ä¾‹: git log --since="2025-02-17" --until="2025-02-18" --author="Alice" ...
let gitLogCmd = `git log --since="${SINCE_DATE}" --until="${UNTIL_DATE}" ` +
                `--pretty=format:"%cd %h %s (%an)" --date=short`;
if (GIT_AUTHOR) {
  gitLogCmd += ` --author="${GIT_AUTHOR}"`;
}

// ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ (ãƒ­ã‚°ã‚’å–å¾—)
let rawLog;
try {
  rawLog = execSync(gitLogCmd, { encoding: 'utf8' });
} catch (e) {
  console.error('Failed to run git command:', e.message);
  process.exit(1);
}

// ãƒ­ã‚°ã‚’è¡Œå˜ä½ã«åˆ†è§£
const lines = rawLog.split(/\r?\n/).filter(line => line.trim() !== '');

// æ—¥ä»˜ -> (ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸||ä½œè€…) -> [hash, hash, ...] ã¨ã„ã†å½¢å¼ã§æ ¼ç´ã™ã‚‹ãŸã‚ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
const data = {};

/**
 * ãƒ­ã‚°ã® 1 è¡Œã¯ä»¥ä¸‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’æƒ³å®š:
 *   YYYY-MM-DD <hash> <commit-message> (<author>)
 * ä¾‹:
 *   2025-02-17 abc123 fix bug (Alice)
 */
lines.forEach(line => {
  const match = line.match(/^(\d{4}-\d{2}-\d{2})\s+([0-9a-f]+)\s+(.*)\s\((.*)\)$/);
  if (!match) {
    return; // äºˆæƒ³å¤–ã®å½¢å¼ã¯ã‚¹ã‚­ãƒƒãƒ—
  }
  const date   = match[1]; // "2025-02-17"
  const hash   = match[2]; // "abc123"
  const msgRaw = match[3]; // "fix bug"
  const author = match[4]; // "Alice"

  const message = msgRaw.trim();

  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ + ä½œè€…ã§ã¾ã¨ã‚ãŸã„å ´åˆã¯ key = `${message}||${author}`;
  // ä½œè€…ã‚’ç„¡è¦–ã—ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã ã‘ã§ã¾ã¨ã‚ãŸã„ãªã‚‰ key = message;
  const key = `${message}||${author}`;

  // data[date] ãŒãªã‘ã‚Œã°ä½œæˆ
  if (!data[date]) {
    data[date] = {};
  }
  // data[date][key] ãŒãªã‘ã‚Œã°é…åˆ—åˆæœŸåŒ–
  if (!data[date][key]) {
    data[date][key] = [];
  }
  // ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’è¿½åŠ 
  data[date][key].push(hash);
});

// æ—¥ä»˜ã‚’æ–°ã—ã„é †(é™é †)ã«ã‚½ãƒ¼ãƒˆ
const sortedDates = Object.keys(data).sort().reverse();

// Markdown å‡ºåŠ›ã®çµ„ã¿ç«‹ã¦
let md = `# Git Commit Report (${SINCE_DATE} to ${UNTIL_DATE})\n\n`;

sortedDates.forEach(date => {
  md += `## ${date}\n\n`;

  const keys = Object.keys(data[date]);
  // é …ç›®ã”ã¨ã«ãƒ«ãƒ¼ãƒ—
  keys.forEach(key => {
    const commitHashes = data[date][key];
    const [msg, author] = key.split('||');

    // ãƒãƒƒã‚·ãƒ¥éƒ¨åˆ†ã®è¡¨ç¤ºã‚’ã©ã†ã™ã‚‹ã‹
    let lineText = '- ';

    if (!hideHash) {
      // ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§çµåˆ
      const joinedHashes = commitHashes.join(', ');
      lineText += `**${joinedHashes}** `;
    }

    // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
    lineText += msg;

    // è‘—è€…åã‚’è¡¨ç¤ºã—ãªã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒOFFãªã‚‰ (author) ã‚’è¿½åŠ 
    if (!hideAuthor) {
      lineText += ` (${author})`;
    }

    md += lineText + '\n';
  });

  md += '\n';
});

// ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãå‡ºã—
fs.writeFileSync(path.resolve(__dirname, OUTPUT_FILE), md, 'utf8');
console.log(`The commit report has been saved to ${OUTPUT_FILE}`);
```

---

### ä½¿ã„æ–¹

1. ä¸Šè¨˜ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ `git-report.js` ãªã©ã®åå‰ã§ä¿å­˜ã—ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ã—ã¾ã™ã€‚
   ```bash
   chmod +x git-report.js
   ```
2. ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ã‚ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€ã‚‚ã—ãã¯ãƒªãƒã‚¸ãƒˆãƒªãƒ«ãƒ¼ãƒˆã‹ã‚‰å®Ÿè¡Œã—ã¾ã™ã€‚
   ```bash
   # å¼•æ•°ãƒ»ãƒ•ãƒ©ã‚°ã®ä¾‹
   
   # (1) å‰æ—¥ã‹ã‚‰ä»Šæ—¥ã¾ã§ã®ã‚³ãƒŸãƒƒãƒˆ + authoræŒ‡å®šãªã—
   $ ./git-report.js 2025-02-17 2025-02-18
   
   # (2) ç‰¹å®šãƒ¦ãƒ¼ã‚¶ "Alice" ã«é™å®šã—ã¤ã¤ã€ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’è¡¨ç¤ºã—ãªã„
   $ ./git-report.js 2025-02-17 2025-02-18 Alice --hide-hash
   
   # (3) authorã‚‚è¡¨ç¤ºã—ãªã„
   $ ./git-report.js 2025-02-17 2025-02-18 Alice --hide-hash --hide-author
   
   # (4) æ—¥ä»˜çœç•¥(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ yesterday ï½ today) + --hide-author ãƒ•ãƒ©ã‚°ã ã‘
   $ ./git-report.js --hide-author
   ```
   - å¼•æ•°ã‚’çœç•¥ã—ãŸå ´åˆã€ `SINCE_DATE = 'yesterday'`, `UNTIL_DATE = 'today'`, `GIT_AUTHOR = ''` ãŒä½¿ã‚ã‚Œã¾ã™ã€‚
3. å®Ÿè¡Œå¾Œã€ `git_report_YYYY-MM-DD_to_YYYY-MM-DD.md` ãŒç”Ÿæˆã•ã‚Œã€ãã®ä¸­ã«æ—¥ä»˜ã”ã¨ã«ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚  

---

### ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã«ã¤ã„ã¦

- **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã ã‘ã§ã¾ã¨ã‚ãŸã„å ´åˆ**  
  ã‚³ãƒ¼ãƒ‰å†…ã§ `const key = \`${message}||${author}\`;` ã¨ã—ã¦ã„ã‚‹ç®‡æ‰€ã‚’ `const key = message;` ã«å¤‰ãˆã‚‹ã¨ã€åŒã˜ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã‚ã‚Œã°è‘—è€…ãŒé•ã£ã¦ã„ã¦ã‚‚ã²ã¨ã¾ã¨ã‚ã«ãªã‚Šã¾ã™ã€‚
- **æ—¥ä»˜ã®ä¸¦ã³é †**  
  `Object.keys(data).sort().reverse()` ã§ã€Œæ–°ã—ã„æ—¥ä»˜ â†’ å¤ã„æ—¥ä»˜ã€ã®é™é †ã«ãªã£ã¦ã„ã¾ã™ã€‚æ˜‡é †ã«ã—ãŸã„å ´åˆã¯ `sort()` ã®ã¿ã€ã‚ã‚‹ã„ã¯æ˜ç¤ºçš„ã« `sort((a,b)=>a.localeCompare(b))` ã™ã‚‹ãªã©ã§èª¿æ•´ã—ã¦ãã ã•ã„ã€‚
- **å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**  
  ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®æœ€å¾Œã®ã‚ãŸã‚Šã§ `md` ã‚’çµ„ã¿ç«‹ã¦ã¦ã„ã‚‹ç®‡æ‰€ã‚’å¥½ããªå½¢ã«å¤‰ãˆã‚‹ã“ã¨ã§ã€HTML ã‚„ä»–ã®å½¢å¼ã«ã‚‚å¯¾å¿œã§ãã¾ã™ã€‚

ã“ã‚Œã§ã€ã€Œ**ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚„è‘—è€…åã‚’ä»»æ„ã§éš ã™ãƒ•ãƒ©ã‚°**ã€ã‚’å‚™ãˆãŸæ—¥å ±ä½œæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå®Œæˆã—ã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/2/18 22:04:49*

# Git Commit Report (2025-02-01 to 2025-02-18)ã ã‘ã§ä½•ã‚‚å‡ºåŠ›ã•ã‚Œãªã‹ã£ãŸã€‚ã¿ãªãŠã—ã¦ã»ã—ã„

#!/usr/bin/env node
/**
 * Node.js ã§ Git ã®ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’é›†è¨ˆã—ã€Markdown ã®æ—¥å ±ã‚’ä½œæˆã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
 * 
 * ä½¿ã„æ–¹:
 *   $ node git-report.js [sinceDate] [untilDate] [author] [--hide-hash] [--hide-author]
 * 
 * ä¾‹:
 *   $ node git-report.js 2025-02-17 2025-02-18 "Alice" --hide-hash
 *   $ node git-report.js 2025-02-17 2025-02-18 "Alice" --hide-author
 *   $ node git-report.js 2025-02-17 2025-02-18 "Alice" --hide-hash --hide-author
 * 
 * çœç•¥æ™‚:
 *   sinceDate: "yesterday"
 *   untilDate: "today"
 *   author   : (æœªæŒ‡å®š)
 */

import { execSync } from 'child_process';
import { writeFileSync } from 'fs';
import { resolve } from 'path';

// ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã‚’å‡¦ç†ã™ã‚‹
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ä¾‹: node git-report.js 2025-02-17 2025-02-18 "Alice" --hide-hash --hide-author
//     â†‘             â†‘             â†‘               â†‘            â†‘
//     0             1             2               ãƒ•ãƒ©ã‚°ãƒ•ãƒ©ã‚°
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const args = process.argv.slice(2);

let hideHash = false;
let hideAuthor = false;

// ãƒ•ãƒ©ã‚° (--hide-hash, --hide-author) ã¨ã€æ—¥ä»˜/author å¼•æ•°ã‚’åˆ†é›¢
const dateArgs = [];
for (const arg of args) {
  if (arg === '--hide-hash') {
    hideHash = true;
  } else if (arg === '--hide-author') {
    hideAuthor = true;
  } else {
    // ãƒ•ãƒ©ã‚°ä»¥å¤–ã®ã‚‚ã®ã¯æ—¥ä»˜ã‚„authorã¨ã¿ãªã™
    dateArgs.push(arg);
  }
}

// dateArgs[0] = SINCE_DATE, dateArgs[1] = UNTIL_DATE, dateArgs[2] = GIT_AUTHOR
const SINCE_DATE = dateArgs[0] || 'yesterday';
const UNTIL_DATE = dateArgs[1] || 'today';
const GIT_AUTHOR = dateArgs[2] || '';

// å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«å (é©å®œå¤‰æ›´ã—ã¦ãã ã•ã„)
const DATE_RANGE = `${SINCE_DATE}_to_${UNTIL_DATE}`;
const OUTPUT_FILE = `git_report_${DATE_RANGE}.md`;

// Gitãƒ­ã‚°å–å¾—ã‚³ãƒãƒ³ãƒ‰ã‚’çµ„ã¿ç«‹ã¦ã‚‹
// ä¾‹: git log --since="2025-02-17" --until="2025-02-18" --author="Alice" ...
let gitLogCmd = `git log --since="${SINCE_DATE}" --until="${UNTIL_DATE}" ` +
                `--pretty=format:"%cd %h %s (%an)" --date=short`;
if (GIT_AUTHOR) {
  gitLogCmd += ` --author="${GIT_AUTHOR}"`;
}

// ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ (ãƒ­ã‚°ã‚’å–å¾—)
let rawLog;
try {
  rawLog = execSync(gitLogCmd, { encoding: 'utf8' });
} catch (e) {
  console.error('Failed to run git command:', e.message);
  process.exit(1);
}

// ãƒ­ã‚°ã‚’è¡Œå˜ä½ã«åˆ†è§£
const lines = rawLog.split(/\r?\n/).filter(line =&gt; line.trim() !== '');

// æ—¥ä»˜ -&gt; (ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸||ä½œè€…) -&gt; [hash, hash, ...] ã¨ã„ã†å½¢å¼ã§æ ¼ç´ã™ã‚‹ãŸã‚ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
const data = {};

/**
 * ãƒ­ã‚°ã® 1 è¡Œã¯ä»¥ä¸‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’æƒ³å®š:
 *   YYYY-MM-DD &lt;hash&gt; &lt;commit-message&gt; (&lt;author&gt;)
 * ä¾‹:
 *   2025-02-17 abc123 fix bug (Alice)
 */
lines.forEach(line =&gt; {
  const match = line.match(/^(\d{4}-\d{2}-\d{2})\s+([0-9a-f]+)\s+(.*)\s\((.*)\)$/);
  if (!match) {
    return; // äºˆæƒ³å¤–ã®å½¢å¼ã¯ã‚¹ã‚­ãƒƒãƒ—
  }
  const date   = match[1]; // "2025-02-17"
  const hash   = match[2]; // "abc123"
  const msgRaw = match[3]; // "fix bug"
  const author = match[4]; // "Alice"

  const message = msgRaw.trim();

  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ + ä½œè€…ã§ã¾ã¨ã‚ãŸã„å ´åˆã¯ key = `${message}||${author}`;
  // ä½œè€…ã‚’ç„¡è¦–ã—ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã ã‘ã§ã¾ã¨ã‚ãŸã„ãªã‚‰ key = message;
  const key = `${message}||${author}`;

  // data[date] ãŒãªã‘ã‚Œã°ä½œæˆ
  if (!data[date]) {
    data[date] = {};
  }
  // data[date][key] ãŒãªã‘ã‚Œã°é…åˆ—åˆæœŸåŒ–
  if (!data[date][key]) {
    data[date][key] = [];
  }
  // ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’è¿½åŠ 
  data[date][key].push(hash);
});

// æ—¥ä»˜ã‚’æ–°ã—ã„é †(é™é †)ã«ã‚½ãƒ¼ãƒˆ
const sortedDates = Object.keys(data).sort().reverse();

// Markdown å‡ºåŠ›ã®çµ„ã¿ç«‹ã¦
let md = `# Git Commit Report (${SINCE_DATE} to ${UNTIL_DATE})\n\n`;

sortedDates.forEach(date =&gt; {
  md += `## ${date}\n\n`;

  const keys = Object.keys(data[date]);
  // é …ç›®ã”ã¨ã«ãƒ«ãƒ¼ãƒ—
  keys.forEach(key =&gt; {
    const commitHashes = data[date][key];
    const [msg, author] = key.split('||');

    // ãƒãƒƒã‚·ãƒ¥éƒ¨åˆ†ã®è¡¨ç¤ºã‚’ã©ã†ã™ã‚‹ã‹
    let lineText = '- ';

    if (!hideHash) {
      // ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§çµåˆ
      const joinedHashes = commitHashes.join(', ');
      lineText += `**${joinedHashes}** `;
    }

    // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
    lineText += msg;

    // è‘—è€…åã‚’è¡¨ç¤ºã—ãªã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒOFFãªã‚‰ (author) ã‚’è¿½åŠ 
    if (!hideAuthor) {
      lineText += ` (${author})`;
    }

    md += lineText + '\n';
  });

  md += '\n';
});

// ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãå‡ºã—
writeFileSync(resolve(__dirname, OUTPUT_FILE), md, 'utf8');
console.log(`The commit report has been saved to ${OUTPUT_FILE}`);

---

## ğŸ”§ ãƒ„ãƒ¼ãƒ«
*2025/2/18 22:05:40*

**ç¢ºèªã¨ä¿®æ­£**

ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒã€Œgit logã€ã‚’å®Ÿè¡Œã—ã¦ã‚‚ã€æ—¥ä»˜ç¯„å›²ã«ã‚³ãƒŸãƒƒãƒˆãŒãªã„å¯èƒ½æ€§ã‚„ç’°å¢ƒã®å•é¡ŒãŒè€ƒãˆã‚‰ã‚Œã‚‹ã€‚ã‚¨ãƒ©ãƒ¼ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ç¢ºèªã‚‚é‡è¦ã€‚

**æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ç¢ºèª**

ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒæ­£è¦è¡¨ç¾ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã—ã¦ã„ã‚‹é–“ã«ã€ã‚³ãƒŸãƒƒãƒˆã®æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚„ãƒãƒ¼ã‚¸ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ•´åˆæ€§ã‚’ç¢ºèªã—ã¦ã„ã‚‹ã€‚&lt;|vq_4674|&gt;

**ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯ã®æ–¹æ³•ã‚’æ¢ã‚‹**

ã€Œgit logã€ã®å‡ºåŠ›ã‚’ç›´æ¥ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§è©¦ã—ã¦ã„ã‚‹ã€‚æ­£è¦è¡¨ç¾ã§æ—¥ä»˜ã‚„ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å½¢å¼ã‚’ãƒã‚§ãƒƒã‚¯ã—ãªã„ã¨ã€å‡ºåŠ›ãŒå¾—ã‚‰ã‚Œãªã„å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚

**æ¢ã‚‹åŸå› ã¨å¯¾ç­–**

`__dirname`ãŒESãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã§æœªå®šç¾©ã®å ´åˆã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå¤±æ•—ã™ã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚ESãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«å¯¾å¿œã™ã‚‹ãŸã‚ã®æ–¹æ³•ã¨ã—ã¦ã€`path`ã¨`url`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®`fileURLToPath`ã‚’ä½¿ç”¨ã—ã¦çµ¶å¯¾ãƒ‘ã‚¹ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ãŒã‚ã‚‹ã€‚

**rawLogã®ç¢ºèª**  
`rawLog`ãŒç©ºã§ã‚ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ã‚‹ã€‚ç©ºãªã‚‰ã€æ—¥ä»˜ç¯„å›²ã«ã‚³ãƒŸãƒƒãƒˆãŒãªã„ã‹ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæœªæ¥ã®æ—¥ä»˜ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

**èª¿æ•´ã¨ç¢ºèª**

ãƒãƒ¼ã‚¸ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ç¢ºèªã—ã€æ—¥ä»˜ç¯„å›²ã‚’çµã‚‹ãªã©ã—ã¦ã„ã‚‹ã€‚`git log`ã®å‡ºåŠ›ãŒæ­£ã—ã„ã‹ã©ã†ã‹ã‚’è¦‹ã¦ã„ã‚‹ã¨ã“ã‚ã€‚

**ãƒ‡ãƒãƒƒã‚°ã¨ç¢ºèª**

`git log`ãŒå‡ºåŠ›ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ˜ãƒƒãƒ€ãƒ¼ã—ã‹ãªã„å ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ­£ã—ã„ãƒ•ã‚©ãƒ«ãƒ€ã«ã„ãªã„ã‹ã€ãƒªãƒã‚¸ãƒˆãƒªãŒå­˜åœ¨ã—ãªã„å¯èƒ½æ€§ã‚’æŒ‡æ‘˜ã—ã¦ã„ã‚‹ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/2/18 22:05:40*

ã‚¹ã‚¯ãƒªãƒ—ãƒˆãã®ã‚‚ã®ã¯æ¦‚ã­æ­£ã—ãæ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€ã€Œãƒ¬ãƒãƒ¼ãƒˆã«ä½•ã‚‚å‡ºåŠ›ã•ã‚Œãªã„ã€å ´åˆã¯ã€ã„ãã¤ã‹è€ƒãˆã‚‰ã‚Œã‚‹åŸå› ãŒã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã®ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ã€‚

---

## 1. ãã‚‚ãã‚‚æŒ‡å®šã—ãŸæ—¥ä»˜ç¯„å›²ã«ã‚³ãƒŸãƒƒãƒˆãŒç„¡ã„

```bash
# ä¾‹: æ—¥ä»˜ç¯„å›² (2025-02-01 ï½ 2025-02-18) ã«ã‚³ãƒŸãƒƒãƒˆãŒã‚ã‚‹ã‹ã©ã†ã‹
git log --since="2025-02-01" --until="2025-02-18" --pretty=format:"%cd %h %s (%an)" --date=short
```

ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’**ç›´æ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œ**ã—ã€ä½•ã‹è¡¨ç¤ºã•ã‚Œã‚‹ã‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ã‚‚ã—ã“ã“ã§ä½•ã‚‚å‡ºåŠ›ã•ã‚Œãªã„å ´åˆã€å˜ç´”ã«ãã®æ—¥ä»˜ç¯„å›²å†…ã«ã‚³ãƒŸãƒƒãƒˆãŒå­˜åœ¨ã—ãªã„å¯èƒ½æ€§ãŒé«˜ã„ã§ã™ã€‚  
(ä¾‹: ä»ŠãŒ2023å¹´ã§ã‚ã‚Šã€`2025-02-01` ã¯æœªæ¥ã®æ—¥ä»˜ãªã®ã§ã‚³ãƒŸãƒƒãƒˆãŒç„¡ã„ã€ãªã©)

---

## 2. ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å‹•ã‹ã—ã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒ Git ãƒªãƒã‚¸ãƒˆãƒªã§ã¯ãªã„

`git log` ãŒå‹•ãã®ã¯ã€Œ`.git` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã€ã‚‚ã—ãã¯ãã®é…ä¸‹ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€ã®ã¿ã§ã™ã€‚ã‚‚ã—åˆ¥ã®å ´æ‰€ã§ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹å ´åˆã€`git log` ã‚³ãƒãƒ³ãƒ‰ãŒæ­£ã—ãå‹•ã‹ãªã„ï¼å¯¾è±¡ãƒªãƒã‚¸ãƒˆãƒªãŒè¦‹ã¤ã‹ã‚‰ãªã„ã€ã¨ã„ã†ã“ã¨ãŒèµ·ã“ã‚Šå¾—ã¾ã™ã€‚  

- ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å‰ã«ã€å¿…ãšå¯¾è±¡ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ«ãƒ¼ãƒˆ (ã¾ãŸã¯ãã®é…ä¸‹) ã« `cd` ã—ã¦ã‹ã‚‰å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
- ã‚ã‚‹ã„ã¯ã€`execSync` ã§ `cwd` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ãŒã€ã¾ãšã¯åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§è©¦ã™ã®ãŒç°¡å˜ã§ã™ã€‚

---

## 3. ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã®æ­£è¦è¡¨ç¾ãƒãƒƒãƒã«å¼•ã£ã‹ã‹ã£ã¦ã„ãªã„

ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã¯ä»¥ä¸‹ã®æ­£è¦è¡¨ç¾ã§1è¡Œã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦ã„ã¾ã™ã€‚

```js
const match = line.match(/^(\d{4}-\d{2}-\d{2})\s+([0-9a-f]+)\s+(.*)\s\((.*)\)$/);
```

- `%cd` ãŒ `YYYY-MM-DD` å½¢å¼ã§ã¯ãªã„  
- `%h` ãŒ `[0-9a-f]` ã ã‘ã§ãªãã€å¤§æ–‡å­— `A-F` ãŒæ··ã–ã£ã¦ã„ã‚‹å ´åˆ(ã‚³ãƒŸãƒƒãƒˆIDã«ã¯å¤§æ–‡å­—ãŒå«ã¾ã‚Œã‚‹ã“ã¨ã¯ç¨€ã§ã™ãŒã€ç’°å¢ƒã«ã‚ˆã£ã¦ã¯ã‚ã‚Šå¾—ã‚‹)  
- ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚„ä½œè€…åã«äºˆæœŸã›ã¬æ–‡å­—åˆ—ãŒå…¥ã£ã¦ã„ã¦ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åˆã‚ãªã„  

ãªã©ã§ã€ã†ã¾ããƒãƒƒãƒã—ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

### ãƒ‡ãƒãƒƒã‚°æ–¹æ³•

1. **å®Ÿéš›ã« `rawLog` ãŒã©ã‚“ãªå†…å®¹ãªã®ã‹** ã‚’ç¢ºèªã™ã‚‹  
   ```js
   console.log('gitLogCmd =', gitLogCmd);
   console.log('rawLog =', JSON.stringify(rawLog, null, 2));
   ```
   ãªã©ã¨å‡ºåŠ›ã—ã¦ã¿ã¦ã€æœ¬å½“ã«ç©ºæ–‡å­—åˆ—ãªã®ã‹ã€ãã‚Œã¨ã‚‚ä½•ã‹ãƒ­ã‚°ãŒå…¥ã£ã¦ã„ã‚‹ã®ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚

2. **æ­£è¦è¡¨ç¾ã‚’å°‘ã—ç·©ã‚ã¦ã¿ã‚‹**  
   ä¾‹ãˆã°ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥éƒ¨åˆ†ã‚’ `[0-9a-fA-F]+` ã«ã—ã¦ã¿ã‚‹ã€‚  
   ```js
   const match = line.match(/^(\d{4}-\d{2}-\d{2})\s+([0-9a-fA-F]+)\s+(.*)\s\((.*)\)$/);
   ```
   ã‚ã‚‹ã„ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚„ä½œè€…åã®å‰å¾Œã«ä½™è¨ˆãªç©ºç™½ãŒãªã„ã‹ `console.log(line)` ã§1è¡Œã”ã¨ç¢ºã‹ã‚ã¦ã¿ã‚‹ã€ãªã©ã€‚

---

## 4. ã€Œ__dirname ãŒä½¿ãˆãªã„ã€ãªã©ã® ES ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç‰¹æœ‰ã®å•é¡Œ

ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å…ˆé ­ã‚’è¦‹ã‚‹ã¨

```js
#!/usr/bin/env node
import { execSync } from 'child_process';
import { writeFileSync } from 'fs';
import { resolve } from 'path';
```

ã®ã‚ˆã†ã«**ESãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å½¢å¼** (import/export) ã§æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚Node.js ã‚’ ESãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ¢ãƒ¼ãƒ‰ï¼ˆ`"type": "module"` ç­‰ï¼‰ã§å‹•ã‹ã™å ´åˆã€**`__dirname` ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ä½¿ãˆãªã„** ã¨ã„ã†ä»•æ§˜ãŒã‚ã‚Šã¾ã™ã€‚

ã‚‚ã—ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¦ã„ã¦

- `__dirname is not defined in ES module scope`  
- ã‚ã‚‹ã„ã¯ `ReferenceError: __dirname is not defined`  

ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ã‚Œã°ã€å®Ÿã¯æ›¸ãè¾¼ã¿ãŒã§ãã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ã§ã™ãŒã€è³ªå•æ–‡ã§ã¯

> # Git Commit Report (2025-02-01 to 2025-02-18)ã ã‘ã§ä½•ã‚‚å‡ºåŠ›ã•ã‚Œãªã‹ã£ãŸã€‚

ã¨ã‚ã‚Šã€ãƒ•ã‚¡ã‚¤ãƒ«ã¯ç”Ÿæˆã•ã‚ŒãŸ (ãƒ˜ãƒƒãƒ€ã ã‘ã¯ç¢ºèªã§ããŸ) ã‚ˆã†ãªã®ã§ã€**æ›¸ãè¾¼ã¿è‡ªä½“ã¯æˆåŠŸã—ã¦ã„ã‚‹** ã¨æ€ã‚ã‚Œã¾ã™ã€‚  
(ã¤ã¾ã‚Šä»Šå›ã®ç—‡çŠ¶ã¯ã€Œãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œãªã„ã€ã®ã§ã¯ãªãã€Œãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ãŒãƒ˜ãƒƒãƒ€ã ã‘ã§ã€å®Ÿéš›ã®ã‚³ãƒŸãƒƒãƒˆä¸€è¦§ãŒç„¡ã„ã€çŠ¶æ…‹)

ãŸã ã—å¿µã®ãŸã‚ã€**ESãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ `__dirname` ã‚’ä½¿ã†å ´åˆ**ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã‚‹å¿…è¦ãŒã‚ã‚‹ç‚¹ã¯çŸ¥ã£ã¦ãŠã„ã¦ãã ã•ã„ã€‚

```js
import { fileURLToPath } from 'url';
import path from 'path';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// ã“ã‚Œã§ __dirname ãŒä½¿ãˆã‚‹
writeFileSync(path.resolve(__dirname, OUTPUT_FILE), md, 'utf8');
```

ã‚ã‚‹ã„ã¯ `path.resolve(process.cwd(), OUTPUT_FILE)` ã®ã‚ˆã†ã«ã—ã¦ã€ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåŸºæº–ã§æ›¸ãå‡ºã™å½¢ã§ã‚‚æ§‹ã„ã¾ã›ã‚“ã€‚

---

## 5. å®Ÿè¡Œæ¨©é™ã‚„ Node.js ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å•é¡Œ

- `chmod +x git-report.js` ã‚’ã—å¿˜ã‚Œã¦ã„ã‚‹ã¨ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ã—ã¦å®Ÿè¡Œã§ããšã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ãŒã€ä»Šå›ã¯ã€Œãƒ•ã‚¡ã‚¤ãƒ«ã¯ç”Ÿæˆã•ã‚ŒãŸãŒä¸­èº«ãŒç©ºã£ã½ã€ã¨ã„ã†çŠ¶æ³ãªã®ã§è©²å½“ã—ãªã•ãã†ã§ã™ã€‚
- Node.js ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ã™ãã¦ import ãŒä½¿ãˆãªã„ãªã©ã®å ´åˆã‚‚è€ƒãˆã‚‰ã‚Œã¾ã™ãŒã€ä½•ã‚‰ã‹ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ã¯ãšãªã®ã§ã€ã“ã‚Œã‚‚ä»Šå›ã¯ã‚ã¾ã‚Šé–¢ä¿‚ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

---

## ã¾ã¨ã‚

æœ€ã‚‚ã‚ã‚ŠãŒã¡ãªåŸå› ã¯ã€Œ**æŒ‡å®šç¯„å›²å†…ã«ã‚³ãƒŸãƒƒãƒˆãŒå­˜åœ¨ã—ãªã„**ã€ã‹ã€Œ**å®Ÿéš›ã®ãƒ­ã‚°ãŒæ­£è¦è¡¨ç¾ã«ãƒãƒƒãƒã—ãªã„**ã€ã§ã™ã€‚  
ä»¥ä¸‹ã®æ‰‹é †ã§ãƒ‡ãƒãƒƒã‚°ã™ã‚‹ã¨çŠ¶æ³ãŒæŠŠæ¡ã—ã‚„ã™ã„ã§ã™ã€‚

1. **Gitã‚³ãƒãƒ³ãƒ‰å˜ä½“**ã§ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹  
   ```bash
   cd /path/to/your/repo
   git log --since="2025-02-01" --until="2025-02-18" --pretty=format:"%cd %h %s (%an)" --date=short
   ```
   ã“ã‚Œã§ä½•ã‚‚å‡ºãªã„å ´åˆã¯ã€ãã®æ—¥ä»˜ç¯„å›²ã«ã‚³ãƒŸãƒƒãƒˆãŒç„¡ã„ã ã‘ã§ã™ã€‚

2. **rawLog ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›**ã—ã¦ã¿ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä¸­ã§æœ¬å½“ã«ç©ºæ–‡å­—ãªã®ã‹ã‚’ç¢ºèªã™ã‚‹  
   ```js
   console.log('rawLog >>>\n', rawLog, '\n<<< rawLog end');
   ```
   - ç©ºã£ã½ã§ã‚ã‚Œã°ã€1. ã¨åŒã˜ã‚ˆã†ã«ã‚³ãƒŸãƒƒãƒˆãŒãªã„ã‹ã€ã¾ãŸã¯ãƒ­ã‚°å–å¾—ã®æ™‚ç‚¹ã§å¤±æ•—ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚  
   - ä½•ã‹æ–‡å­—åˆ—ãŒã‚ã‚‹ã®ã«æ­£è¦è¡¨ç¾ã«ãƒãƒƒãƒã—ãªã„å ´åˆã¯ã€æ­£è¦è¡¨ç¾ãŒæƒ³å®šã¨ã‚ºãƒ¬ã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

3. **æ­£è¦è¡¨ç¾ã‚’ç·©ã‚ã‚‹ or ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›**  
   ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åˆã‚ãªãã¦ `return; // äºˆæƒ³å¤–ã®å½¢å¼ã¯ã‚¹ã‚­ãƒƒãƒ—` ã—ã¦ã„ã‚‹ã¨ã€ä¸€åˆ‡è¡¨ç¤ºã•ã‚Œãªããªã‚Šã¾ã™ã€‚  
   ãŸã¨ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¦ã€ãªãœãƒãƒƒãƒã—ãªã‹ã£ãŸã®ã‹ã‚’å‡ºåŠ›ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ä¸€æ™‚çš„ã«å…¥ã‚Œã‚‹ã¨åŸå› ãŒã‚ã‹ã‚Šã¾ã™ã€‚  
   ```js
   lines.forEach(line => {
     const match = line.match(/^(\d{4}-\d{2}-\d{2})\s+([0-9a-fA-F]+)\s+(.*)\s\((.*)\)$/);
     if (!match) {
       console.warn('NO MATCH:', line);
       return;
     }
     // ...
   });
   ```

ã“ã‚Œã‚‰ã‚’è©¦ã™ã¨ã€ã»ã¼ç¢ºå®Ÿã«ã€Œç©ºã®ãƒ¬ãƒãƒ¼ãƒˆã€ã«ãªã£ã¦ã„ã‚‹åŸå› ãŒã‚ã‹ã‚‹ã¯ãšã§ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/2/18 22:44:27*

ä»Šã€ä»¥ä¸‹ã®æ§˜ã«å®Ÿè¡Œã—ã¦ã„ã‚‹ãŒã€å¼•æ•°ã®é †ç•ªãŒå¤‰ã‚ã£ã¦ã‚‚å¤§ä¸ˆå¤«ãªæ§˜ã«å¼•æ•°åã‚’è¨­å®šã—ã¦ã»ã—ã„ã€‚

```
./git-report.js 2025-02-17 2025-02-18 "suguruTakahashi-1234" --hide-hash --hide-author
```


#!/usr/bin/env node
/**
 * Node.js ã§ Git ã®ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’é›†è¨ˆã—ã€Markdown ã®æ—¥å ±ã‚’ä½œæˆã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
 * 
 * ä½¿ã„æ–¹:
 *   $  ./git-report.js [sinceDate] [untilDate] [author] [--hide-hash] [--hide-author]
 * 
 * ä¾‹:
 *   $  ./git-report.js 2025-02-17 2025-02-18 "suguruTakahashi-1234" --hide-hash
 *   $  ./git-report.js 2025-02-17 2025-02-18 "suguruTakahashi-1234" --hide-author
 *   $  ./git-report.js 2025-02-17 2025-02-18 "suguruTakahashi-1234" --hide-hash --hide-author
 * 
 * çœç•¥æ™‚:
 *   sinceDate: "yesterday"
 *   untilDate: "today"
 *   author   : (æœªæŒ‡å®š)
 */

const { execSync } = require('child_process');
const fs = require('fs');
const path = require('path');

// ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã‚’å‡¦ç†ã™ã‚‹
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ä¾‹:  ./git-report.js 2025-02-17 2025-02-18 "suguruTakahashi-1234" --hide-hash --hide-author
//     â†‘             â†‘             â†‘               â†‘            â†‘
//     0             1             2               ãƒ•ãƒ©ã‚°ãƒ•ãƒ©ã‚°
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const args = process.argv.slice(2);

let hideHash = false;
let hideAuthor = false;

// ãƒ•ãƒ©ã‚° (--hide-hash, --hide-author) ã¨ã€æ—¥ä»˜/author å¼•æ•°ã‚’åˆ†é›¢
const dateArgs = [];
for (const arg of args) {
  if (arg === '--hide-hash') {
    hideHash = true;
  } else if (arg === '--hide-author') {
    hideAuthor = true;
  } else {
    // ãƒ•ãƒ©ã‚°ä»¥å¤–ã®ã‚‚ã®ã¯æ—¥ä»˜ã‚„authorã¨ã¿ãªã™
    dateArgs.push(arg);
  }
}

// dateArgs[0] = SINCE_DATE, dateArgs[1] = UNTIL_DATE, dateArgs[2] = GIT_AUTHOR
const SINCE_DATE = dateArgs[0] || 'yesterday';
const UNTIL_DATE = dateArgs[1] || 'today';
const GIT_AUTHOR = dateArgs[2] || '';

// å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«å (é©å®œå¤‰æ›´ã—ã¦ãã ã•ã„)
const DATE_RANGE = `${SINCE_DATE}_to_${UNTIL_DATE}`;
const OUTPUT_FILE = `git_report_${DATE_RANGE}.md`;

// Gitãƒ­ã‚°å–å¾—ã‚³ãƒãƒ³ãƒ‰ã‚’çµ„ã¿ç«‹ã¦ã‚‹
// ä¾‹: git log --since="2025-02-17" --until="2025-02-18" --author="suguruTakahashi-1234" ...
let gitLogCmd = `git log --since="${SINCE_DATE}" --until="${UNTIL_DATE}" ` +
                `--pretty=format:"%cd %h %s (%an)" --date=short`;
if (GIT_AUTHOR) {
  gitLogCmd += ` --author="${GIT_AUTHOR}"`;
}

// ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ (ãƒ­ã‚°ã‚’å–å¾—)
let rawLog;
try {
  rawLog = execSync(gitLogCmd, { encoding: 'utf8' });
} catch (e) {
  console.error('Failed to run git command:', e.message);
  process.exit(1);
}

// ãƒ­ã‚°ã‚’è¡Œå˜ä½ã«åˆ†è§£
const lines = rawLog.split(/\r?\n/).filter(line => line.trim() !== '');

// æ—¥ä»˜ -> (ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸||ä½œè€…) -> [hash, hash, ...] ã¨ã„ã†å½¢å¼ã§æ ¼ç´ã™ã‚‹ãŸã‚ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
const data = {};

/**
 * ãƒ­ã‚°ã® 1 è¡Œã¯ä»¥ä¸‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’æƒ³å®š:
 *   YYYY-MM-DD <hash> <commit-message> (<author>)
 * ä¾‹:
 *   2025-02-17 abc123 fix bug (suguruTakahashi-1234)
 */
lines.forEach(line => {
  const match = line.match(/^(\d{4}-\d{2}-\d{2})\s+([0-9a-f]+)\s+(.*)\s\((.*)\)$/);
  if (!match) {
    return; // äºˆæƒ³å¤–ã®å½¢å¼ã¯ã‚¹ã‚­ãƒƒãƒ—
  }
  const date   = match[1]; // "2025-02-17"
  const hash   = match[2]; // "abc123"
  const msgRaw = match[3]; // "fix bug"
  const author = match[4]; // "suguruTakahashi-1234"

  const message = msgRaw.trim();

  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ + ä½œè€…ã§ã¾ã¨ã‚ãŸã„å ´åˆã¯ key = `${message}||${author}`;
  // ä½œè€…ã‚’ç„¡è¦–ã—ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã ã‘ã§ã¾ã¨ã‚ãŸã„ãªã‚‰ key = message;
  const key = `${message}||${author}`;

  // data[date] ãŒãªã‘ã‚Œã°ä½œæˆ
  if (!data[date]) {
    data[date] = {};
  }
  // data[date][key] ãŒãªã‘ã‚Œã°é…åˆ—åˆæœŸåŒ–
  if (!data[date][key]) {
    data[date][key] = [];
  }
  // ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’è¿½åŠ 
  data[date][key].push(hash);
});

// æ—¥ä»˜ã‚’æ–°ã—ã„é †(é™é †)ã«ã‚½ãƒ¼ãƒˆ
const sortedDates = Object.keys(data).sort().reverse();

// Markdown å‡ºåŠ›ã®çµ„ã¿ç«‹ã¦
let md = `# Git Commit Report (${SINCE_DATE} to ${UNTIL_DATE})\n\n`;

sortedDates.forEach(date => {
  md += `## ${date}\n\n`;

  const keys = Object.keys(data[date]);
  // é …ç›®ã”ã¨ã«ãƒ«ãƒ¼ãƒ—
  keys.forEach(key => {
    const commitHashes = data[date][key];
    const [msg, author] = key.split('||');

    // ãƒãƒƒã‚·ãƒ¥éƒ¨åˆ†ã®è¡¨ç¤ºã‚’ã©ã†ã™ã‚‹ã‹
    let lineText = '- ';

    if (!hideHash) {
      // ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§çµåˆ
      const joinedHashes = commitHashes.join(', ');
      lineText += `**${joinedHashes}** `;
    }

    // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
    lineText += msg;

    // è‘—è€…åã‚’è¡¨ç¤ºã—ãªã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒOFFãªã‚‰ (author) ã‚’è¿½åŠ 
    if (!hideAuthor) {
      lineText += ` (${author})`;
    }

    md += lineText + '\n';
  });

  md += '\n';
});

// ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãå‡ºã—
fs.writeFileSync(path.resolve(__dirname, OUTPUT_FILE), md, 'utf8');
console.log(`The commit report has been saved to ${OUTPUT_FILE}`);

---

## ğŸ”§ ãƒ„ãƒ¼ãƒ«
*2025/2/18 22:46:12*

**æ§‹ç¯‰ä¸­ã®è„šæœ¬**

ç‰¹å®šã®å¼•æ•°ã‚’è§£æã—ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã—ã¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ§‹ç¯‰ä¸­ã€‚å¼•æ•°ã®é †åºãŒæ°—ã«ãªã‚Šå§‹ã‚ã¦ã„ã‚‹ã€‚

**è¨­å®šã®è¿½åŠ ã‚’æ¤œè¨ã™ã‚‹**

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã„ã‚‹å¼•æ•°åã®è¿½åŠ ã‚’é€šã˜ã¦ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è¨­å®šã‚’å¼·åŒ–ã€‚å¼•æ•°ã®é †åºã«ä¾å­˜ã—ãªã„æ–¹æ³•ã‚’æ¨¡ç´¢ã—ã¦ã„ã‚‹ã€‚

**å¼•æ•°ã®åˆ†æ**

æ‰‹å‹•ã§å¼•æ•°ã‚’è§£æã—ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è¨­å®šã‚’è¡Œã£ã¦ã„ã‚‹ã€‚è¤‡æ•°æ®µéšã®å‡¦ç†ã‚’çµŒã¦ã€æœ€çµ‚çš„ã«ã‚³ãƒ¼ãƒ‰ãŒä½œæˆã•ã‚Œã‚‹ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/2/18 22:46:12*

ä»¥ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ã§ã¯ã€**å¼•æ•°ã®é †ç•ªã«ä¾å­˜ã—ãªã„ã‚ˆã†ã«**ã€`--since=...`ã€`--until=...`ã€`--author=...` ã¨ã„ã£ãŸ**åå‰ä»˜ããƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**ã¨ã—ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã‚’å—ã‘ä»˜ã‘ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚  
ã¾ãŸã€`--hide-hash` ã¨ `--hide-author` ã«ã¤ã„ã¦ã¯ãƒ•ãƒ©ã‚°ãªã®ã§ã“ã‚Œã¾ã§ã©ãŠã‚Šé †ç•ªã¯é–¢ä¿‚ãªãæŒ‡å®šã§ãã¾ã™ã€‚

## ä½¿ã„æ–¹

```bash
# ä¾‹: since=2025-02-17, until=2025-02-18, author="suguruTakahashi-1234", 
#     ãƒãƒƒã‚·ãƒ¥ï¼†è‘—è€…ã‚’éš ã™
./git-report.js \
  --since=2025-02-17 \
  --until=2025-02-18 \
  --author="suguruTakahashi-1234" \
  --hide-hash \
  --hide-author

# é †ç•ªãŒå¤‰ã‚ã£ã¦ã‚‚å•é¡Œãªã„
./git-report.js \
  --hide-hash \
  --since=2025-02-17 \
  --author="suguruTakahashi-1234" \
  --hide-author \
  --until=2025-02-18
```

- `--since` : å–å¾—é–‹å§‹æ—¥ (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `'yesterday'`)  
- `--until` : å–å¾—çµ‚äº†æ—¥ (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `'today'`)  
- `--author`: ã‚³ãƒŸãƒƒãƒˆä½œè€… (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ç©ºæ–‡å­—ã§æœªæŒ‡å®š)  
- `--hide-hash`: ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’è¡¨ç¤ºã—ãªã„ãƒ•ãƒ©ã‚°  
- `--hide-author`: ä½œè€…åã‚’è¡¨ç¤ºã—ãªã„ãƒ•ãƒ©ã‚°  

ã“ã‚Œã‚‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæœªæŒ‡å®šãªã‚‰ã€æŒ‡å®šã—ãŸãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒä½¿ã‚ã‚Œã¾ã™ã€‚

---

## ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰: `git-report.js`

```js
#!/usr/bin/env node
/**
 * Node.js ã§ Git ã®ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’é›†è¨ˆã—ã€Markdown ã®æ—¥å ±ã‚’ä½œæˆã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
 *
 * ä½¿ã„æ–¹(ä¾‹):
 *   ./git-report.js \
 *     --since=2025-02-17 \
 *     --until=2025-02-18 \
 *     --author="suguruTakahashi-1234" \
 *     --hide-hash \
 *     --hide-author
 *
 * ã‚ªãƒ—ã‚·ãƒ§ãƒ³:
 *   --since=<YYYY-MM-DD>   : å–å¾—é–‹å§‹æ—¥ (çœç•¥æ™‚: 'yesterday')
 *   --until=<YYYY-MM-DD>   : å–å¾—çµ‚äº†æ—¥ (çœç•¥æ™‚: 'today')
 *   --author=<username>    : å–å¾—ã—ãŸã„ã‚³ãƒŸãƒƒãƒˆã®ä½œè€… (çœç•¥æ™‚: æœªæŒ‡å®š)
 *   --hide-hash            : ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’è¡¨ç¤ºã—ãªã„
 *   --hide-author          : ä½œè€…åã‚’è¡¨ç¤ºã—ãªã„
 */

import { execSync } from 'child_process';
import { writeFileSync } from 'fs';
import { resolve } from 'path';

// ----------------------------------------
// 1) ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®åˆæœŸåŒ–
// ----------------------------------------
const params = {
  since: 'yesterday',
  until: 'today',
  author: '',
  hideHash: false,
  hideAuthor: false,
};

// ----------------------------------------
// 2) ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã®ãƒ‘ãƒ¼ã‚¹
//    named-parameter å½¢å¼ (--since=..., --until=...) ãŠã‚ˆã³ãƒ•ãƒ©ã‚° (--hide-hash, --hide-author)
// ----------------------------------------
for (const arg of process.argv.slice(2)) {
  if (arg.startsWith('--since=')) {
    // ä¾‹: "--since=2025-02-17" -> 2025-02-17
    params.since = arg.replace('--since=', '');
  } else if (arg.startsWith('--until=')) {
    params.until = arg.replace('--until=', '');
  } else if (arg.startsWith('--author=')) {
    params.author = arg.replace('--author=', '');
  } else if (arg === '--hide-hash') {
    params.hideHash = true;
  } else if (arg === '--hide-author') {
    params.hideAuthor = true;
  } else {
    console.warn(`Warning: Unrecognized argument "${arg}" will be ignored.`);
  }
}

// ----------------------------------------
// 3) æ—¥ä»˜ãƒ»ä½œè€…ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦ git log ã‚³ãƒãƒ³ãƒ‰ã‚’çµ„ã¿ç«‹ã¦ã‚‹
// ----------------------------------------
let gitLogCmd = `git log --since="${params.since}" --until="${params.until}" ` +
                `--pretty=format:"%cd %h %s (%an)" --date=short`;

if (params.author) {
  gitLogCmd += ` --author="${params.author}"`;
}

// ----------------------------------------
// 4) ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãƒ­ã‚°å–å¾—
// ----------------------------------------
let rawLog;
try {
  rawLog = execSync(gitLogCmd, { encoding: 'utf8' });
} catch (e) {
  console.error('Failed to run git command:', e.message);
  process.exit(1);
}

// ----------------------------------------
// 5) ãƒ­ã‚°ã‚’è¡Œå˜ä½ã«åˆ†è§£
// ----------------------------------------
const lines = rawLog.split(/\r?\n/).filter(line => line.trim() !== '');

// ----------------------------------------
// 6) æ—¥ä»˜ -> (ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸||ä½œè€…) -> [ãƒãƒƒã‚·ãƒ¥, ...] ã¨ã„ã†æ§‹é€ ã§ã¾ã¨ã‚ã‚‹
// ----------------------------------------
const data = {};

/**
 * ãƒ­ã‚°ã®1è¡Œã¯ä»¥ä¸‹ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’æƒ³å®š:
 *   YYYY-MM-DD <hash> <commit-message> (<author>)
 * ä¾‹:
 *   2025-02-17 abc123 fix bug (suguruTakahashi-1234)
 */
for (const line of lines) {
  // ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã¯å°æ–‡å­—ã ã‘ã¨ã¯é™ã‚‰ãªã„ã®ã§ [0-9a-fA-F]+ ã«ã—ã¦ãŠã
  const match = line.match(/^(\d{4}-\d{2}-\d{2})\s+([0-9a-fA-F]+)\s+(.*)\s\((.*)\)$/);
  if (!match) {
    // äºˆæƒ³å¤–ã®å½¢å¼ã®å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ— or ãƒ­ã‚°è¡¨ç¤ºãªã©ã®ãƒ‡ãƒãƒƒã‚°ã‚’å…¥ã‚Œã¦ã‚‚ã‚ˆã„
    // console.warn("NO MATCH:", line);
    continue;
  }
  const date   = match[1]; // "2025-02-17"
  const hash   = match[2]; // "abc123"
  const msgRaw = match[3]; // "fix bug"
  const author = match[4]; // "suguruTakahashi-1234"
  const message = msgRaw.trim();

  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ + ä½œè€… ã§ã¾ã¨ã‚ãŸã„å ´åˆ
  const key = `${message}||${author}`;

  // data[date] ãŒç„¡ã‘ã‚Œã°ä½œã‚‹
  if (!data[date]) {
    data[date] = {};
  }
  // data[date][key] ãŒç„¡ã‘ã‚Œã°é…åˆ—åˆæœŸåŒ–
  if (!data[date][key]) {
    data[date][key] = [];
  }
  data[date][key].push(hash);
}

// ----------------------------------------
// 7) æ—¥ä»˜ã‚’æ–°ã—ã„é †(é™é †)ã«ã‚½ãƒ¼ãƒˆã—ã¦ Markdown ã‚’ç”Ÿæˆ
// ----------------------------------------
const sortedDates = Object.keys(data).sort().reverse();
let md = `# Git Commit Report (${params.since} to ${params.until})\n\n`;

for (const date of sortedDates) {
  md += `## ${date}\n\n`;

  const keys = Object.keys(data[date]);
  for (const k of keys) {
    const commitHashes = data[date][k];
    const [msg, author] = k.split('||');

    let lineText = '- ';

    // --hide-hash ãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã‘ã‚Œã°ã€ãƒãƒƒã‚·ãƒ¥ä¸€è¦§ã‚’è¡¨ç¤º
    if (!params.hideHash) {
      const joinedHashes = commitHashes.join(', ');
      lineText += `**${joinedHashes}** `;
    }

    // ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    lineText += msg;

    // --hide-author ãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã‘ã‚Œã°ã€è‘—è€…ã‚’è¡¨ç¤º
    if (!params.hideAuthor) {
      lineText += ` (${author})`;
    }

    md += lineText + '\n';
  }

  md += '\n';
}

// ----------------------------------------
// 8) ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã¿
// ----------------------------------------
const DATE_RANGE = `${params.since}_to_${params.until}`;
const OUTPUT_FILE = `git_report_${DATE_RANGE}.md`;

writeFileSync(resolve(process.cwd(), OUTPUT_FILE), md, 'utf8');
console.log(`The commit report has been saved to ${OUTPUT_FILE}`);
```

---

### ãƒã‚¤ãƒ³ãƒˆè§£èª¬

1. **åå‰ä»˜ãã‚ªãƒ—ã‚·ãƒ§ãƒ³**  
   - `--since=YYYY-MM-DD` ã‚„ `--until=YYYY-MM-DD` ãªã©ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ‰±ã†ãŸã‚ã«ã€`arg.startsWith('--since=')` ã®ã‚ˆã†ã«ã—ã¦æ–‡å­—åˆ—ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦ã„ã¾ã™ã€‚  
   - ã“ã‚Œã«ã‚ˆã‚Šã€é †ç•ªã«ä¾å­˜ã›ãšã« `--since=... --until=... --author=... --hide-hash ...` ã‚’å¥½ããªé †åºã§æŒ‡å®šã§ãã¾ã™ã€‚

2. **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤**  
   - `params.since = 'yesterday';`  
   - `params.until = 'today';`  
   - `params.author = '';`  
   - `params.hideHash = false;`  
   - `params.hideAuthor = false;`  
   ã¨ãªã£ã¦ãŠã‚Šã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæŒ‡å®šã•ã‚Œãªã‹ã£ãŸå ´åˆã¯ã“ã‚Œã‚‰ã®å€¤ãŒä½¿ã‚ã‚Œã¾ã™ã€‚

3. **ãƒãƒƒã‚·ãƒ¥ã¨ä½œè€…ã®è¡¨ç¤ºï¼éè¡¨ç¤º**  
   - `--hide-hash` ãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ `params.hideHash = true;` ã«ãªã‚Šã€Markdown å‡ºåŠ›æ™‚ã«ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™ã€‚  
   - `--hide-author` ãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ `params.hideAuthor = true;` ã«ãªã‚Šã€ä½œè€…åè¡¨ç¤ºã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™ã€‚

4. **æ­£è¦è¡¨ç¾ã®å¾®èª¿æ•´**  
   - ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã¯å°æ–‡å­—ã ã‘ã¨ã¯é™ã‚‰ãªã„ãŸã‚ `([0-9a-fA-F]+)` ã¨ã—ã¾ã—ãŸã€‚  
   - ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚„ä½œè€…åã«ä½™è¨ˆãªç©ºç™½ãŒã‚ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹ã®ã§å¿…è¦ã«å¿œã˜ã¦ `.trim()` ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚

5. **å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«å**  
   - `git_report_YYYY-MM-DD_to_YYYY-MM-DD.md` ã®å½¢å¼ã§ä½œæˆã—ã€ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª (`process.cwd()`) ã«ä¿å­˜ã—ã¦ã„ã¾ã™ã€‚  
   - å¿…è¦ãªã‚‰ `__dirname` ã«å¤‰ãˆã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜å ´æ‰€ã«ä¿å­˜ã™ã‚‹ãªã©èª¿æ•´ã—ã¦ãã ã•ã„ã€‚

---

ã“ã‚Œã§ã€**å¼•æ•°é †åºã‚’æ°—ã«ã›ãš**ã€  
```bash
./git-report.js \
  --since=2025-02-17 \
  --until=2025-02-18 \
  --author="suguruTakahashi-1234" \
  --hide-hash \
  --hide-author
```
ã®ã‚ˆã†ã«ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/2/18 22:48:39*

ä»¥ä¸‹ã®æ§˜ã«ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸã€‚ã¡ãªã¿ã«ä»Šã¾ã§ã¯ã†ã¾ãã§ãã¦ã„ãŸ

$ ./git-report.js --since=2025-02-01 --until=2025-02-18 --author="suguruTakahashi-1234" --hide-hash --hide-author
The commit report has been saved to git_report_2025-02-01_to_2025-02-18.md
(node:96437) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///Users/sugurutakahashi/git/gallusys/snpit_guild_app/git-report.js is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
To eliminate this warning, add "type": "module" to /Users/sugurutakahashi/git/gallusys/snpit_guild_app/package.json.
(Use `node --trace-warnings ...` to show where the warning was created)
~/git/gallusys/snpit_guild_app  â€¹feature/263*â€º $ ./git-report.js                                                                                                
The commit report has been saved to git_report_yesterday_to_today.md
(node:96591) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///Users/sugurutakahashi/git/gallusys/snpit_guild_app/git-report.js is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
To eliminate this warning, add "type": "module" to /Users/sugurutakahashi/git/gallusys/snpit_guild_app/package.json.
(Use `node --trace-warnings ...` to show where the warning was created)
#!/usr/bin/env node
/**
 * Node.js ã§ Git ã®ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’é›†è¨ˆã—ã€Markdown ã®æ—¥å ±ã‚’ä½œæˆã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
 *
 * ä½¿ã„æ–¹(ä¾‹):
 *   ./git-report.js \
 *     --since=2025-02-17 \
 *     --until=2025-02-18 \
 *     --author="suguruTakahashi-1234" \
 *     --hide-hash \
 *     --hide-author
 *
 * ã‚ªãƒ—ã‚·ãƒ§ãƒ³:
 *   --since=&lt;YYYY-MM-DD&gt;   : å–å¾—é–‹å§‹æ—¥ (çœç•¥æ™‚: 'yesterday')
 *   --until=&lt;YYYY-MM-DD&gt;   : å–å¾—çµ‚äº†æ—¥ (çœç•¥æ™‚: 'today')
 *   --author=&lt;username&gt;    : å–å¾—ã—ãŸã„ã‚³ãƒŸãƒƒãƒˆã®ä½œè€… (çœç•¥æ™‚: æœªæŒ‡å®š)
 *   --hide-hash            : ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã‚’è¡¨ç¤ºã—ãªã„
 *   --hide-author          : ä½œè€…åã‚’è¡¨ç¤ºã—ãªã„
 */

import { execSync } from 'child_process';
import { writeFileSync } from 'fs';
import { resolve } from 'path';

// ----------------------------------------
// 1) ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®åˆæœŸåŒ–
// ----------------------------------------
const params = {
  since: 'yesterday',
  until: 'today',
  author: '',
  hideHash: false,
  hideAuthor: false,
};

// ----------------------------------------
// 2) ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã®ãƒ‘ãƒ¼ã‚¹
//    named-parameter å½¢å¼ (--since=..., --until=...) ãŠã‚ˆã³ãƒ•ãƒ©ã‚° (--hide-hash, --hide-author)
// ----------------------------------------
for (const arg of process.argv.slice(2)) {
  if (arg.startsWith('--since=')) {
    // ä¾‹: "--since=2025-02-17" -&gt; 2025-02-17
    params.since = arg.replace('--since=', '');
  } else if (arg.startsWith('--until=')) {
    params.until = arg.replace('--until=', '');
  } else if (arg.startsWith('--author=')) {
    params.author = arg.replace('--author=', '');
  } else if (arg === '--hide-hash') {
    params.hideHash = true;
  } else if (arg === '--hide-author') {
    params.hideAuthor = true;
  } else {
    console.warn(`Warning: Unrecognized argument "${arg}" will be ignored.`);
  }
}

// ----------------------------------------
// 3) æ—¥ä»˜ãƒ»ä½œè€…ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦ git log ã‚³ãƒãƒ³ãƒ‰ã‚’çµ„ã¿ç«‹ã¦ã‚‹
// ----------------------------------------
let gitLogCmd = `git log --since="${params.since}" --until="${params.until}" ` +
                `--pretty=format:"%cd %h %s (%an)" --date=short`;

if (params.author) {
  gitLogCmd += ` --author="${params.author}"`;
}

// ----------------------------------------
// 4) ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãƒ­ã‚°å–å¾—
// ----------------------------------------
let rawLog;
try {
  rawLog = execSync(gitLogCmd, { encoding: 'utf8' });
} catch (e) {
  console.error('Failed to run git command:', e.message);
  process.exit(1);
}

// ----------------------------------------
// 5) ãƒ­ã‚°ã‚’è¡Œå˜ä½ã«åˆ†è§£
// ----------------------------------------
const lines = rawLog.split(/\r?\n/).filter(line =&gt; line.trim() !== '');

// ----------------------------------------
// 6) æ—¥ä»˜ -&gt; (ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸||ä½œè€…) -&gt; [ãƒãƒƒã‚·ãƒ¥, ...] ã¨ã„ã†æ§‹é€ ã§ã¾ã¨ã‚ã‚‹
// ----------------------------------------
const data = {};

/**
 * ãƒ­ã‚°ã®1è¡Œã¯ä»¥ä¸‹ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’æƒ³å®š:
 *   YYYY-MM-DD &lt;hash&gt; &lt;commit-message&gt; (&lt;author&gt;)
 * ä¾‹:
 *   2025-02-17 abc123 fix bug (suguruTakahashi-1234)
 */
for (const line of lines) {
  // ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ã¯å°æ–‡å­—ã ã‘ã¨ã¯é™ã‚‰ãªã„ã®ã§ [0-9a-fA-F]+ ã«ã—ã¦ãŠã
  const match = line.match(/^(\d{4}-\d{2}-\d{2})\s+([0-9a-fA-F]+)\s+(.*)\s\((.*)\)$/);
  if (!match) {
    // äºˆæƒ³å¤–ã®å½¢å¼ã®å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ— or ãƒ­ã‚°è¡¨ç¤ºãªã©ã®ãƒ‡ãƒãƒƒã‚°ã‚’å…¥ã‚Œã¦ã‚‚ã‚ˆã„
    // console.warn("NO MATCH:", line);
    continue;
  }
  const date   = match[1]; // "2025-02-17"
  const hash   = match[2]; // "abc123"
  const msgRaw = match[3]; // "fix bug"
  const author = match[4]; // "suguruTakahashi-1234"
  const message = msgRaw.trim();

  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ + ä½œè€… ã§ã¾ã¨ã‚ãŸã„å ´åˆ
  const key = `${message}||${author}`;

  // data[date] ãŒç„¡ã‘ã‚Œã°ä½œã‚‹
  if (!data[date]) {
    data[date] = {};
  }
  // data[date][key] ãŒç„¡ã‘ã‚Œã°é…åˆ—åˆæœŸåŒ–
  if (!data[date][key]) {
    data[date][key] = [];
  }
  data[date][key].push(hash);
}

// ----------------------------------------
// 7) æ—¥ä»˜ã‚’æ–°ã—ã„é †(é™é †)ã«ã‚½ãƒ¼ãƒˆã—ã¦ Markdown ã‚’ç”Ÿæˆ
// ----------------------------------------
const sortedDates = Object.keys(data).sort().reverse();
let md = `# Git Commit Report (${params.since} to ${params.until})\n\n`;

for (const date of sortedDates) {
  md += `## ${date}\n\n`;

  const keys = Object.keys(data[date]);
  for (const k of keys) {
    const commitHashes = data[date][k];
    const [msg, author] = k.split('||');

    let lineText = '- ';

    // --hide-hash ãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã‘ã‚Œã°ã€ãƒãƒƒã‚·ãƒ¥ä¸€è¦§ã‚’è¡¨ç¤º
    if (!params.hideHash) {
      const joinedHashes = commitHashes.join(', ');
      lineText += `**${joinedHashes}** `;
    }

    // ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    lineText += msg;

    // --hide-author ãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã‘ã‚Œã°ã€è‘—è€…ã‚’è¡¨ç¤º
    if (!params.hideAuthor) {
      lineText += ` (${author})`;
    }

    md += lineText + '\n';
  }

  md += '\n';
}

// ----------------------------------------
// 8) ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã¿
// ----------------------------------------
const DATE_RANGE = `${params.since}_to_${params.until}`;
const OUTPUT_FILE = `git_report_${DATE_RANGE}.md`;

writeFileSync(resolve(process.cwd(), OUTPUT_FILE), md, 'utf8');
console.log(`The commit report has been saved to ${OUTPUT_FILE}`);

---

## ğŸ”§ ãƒ„ãƒ¼ãƒ«
*2025/2/18 22:49:26*

**ç¢ºèªã—ã¦ã„ã‚‹ç‚¹**

ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒESãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦èªè­˜ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã®ã€`package.json`ã«"ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«"ã®å‹ãŒæ˜ç¤ºã•ã‚Œã¦ã„ãªã„ã€‚ã“ã‚ŒãŒãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®å½±éŸ¿ã‚’ä¸ãˆã¦ã„ã‚‹ã€‚

**åŸå› ã‚’æ¢ã£ã¦ã„ã‚‹**

ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯æ­£å¸¸ã«å‹•ä½œã—ã¦ãŠã‚Šã€è­¦å‘Šã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¿ã‚¤ãƒ—ã«é–¢é€£ã—ã¦ã„ã‚‹ã€‚`package.json`ã«"ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«"ã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•ã‚„CommonJSãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¸ã®æ›¸ãæ›ãˆã‚’æ¤œè¨ä¸­ã€‚

**è­¦å‘Šã®ç†è§£**

"ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—"ã®è­¦å‘Šã‚’è§£æ¶ˆã™ã‚‹ãŸã‚ã®æ–¹æ³•ã‚’ç†è§£ã—ã¦ã„ã‚‹ã€‚ì´ ë°©ë²•ì€ ìŠ¤í¬ë¦½íŠ¸ê°€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ê³  ìˆì§€ë§Œ ê²½ê³ ê°€ ë‚˜íƒ€ë‚˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë° ìœ ìš©í•˜ë‹¤.

**ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®è§£æã‚’è¦‹ç›´ã™**

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«"ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«"ãŒãªã„å ´åˆã€CommonJSã¨ã—ã¦è§£æã•ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚`package.json`ã«"ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«"ã‚’è¿½åŠ ã—ã¦è­¦å‘Šã‚’è§£æ¶ˆã™ã‚‹æ–¹æ³•ã‚’è©¦ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/2/18 22:49:26*

ã¾ãšçµè«–ã¨ã—ã¦ã€ãƒ­ã‚°ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã®ã¯ **ã€Œã‚¨ãƒ©ãƒ¼ã€ã§ã¯ãªã Node.js ã‹ã‚‰ã®è­¦å‘Š(Warning)** ã§ã‚ã‚Šã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆè‡ªä½“ã¯æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹ã¨è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚  
```
(node:XXXXX) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///.../git-report.js is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
...
To eliminate this warning, add "type": "module" to ...
```
ã¨å‡ºã¦ã„ã‚‹ã‚ˆã†ã«ã€**CommonJS ã¨ ES Module ãŒæ··åœ¨ã—ã¦ã„ã‚‹**çŠ¶æ³ã§ Node.js ãŒè‡ªå‹•çš„ã«å†ãƒ‘ãƒ¼ã‚¹ã—ã¦ã„ã‚‹ãŸã‚ã®è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã ã‘ã§ã™ã€‚  
å®Ÿéš›ã«
```
The commit report has been saved to git_report_2025-02-01_to_2025-02-18.md
```
ã¨å‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ã€ãƒ•ã‚¡ã‚¤ãƒ«ã¯ç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã®ã§**å‡¦ç†ã¯æˆåŠŸ**ã—ã¦ã„ã¾ã™ã€‚

---

# ãªãœã“ã®è­¦å‘ŠãŒå‡ºã‚‹ã®ã‹ï¼Ÿ

- `import/export` æ§‹æ–‡ã‚’ä½¿ã£ã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€Node.js ã§ã¯åŸºæœ¬çš„ã«ã€ŒES Moduleã€ã¨ã—ã¦æ‰±ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚  
- ã—ã‹ã—ã€æ‹¡å¼µå­ãŒ `.js` ã‹ã¤ `package.json` ã« `"type": "module"` ãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€Node.js ã¯ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ŒCommonJS å½¢å¼ã‹ã‚‚ã—ã‚Œãªã„ã€ã¨ã¿ãªã—ã¦ãƒ‘ãƒ¼ã‚¹ã‚’è©¦ã¿ã¾ã™ã€‚  
- å®Ÿéš›ã¯ ES Module ã®æ§‹æ–‡ï¼ˆ`import ... from '...'`ï¼‰ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ãŸã‚å†åº¦ ES Module ã¨ã—ã¦å†ãƒ‘ãƒ¼ã‚¹ã•ã‚Œã€**ã€Œãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ CJS ãªã®ã« ESM ã£ã½ã„ã‹ã‚‰å†ãƒ‘ãƒ¼ã‚¹ã—ãŸã‚ˆã€ã¨ã„ã†è­¦å‘Š**ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

---

# è­¦å‘Šã‚’æ¶ˆã™ã«ã¯ï¼Ÿ

ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã®æ–¹æ³•ã§ã€Node.js ã«ã€Œã“ã‚Œã¯ ES Module ã§ã™ã‚ˆã€ã¨æ˜ç¤ºã™ã‚Œã°è­¦å‘Šã¯æ¶ˆãˆã¾ã™ã€‚

1. **`package.json` ã« `"type": "module"` ã‚’è¿½åŠ ã™ã‚‹**  

   ã‚‚ã—ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã‚’ ES Module ã¨ã—ã¦æ‰±ã£ã¦å•é¡Œãªã„ã®ã§ã‚ã‚Œã°ã€ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã® `package.json` ã«ä»¥ä¸‹ã®ã‚ˆã†ã«è¿½è¨˜ã—ã¦ãã ã•ã„:
   ```jsonc
   {
     // æ—¢å­˜ã®ä»–ã®é …ç›®ã¯ãã®ã¾ã¾
     "type": "module"
   }
   ```
   ã“ã‚Œã§ `.js` ãƒ•ã‚¡ã‚¤ãƒ«ã¯ ES Module ã¨ã—ã¦è§£é‡ˆã•ã‚Œã¾ã™ã€‚  
   ãªãŠ `"type": "module"` ã‚’è¿½åŠ ã™ã‚‹ã¨ã€**ã»ã‹ã« CommonJS ã¨ã—ã¦æ›¸ã‹ã‚Œã¦ã„ã‚‹ `.js` ãƒ•ã‚¡ã‚¤ãƒ«**ãŒã‚ã‚‹å ´åˆã¯ãã¡ã‚‰ãŒå‹•ã‹ãªããªã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã®ã§æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚

2. **ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­ã‚’ `.mjs` ã«ã™ã‚‹**  

   ä¾‹ãˆã° `git-report.mjs` ã¨ãƒªãƒãƒ¼ãƒ ã—ã€å®Ÿè¡Œæ™‚ã«
   ```bash
   ./git-report.mjs ...
   ```
   ã¨ã™ã‚‹ã¨ã€**`.mjs` ãƒ•ã‚¡ã‚¤ãƒ«ã¯ ES Module ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹**ãŸã‚ã€è­¦å‘Šã¯å‡ºãªããªã‚Šã¾ã™ã€‚

3. **`import/export` ã‚’ã‚„ã‚ã¦ CommonJS (`require`) ã«ã™ã‚‹**  

   ã‚‚ã— import ã‚’ä½¿ã†ç†ç”±ãŒç‰¹ã«ãªã„å ´åˆã¯ã€ã™ã¹ã¦
   ```js
   const { execSync } = require('child_process');
   const { writeFileSync } = require('fs');
   const { resolve } = require('path');
   ```
   ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã€**CommonJS** å½¢å¼ã«ã™ã‚Œã° `"type": "module"` ã‚’æŒ‡å®šã—ãªãã¦ã‚‚è­¦å‘Šã¯å‡ºã¾ã›ã‚“ã€‚  

   ãŸã ã—ã€ES Module ã®æ–°ã—ã„æ›¸ãæ–¹ã‚’åˆ©ç”¨ã—ãŸã„å ´åˆã¯ 1 ã‹ 2 ã®æ–¹æ³•ãŒæœ›ã¾ã—ã„ã§ã™ã€‚

---

# ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯æ­£å¸¸ã«å‹•ã„ã¦ã„ã‚‹

- è¡¨ç¤ºã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ã‚¨ãƒ©ãƒ¼ã§ã¯ãªã **Warning** ã§ã™ã€‚ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒåœæ­¢ã™ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚  
- `The commit report has been saved to git_report_2025-02-01_to_2025-02-18.md` ã¨å‡ºã¦ã„ã‚‹ã®ã§ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚å‡ºåŠ›ã•ã‚Œã¦ãŠã‚Šæ©Ÿèƒ½ä¸Šå•é¡Œã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

ã‚‚ã—**è­¦å‘Šã‚’ãªãã—ãŸã„**ã®ã§ã‚ã‚Œã°ã€å‰è¿°ã®æ‰‹æ®µï¼ˆç‰¹ã«ä¸€ç•ªç°¡å˜ãªã®ã¯ `package.json` ã« `"type": "module"` ã‚’æ›¸ã or æ‹¡å¼µå­ã‚’ `.mjs` ã«ã™ã‚‹ï¼‰ã‚’è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚  

---

## ã¾ã¨ã‚

- ç¾çŠ¶ã¯ã€Œè­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã‚‹ã‘ã‚Œã©å‹•ä½œã¯ã—ã¦ã„ã‚‹ã€çŠ¶æ…‹ã€‚  
- **è­¦å‘Šã‚’æ¶ˆã™ã«ã¯** ES Module ã¨ã—ã¦æ­£ã—ãæ‰±ã‚ã‚Œã‚‹ã‚ˆã†ã€  
  - `package.json` ã« `"type": "module"` ã‚’è¨­å®šã™ã‚‹  
  - ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ `.mjs` ã«ãƒªãƒãƒ¼ãƒ ã™ã‚‹  
  - ã‚ã‚‹ã„ã¯ CommonJS å½¢å¼ã«æ›¸ãæ›ãˆã‚‹ (`require`/`module.exports`)  
  ã®ã„ãšã‚Œã‹ã‚’è¡Œã†ã¨ã‚ˆã„ã§ã™ã€‚

---
