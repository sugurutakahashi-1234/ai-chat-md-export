# SwiftUI ãƒ–ãƒ©ãƒ¼åŠ¹æœ

æ—¥ä»˜: 2024-07-08

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/07/08 17:34:20*

SwiftUIã§ç”»åƒã®ä¸Šã§åŠé€æ˜ã§ãƒ–ãƒ©ãƒ¼ã‚’ã‹ã‹ã£ã¦ã‚ˆã†ãªè¡¨ç¾

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/07/08 17:34:30*

SwiftUIã§ç”»åƒã®ä¸Šã«åŠé€æ˜ã§ãƒ–ãƒ©ãƒ¼åŠ¹æœã‚’ã‹ã‘ã‚‹ã«ã¯ã€`VisualEffectBlur` ã‚’ä½¿ç”¨ã—ã¦å®Ÿç¾ã§ãã¾ã™ã€‚`VisualEffectBlur` ã¯ã€`UIVisualEffectView` ã‚’ SwiftUI ã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ç”¨ã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒ“ãƒ¥ãƒ¼ã§ã™ã€‚ä»¥ä¸‹ã«ãã®ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

ã¾ãšã€`VisualEffectBlur` ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ“ãƒ¥ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚

```swift
import SwiftUI

struct VisualEffectBlur<Content: View>: UIViewRepresentable {
    var blurStyle: UIBlurEffect.Style
    var vibrancyStyle: UIVibrancyEffectStyle?
    var content: () -> Content

    init(blurStyle: UIBlurEffect.Style, vibrancyStyle: UIVibrancyEffectStyle? = nil, @ViewBuilder content: @escaping () -> Content) {
        self.blurStyle = blurStyle
        self.vibrancyStyle = vibrancyStyle
        self.content = content
    }

    func makeUIView(context: Context) -> UIVisualEffectView {
        let view = UIVisualEffectView(effect: UIBlurEffect(style: blurStyle))
        if let vibrancyStyle = vibrancyStyle {
            let vibrancyEffect = UIVibrancyEffect(blurEffect: UIBlurEffect(style: blurStyle), style: vibrancyStyle)
            let vibrancyView = UIVisualEffectView(effect: vibrancyEffect)
            vibrancyView.contentView.addSubview(HostingController(rootView: content()).view)
            vibrancyView.contentView.translatesAutoresizingMaskIntoConstraints = false
            NSLayoutConstraint.activate([
                vibrancyView.contentView.leadingAnchor.constraint(equalTo: vibrancyView.leadingAnchor),
                vibrancyView.contentView.trailingAnchor.constraint(equalTo: vibrancyView.trailingAnchor),
                vibrancyView.contentView.topAnchor.constraint(equalTo: vibrancyView.topAnchor),
                vibrancyView.contentView.bottomAnchor.constraint(equalTo: vibrancyView.bottomAnchor)
            ])
            view.contentView.addSubview(vibrancyView)
            vibrancyView.translatesAutoresizingMaskIntoConstraints = false
            NSLayoutConstraint.activate([
                vibrancyView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
                vibrancyView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
                vibrancyView.topAnchor.constraint(equalTo: view.topAnchor),
                vibrancyView.bottomAnchor.constraint(equalTo: view.bottomAnchor)
            ])
        } else {
            view.contentView.addSubview(HostingController(rootView: content()).view)
            view.contentView.translatesAutoresizingMaskIntoConstraints = false
            NSLayoutConstraint.activate([
                view.contentView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
                view.contentView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
                view.contentView.topAnchor.constraint(equalTo: view.topAnchor),
                view.contentView.bottomAnchor.constraint(equalTo: view.bottomAnchor)
            ])
        }
        return view
    }

    func updateUIView(_ uiView: UIVisualEffectView, context: Context) {
        uiView.effect = UIBlurEffect(style: blurStyle)
    }
}

class HostingController<Content: View>: UIHostingController<Content> {
    override func viewDidLoad() {
        super.viewDidLoad()
        view.backgroundColor = .clear
    }
}
```

æ¬¡ã«ã€ã“ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ“ãƒ¥ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ã€ç”»åƒã®ä¸Šã«ãƒ–ãƒ©ãƒ¼åŠ¹æœã‚’è¿½åŠ ã—ã¾ã™ã€‚

```swift
import SwiftUI

struct ContentView: View {
    var body: some View {
        ZStack {
            Image("your_image_name")
                .resizable()
                .aspectRatio(contentMode: .fill)
                .edgesIgnoringSafeArea(.all)
            
            VisualEffectBlur(blurStyle: .systemMaterialDark) {
                VStack {
                    Text("Your Text")
                        .font(.largeTitle)
                        .foregroundColor(.white)
                    Text("Additional content can go here")
                        .font(.body)
                        .foregroundColor(.white)
                }
                .padding()
            }
            .frame(width: 300, height: 200)
            .cornerRadius(10)
        }
    }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        ContentView()
    }
}
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€`VisualEffectBlur` ã‚«ã‚¹ã‚¿ãƒ ãƒ“ãƒ¥ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ç”»åƒã®ä¸Šã«åŠé€æ˜ã®ãƒ–ãƒ©ãƒ¼åŠ¹æœã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚`blurStyle` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ãƒ–ãƒ©ãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡å®šã§ãã€`content` ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã§ãƒ–ãƒ©ãƒ¼åŠ¹æœã®ä¸Šã«è¡¨ç¤ºã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æŒ‡å®šã§ãã¾ã™ã€‚

---
