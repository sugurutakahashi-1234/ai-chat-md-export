# ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§è¡Œã†

æ—¥ä»˜: 2023-05-29

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2023/05/30 04:41:03*

class ã« @MainActor ã‚’ã¤ã‘ã¦repositoryã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã¨ã¯åˆ¥ã§è¡Œã£ã¦æ¬²ã—ã„

```swift
final class UserAttributesListPresenter: ObservableObject {
    @MainActor @Published private(set) var inputtedUserAttributes = InputtedUserAttributes()
    @MainActor @Published var isShowingEdit: Bool = false
    // TODO: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
    @MainActor @Published var isShowingAlert: Bool = false

    private let repository: UserAttributesRepositoryProtocol

    // Mockã‹ã‚‰å·®ã—æ›¿ãˆã‚‹
    init(repository: UserAttributesRepositoryProtocol = UserAttributesRepositoryProtocolMock()) {
        self.repository = repository
    }

    func onAppear() async {
        do {
            let fetchedInputtedUserAttributes = try await repository.fetchInputtedUserAttributes()

            Task { @MainActor in
                inputtedUserAttributes = fetchedInputtedUserAttributes
            }

        } catch {
            await MainActor.run {
                isShowingAlert = true
            }
        }
    }

    func editButtonTapped() async {
        await MainActor.run {
            isShowingEdit = true
        }
    }
}

```

---
