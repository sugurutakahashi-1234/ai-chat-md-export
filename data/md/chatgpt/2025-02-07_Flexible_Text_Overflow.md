# Flexible Text Overflow

Êó•‰ªò: 2025-02-07

---

## üë§ „É¶„Éº„Ç∂„Éº
*2025/02/07 13:10:37*

‰ª•‰∏ã„ÅÆÈÉ®ÂàÜ„Åßnft.name„ÅÆÈÉ®ÂàÜ„Åå‰ªä„Å†„Å®ÂçäÂàÜ„ÅÆË°®Á§∫„Å´„Å™„Å£„Å¶„Åó„Åæ„ÅÜ„Åå„ÄÅ„Åì„Çå„Çíconst SizedBox(width: 4),„Å®  nft.number,„ÅåÂèé„Åæ„ÇãÂΩ¢„ÅßÊúÄÂ§ßÈôêÂ∫É„Åå„Å£„Å¶Ê≤ª„Çâ„Å™„ÅÑÈÉ®ÂàÜ„ÅØnft.name„ÇíÁúÅÁï•„Åó„Åü„ÅÑ

Row(
                                            children: [
                                              Flexible(
                                                child: Text(
                                                  nft.name,
                                                  maxLines: 1,
                                                  overflow:
                                                      TextOverflow.ellipsis,
                                                  style: const TextStyle(
                                                    fontSize: 14,
                                                    fontWeight: FontWeight.bold,
                                                  ),
                                                ),
                                              ),
                                              const SizedBox(width: 4),
                                              Flexible(
                                                child: Text(
                                                  nft.number,
                                                  maxLines: 1,
                                                  overflow:
                                                      TextOverflow.ellipsis,
                                                  style: const TextStyle(
                                                    fontSize: 12,
                                                    fontWeight: FontWeight.bold,
                                                    color: ColorPallet.gray300,
                                                  ),
                                                ),
                                              ),
                                            ],
                                          ),


import 'package:auto_size_text/auto_size_text.dart';
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter_hooks/flutter_hooks.dart';
import 'package:hooks_riverpod/hooks_riverpod.dart';
import 'package:snpit_guild_app/domain/design/color_pallet.dart';
import 'package:snpit_guild_app/domain/design/color_token.dart';
import 'package:snpit_guild_app/domain/nft.dart';
import 'package:snpit_guild_app/domain/nft_type.dart';
import 'package:snpit_guild_app/gen/assets.gen.dart';
import 'package:snpit_guild_app/infrastructure/snapit_guild_api/snapit_guild_api.openapi.dart';
import 'package:snpit_guild_app/presentation/providers/api_client/users/nfts/get_nfts.dart';
import 'package:snpit_guild_app/presentation/providers/api_client/wallet/get_wallet.dart';
import 'package:snpit_guild_app/presentation/widgets/square_image.dart';
import 'package:snpit_guild_app/utils/snack_bar_utils.dart';

final combinedDataProvider = FutureProvider.autoDispose&lt;
    (
      WalletBalanceResponseDTOData?,
      GetUserNftsResponseDTOData?,
    )&gt;((ref) async {
  final wallet = await ref.watch(getWalletNotifierProvider.future);
  final nfts = await ref.watch(getNftsNotifierProvider.future);

  return (wallet, nfts);
});

class WalletPage extends HookConsumerWidget {
  const WalletPage({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    Future&lt;void&gt; onTapNft(Nft nft) async {
      // TODO: [„Éï„Çß„Éº„Ç∫2] NFT Ë©≥Á¥∞ÁîªÈù¢„Å∏„ÅÆÈÅ∑Áßª
    }

    Future&lt;void&gt; onTapWalletAddress(String walletAddress) async {
      await Clipboard.setData(ClipboardData(text: walletAddress));

      if (context.mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(content: Text('$walletAddress copied to clipboard')),
        );
      }
    }

    final combinedData = ref.watch(combinedDataProvider);

    useEffect(
      () {
        Future.microtask(() async {
          try {
            await ref.read(getNftsNotifierProvider.notifier).getNfts();
            await ref.read(getWalletNotifierProvider.notifier).getWallet();
          } on Exception catch (error) {
            if (context.mounted) {
              showErrorSnackBar(context, error);
            }
          }
        });
        return null;
      },
      [],
    );

    return Scaffold(
      appBar: AppBar(title: const Text('Wallet')),
      body: combinedData.when(
        data: (data) {
          final walletDate = data.$1;
          final nftsData = data.$2;
          if (nftsData == null || walletDate == null) {
            return const SizedBox.shrink();
          }

          final stpValue = walletDate.stpAmount ?? 0;
          final tmpWalletAddress = walletDate.walletAddress ?? '';
          final walletAddress =
              (tmpWalletAddress.isNotEmpty) ? tmpWalletAddress : 'No Address';

          final explorers = nftsData.explorers ?? [];
          final flags = nftsData.flags ?? [];

          final explorerNfts = explorers.map((explorer) {
            final nameParts = explorer.explorerName?.split(' #') ?? ['', ''];
            final name = nameParts[0];
            final number = nameParts.length &gt; 1 ? '#${nameParts[1]}' : '';

            return Nft(
              nftId: explorer.explorerId ?? '',
              tokenId: explorer.tokenId ?? '',
              name: name,
              number: number,
              imageUrl: explorer.explorerImage ?? '',
              nftType: NftType.explorer,
              explorer: explorer,
            );
          }).toList();

          final flagNfts = flags.map((flag) {
            final nameParts = flag.flagName?.split(' #') ?? ['', ''];
            final name = nameParts[0];
            final number = nameParts.length &gt; 1 ? '#${nameParts[1]}' : '';

            return Nft(
              nftId: flag.flagId ?? '',
              tokenId: flag.tokenId ?? '',
              name: name,
              number: number,
              imageUrl: flag.flagImage ?? '',
              nftType: NftType.flag,
              flag: flag,
            );
          }).toList();

          final allNfts = [
            ...explorerNfts,
            ...flagNfts,
          ];

          return SingleChildScrollView(
            child: Padding(
              padding: const EdgeInsets.all(24),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  Column(
                    children: [
                      DecoratedBox(
                        decoration: BoxDecoration(
                          color: ColorToken.bg,
                          borderRadius: BorderRadius.circular(8),
                          border: Border.all(
                            color: ColorToken.border,
                          ),
                        ),
                        child: Padding(
                          padding: const EdgeInsets.all(24),
                          child: Column(
                            children: [
                              Image.asset(
                                Assets.images.stpCoinIcon.path,
                                width: 32,
                                height: 32,
                              ),
                              const SizedBox(height: 14),
                              Row(
                                mainAxisAlignment: MainAxisAlignment.center,
                                crossAxisAlignment: CrossAxisAlignment.baseline,
                                textBaseline: TextBaseline.alphabetic,
                                children: [
                                  Flexible(
                                    child: AutoSizeText(
                                      stpValue.toString(),
                                      style: const TextStyle(
                                        fontSize: 32,
                                        fontWeight: FontWeight.bold,
                                      ),
                                      maxLines: 1,
                                      minFontSize: 1,
                                      overflow: TextOverflow.ellipsis,
                                    ),
                                  ),
                                  const SizedBox(width: 6),
                                  const Text(
                                    'STP',
                                    style: TextStyle(
                                      fontSize: 16,
                                    ),
                                  ),
                                ],
                              ),
                              const SizedBox(height: 24),
                              GestureDetector(
                                onTap: () async {
                                  await onTapWalletAddress(walletAddress);
                                },
                                child: Container(
                                  padding: const EdgeInsets.symmetric(
                                    horizontal: 10,
                                    vertical: 5,
                                  ),
                                  decoration: BoxDecoration(
                                    color: ColorPallet.gray800,
                                    borderRadius: BorderRadius.circular(4),
                                  ),
                                  child: Text(
                                    walletAddress,
                                    maxLines: 1,
                                    overflow: TextOverflow.ellipsis,
                                    style: const TextStyle(
                                      fontSize: 13,
                                      color: ColorToken.primaryDark,
                                    ),
                                  ),
                                ),
                              ),
                            ],
                          ),
                        ),
                      ),
                    ],
                  ),
                  const SizedBox(height: 16),

                  // NFTs
                  const Text(
                    'NFTs',
                    style: TextStyle(
                      fontSize: 16,
                      fontWeight: FontWeight.bold,
                    ),
                  ),
                  const SizedBox(height: 16),

                  if (allNfts.isEmpty)
                    const Center(child: Text('No NFTs owned')),

                  Column(
                    children: allNfts.map((nft) {
                      return Padding(
                        padding: const EdgeInsets.only(bottom: 8),
                        child: ClipRRect(
                          borderRadius: BorderRadius.circular(8),
                          // TODO: [„Éï„Çß„Éº„Ç∫2] NFT Ë©≥Á¥∞ÁîªÈù¢„Å∏„ÅÆÈÅ∑ÁßªÔºà„É™„ÉÉ„Éó„É´„Å´Â§âÊõ¥„Åô„ÇãÔºâ
                          // child: Ink(
                          child: DecoratedBox(
                            decoration: BoxDecoration(
                              color: ColorToken.bg,
                              borderRadius: BorderRadius.circular(8),
                              border: Border.all(
                                color: ColorToken.border,
                              ),
                            ),
                            child: InkWell(
                              borderRadius: BorderRadius.circular(8),
                              onTap: () async {
                                await onTapNft(nft);
                              },
                              child: Padding(
                                padding: const EdgeInsets.all(16),
                                child: Row(
                                  children: [
                                    ClipRRect(
                                      borderRadius: BorderRadius.circular(4),
                                      child: SquareImage(
                                        imageUrl: nft.imageUrl,
                                        size: 56,
                                      ),
                                    ),
                                    const SizedBox(width: 16),
                                    Expanded(
                                      child: Column(
                                        crossAxisAlignment:
                                            CrossAxisAlignment.start,
                                        children: [
                                          Row(
                                            children: [
                                              Flexible(
                                                child: Text(
                                                  nft.name,
                                                  maxLines: 1,
                                                  overflow:
                                                      TextOverflow.ellipsis,
                                                  style: const TextStyle(
                                                    fontSize: 14,
                                                    fontWeight: FontWeight.bold,
                                                  ),
                                                ),
                                              ),
                                              const SizedBox(width: 4),
                                              Flexible(
                                                child: Text(
                                                  nft.number,
                                                  maxLines: 1,
                                                  overflow:
                                                      TextOverflow.ellipsis,
                                                  style: const TextStyle(
                                                    fontSize: 12,
                                                    fontWeight: FontWeight.bold,
                                                    color: ColorPallet.gray300,
                                                  ),
                                                ),
                                              ),
                                            ],
                                          ),
                                          const SizedBox(height: 12),
                                          Text(
                                            'TokenID: ${nft.tokenId}',
                                            maxLines: 1,
                                            overflow: TextOverflow.ellipsis,
                                            style: const TextStyle(
                                              fontSize: 12,
                                            ),
                                          ),
                                        ],
                                      ),
                                    ),
                                    // TODO: [„Éï„Çß„Éº„Ç∫2] NFT Ë©≥Á¥∞ÁîªÈù¢„Å∏„ÅÆÈÅ∑Áßª
                                    // const Icon(
                                    //   Icons.chevron_right,
                                    //   size: 32,
                                    //   color: ColorToken.text,
                                    // ),
                                  ],
                                ),
                              ),
                            ),
                          ),
                        ),
                      );
                    }).toList(),
                  ),
                  const SizedBox(height: 24),
                ],
              ),
            ),
          );
        },
        loading: () {
          return const Center(
            child: CircularProgressIndicator(),
          );
        },
        error: (error, _) {
          return Center(
            child: Text('Error: $error'),
          );
        },
      ),
    );
  }
}

---

## üîß „ÉÑ„Éº„É´
*2025/02/07 13:10:55*

**ÁµêÂêà„Åô„ÇãË¶ÅÁ¥†„ÇíËÄÉÊÖÆ**

„ÉÜ„Ç≠„Çπ„Éà„Äånft.name„Äç„ÇíÂçäÂàÜ„Å´Âàá„Çâ„Åö„Å´`const SizedBox(width: 4)`„Å®`nft.number`„ÇíÁµêÂêà„Åó„ÄÅ„Çπ„Çø„Ç§„É´„ÇíË™øÊï¥„Åó„Å¶Êäò„ÇäËøî„Åï„Åö„Å´Ë°®Á§∫„Åô„ÇãÊñπÊ≥ï„ÇíÊé¢„Å£„Å¶„ÅÑ„Çã„ÄÇ

**ÊúÄÈÅ©„Å™„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíÊ®°Á¥¢**

„ÉÜ„Ç≠„Çπ„Éà„Äånft.name„Äç„ÇíÊúÄÂ§ßÈôêÂ∫É„Åè„ÄÅÁï™Âè∑„ÇíÂÆåÂÖ®„Å´Ë°®Á§∫„Åô„Çã„Åü„ÇÅ„Å´„ÄÅ`Flexible`„ÇÑ`LayoutBuilder`„ÇíÊ¥ªÁî®„Åó„ÄÅÂêçÂâç„ÅåÂèé„Åæ„Çâ„Å™„ÅÑÂ†¥Âêà„ÅØÁï•Áß∞„Çí‰ΩøÁî®„Åó„Å¶„ÅÑ„Çã„ÄÇ

**Áï™Âè∑„Çí‰øùË≠∑„Åô„ÇãÊñπÊ≥ï„ÇíÊ®°Á¥¢‰∏≠**

Áï™Âè∑„ÇíÂàá„ÇäÊç®„Å¶„Åö„Å´„ÄÅÂêçÂâç„ÅåÂàá„ÇäÊç®„Å¶„Çâ„Çå„Çã„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíÊ§úË®é„Åó„Å¶„ÅÑ„Çã„ÄÇÁï™Âè∑„Çí`Flexible`„Å´ÈÖçÁΩÆ„Åó„ÄÅÂêçÂâç„ÇíÂèé„ÇÅ„Çã„Çπ„Éö„Éº„Çπ„ÇíÂ∫É„Åí„ÇãÊñπÊ≥ï„ÇíÊé¢„Å£„Å¶„ÅÑ„Çã„ÄÇ

**Áï™Âè∑„ÅÆÈÖçÁΩÆÊñπÊ≥ï„ÇíÊé¢„Çã**

ÂêçÂâç„ÇíÂèé„ÇÅ„Çã„Çπ„Éö„Éº„Çπ„ÇíÂ∫É„Åí„ÄÅÁï™Âè∑„ÇíË∂≥„Çä„Å™„ÅÑÂàÜÂúßÁ∏Æ„Åó„Å¶„ÅÑ„Çã„ÄÇÂêçÂâç„ÅåÂèé„Åæ„Çâ„Å™„ÅÑÊôÇ„Å´Áï™Âè∑„ÇíÂúßÁ∏Æ„Åó„Å¶Ë°®Á§∫„Åô„ÇãÊñπÊ≥ï„ÇíÊ®°Á¥¢‰∏≠„ÄÇ

**Ë™øÊï¥„Åô„ÇãÊñπÊ≥ï„ÇíËÄÉ„Åà‰∏≠**

RowÂÜÖ„ÅßÂêçÂâç„ÇíÂ∫É„Åí„ÄÅÁï™Âè∑„ÇíÊúÄÂ∞èÈôê„ÅÆ„Çπ„Éö„Éº„Çπ„Å´„Åô„Çã„ÄÇÂêçÂâç„ÅåÂèé„Åæ„Çâ„Å™„ÅÑ„Å®„Åç„ÅØ„ÄÅÁï™Âè∑„ÇíÂúßÁ∏Æ„Åó„Å¶Ë°®Á§∫„Åó„ÄÅÊ∫¢„Çå„Å¶„Ç®„É©„Éº„ÇíÈò≤„ÅêÊñπÊ≥ï„ÇíË©¶„Åó„Å¶„ÅÑ„Çã„ÄÇ

**Á∞°Á¥†Âåñ„Åó„ÅüÊñπÊ≥ï„ÇíÊ®°Á¥¢‰∏≠**

ÂêçÂâç„Çí`Expanded`„ÅßÂ∫É„Åí„ÄÅÁï™Âè∑„Çí`SizedBox`„ÅßÊúÄÂ∞èÈôê„Å´Êäë„Åà„Çã„ÄÇÂêçÂâç„ÅåÂèé„Åæ„Çâ„Å™„ÅÑ„Å®„Åç„ÅØÁï™Âè∑„ÇíÂúßÁ∏Æ„Åó„Å¶Ë°®Á§∫„Åó„ÄÅÊ∫¢„Çå„ÇíÈò≤„ÅêÊñπÊ≥ï„ÇíËÄÉ„Åà„Å¶„ÅÑ„Çã„ÄÇ

**ÂêçÂâç„Å®Áï™Âè∑„ÅÆÈÖçÁΩÆ**

ÂêçÂâç„Çí`Expanded`„ÅßÂ∫É„Åí„ÄÅÁï™Âè∑„Çí`SizedBox`„ÅßÁ∏Æ„ÇÅ„Å¶„ÅÑ„Çã„ÄÇ„Åì„Çå„Å´„Çà„Çä„ÄÅÂêçÂâç„ÅåÂèé„Åæ„Çâ„Å™„ÅÑ„Å®„Åç„Å´Áï™Âè∑„ÇíÂúßÁ∏Æ„Åó„Å¶Ë°®Á§∫„Åó„ÄÅÊ∫¢„Çå„ÇíÈò≤„ÅêÂäπÊûú„ÅåÊúüÂæÖ„Åï„Çå„Çã„ÄÇ

---

## ü§ñ „Ç¢„Ç∑„Çπ„Çø„É≥„Éà
*2025/02/07 13:10:55*

Ë°åÂÖ®‰Ωì„ÅÆÂπÖ„ÅåÈôê„Çâ„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÄÅ`nft.name` ÂÅ¥„Å†„Åë„ÇíÂèØÂ§â„Å´„Åó„Å¶„ÄåÁï™Âè∑„Äç„ÅÆÊñπ„ÅØ„Åß„Åç„ÇãÈôê„ÇäÂàá„Çâ„Åö„Å´Ë°®Á§∫„Åó„Åü„ÅÑ„ÄÅ„Å®„ÅÑ„ÅÜÂ†¥Âêà„ÅØ„ÄÅ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´ `nft.name` ÂÅ¥„Çí `Expanded`Ôºà„ÇÇ„Åó„Åè„ÅØ `Flexible`Ôºâ„ÅßÂåÖ„ÇÄ„ÅÆ„Åå„Ç∑„É≥„Éó„É´„Åã„Å§‰∏ÄËà¨ÁöÑ„Åß„Åô„ÄÇ

```dart
Row(
  children: [
    // „Åì„Å°„Çâ„ÅåÂèØÂ§âÈ†òÂüü„Å´„Å™„Çã
    Expanded(
      child: Text(
        nft.name,
        maxLines: 1,
        overflow: TextOverflow.ellipsis,
        style: const TextStyle(
          fontSize: 14,
          fontWeight: FontWeight.bold,
        ),
      ),
    ),
    const SizedBox(width: 4),
    // „Åì„Å°„Çâ„ÅØÂü∫Êú¨ÁöÑ„Å´Âàá„ÇäÊç®„Å¶„Åó„Å™„ÅÑÊÉ≥ÂÆö
    Text(
      nft.number,
      maxLines: 1,
      overflow: TextOverflow.ellipsis,
      style: const TextStyle(
        fontSize: 12,
        fontWeight: FontWeight.bold,
        color: ColorPallet.gray300,
      ),
    ),
  ],
);
```

- **„Éù„Ç§„É≥„Éà**  
  - ÂÖàÈ†≠„ÅÆ„ÉÜ„Ç≠„Çπ„ÉàÔºà`nft.name`Ôºâ„Çí `Expanded`Ôºà„Åæ„Åü„ÅØ `Flexible`Ôºâ„ÅßÂåÖ„ÇÄ„Åì„Å®„Åß„ÄÅÁîªÈù¢ÂπÖ„Åå‰∏çË∂≥„Åô„ÇãÂ†¥Âêà„ÅØ `nft.name` „Å†„Åë„ÅåËá™ÂãïÁöÑ„Å´ÁúÅÁï•Ë°®Á§∫ (`overflow: TextOverflow.ellipsis`) „Åï„Çå„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åô„ÄÇ  
  - „ÄåÁï™Âè∑„Äç„ÅÆÊñπÔºà`nft.number`Ôºâ„ÅØÈÄöÂ∏∏„ÅÆ `Text` „Ç¶„Ç£„Ç∏„Çß„ÉÉ„Éà„Å´„Åó„ÄÅÂøÖË¶Å„Åß„ÅÇ„Çå„Å∞ `maxLines: 1, overflow: TextOverflow.ellipsis` „ÇíÊåáÂÆö„Åó„Å¶„Åä„Åè„Åì„Å®„Åß„ÄÅ‰∏á„Åå‰∏ÄÊÉ≥ÂÆö‰ª•‰∏ä„Å´Èï∑„ÅÑÊñáÂ≠óÂàó„ÅåÊù•„Å¶„ÇÇË°å„ÅÆ„Ç™„Éº„Éê„Éº„Éï„É≠„Éº„ÇíÈò≤„Åé„Åæ„Åô„ÄÇ  
  - ÊñáÂ≠óÂêåÂ£´„ÅÆÈñìÈöî„ÅØ `const SizedBox(width: 4)` „ÅÆ„Åø„ÇíÊåü„Åø„ÄÅ„ÅÇ„Åæ„Çä„Å´„ÇÇÊ®™ÂπÖ„ÅåÁã≠„Åè„Å¶ÊΩ∞„Çå„Åô„Åé„Çã„Çà„ÅÜ„Åß„ÅÇ„Çå„Å∞„ÄÅ`nft.number` „ÅÆÊñπ„Å´„ÇÇÔºà„Éá„Ç∂„Ç§„É≥„Å´Âøú„Åò„Å¶Ôºâ`SizedBox` „Å™„Å©„ÅßÊúÄÂ∞èÂπÖ„ÇíÁ¢∫‰øù„Åô„Çã„Å™„Å©Ë™øÊï¥„Åô„Çã„Å®„Çà„ÅÑ„Åß„Åó„Çá„ÅÜ„ÄÇ

„Åì„Çå„Åß„ÄåÁï™Âè∑„Äç„Çí„Åß„Åç„ÇãÈôê„ÇäÂàá„Çâ„Åö„Å´„ÄÅ`nft.name` ÂÅ¥„ÇíÂøÖË¶Å„Å´Âøú„Åò„Å¶ÁúÅÁï•Ë°®Á§∫„Åï„Åõ„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ

---
