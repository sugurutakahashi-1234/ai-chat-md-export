# æˆ»ã‚‹ãƒœã‚¿ãƒ³è¡¨ç¤ºæ¡ä»¶

æ—¥ä»˜: 2024-12-20

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/12/20 16:06:10*

ã“ã®ç”»é¢ã®æˆ»ã‚‹ãƒœã‚¿ãƒ³ã¯ShowSpotListNotifierãŒtrueã®æ™‚ã®ã¿ã«è¡¨ç¤ºã—ã¦æ¬²ã—ã„

leading: IconButton(
          icon: const Icon(Icons.arrow_back),
          onPressed: () {
            Navigator.pop(context);
          },
        ),


import 'package:riverpod_annotation/riverpod_annotation.dart';

part 'show_spot_list.g.dart';

@riverpod
class ShowSpotListNotifier extends _$ShowSpotListNotifier {
  @override
  bool build() =&gt; false;

  void show() =&gt; state = true;
  void hide() =&gt; state = false;
}

import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import 'package:hooks_riverpod/hooks_riverpod.dart';
import 'package:snpit_guild_app/domain/screen.dart';

class OurSpotDetailPage extends HookConsumerWidget {
  const OurSpotDetailPage({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    return Scaffold(
      appBar: AppBar(
        leading: IconButton(
          icon: const Icon(Icons.arrow_back),
          onPressed: () {
            Navigator.pop(context);
          },
        ),
        title: const Text('Our spot'),
        actions: [
          IconButton(
            icon: const Icon(Icons.close),
            onPressed: () {
              // ãƒœãƒˆãƒ ã‚·ãƒ¼ãƒˆå…¨ä½“ã‚’é–‰ã˜ã‚‹
              Navigator.of(context, rootNavigator: true).pop();
            },
          ),
        ],
      ),
      body: Center(
        child: ElevatedButton(
          onPressed: () {
            context.push(Screen.flagList.path);
          },
          child: const Text('No flag'),
        ),
      ),
    );
  }
}

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/12/20 16:06:21*

`OurSpotDetailPage` ã®æˆ»ã‚‹ãƒœã‚¿ãƒ³ã‚’ `ShowSpotListNotifier` ãŒ `true` ã®å ´åˆã®ã¿ã«è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ä¿®æ­£ã™ã‚‹ã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã« `HookConsumerWidget` ã‚’ä½¿ç”¨ã—ã¦ `ShowSpotListNotifier` ã®çŠ¶æ…‹ã‚’ç›£è¦–ã—ã€æ¡ä»¶ã«å¿œã˜ã¦ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

ä¿®æ­£ç‰ˆã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

```dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';
import 'package:hooks_riverpod/hooks_riverpod.dart';
import 'package:snpit_guild_app/domain/screen.dart';
import 'package:snpit_guild_app/notifiers/show_spot_list.dart'; // ShowSpotListNotifier ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

class OurSpotDetailPage extends HookConsumerWidget {
  const OurSpotDetailPage({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final showSpotList = ref.watch(showSpotListNotifierProvider);

    return Scaffold(
      appBar: AppBar(
        leading: showSpotList
            ? IconButton(
                icon: const Icon(Icons.arrow_back),
                onPressed: () {
                  Navigator.pop(context);
                },
              )
            : null, // showSpotList ãŒ false ã®å ´åˆã¯ leading ã‚’ null ã«ã™ã‚‹
        title: const Text('Our spot'),
        actions: [
          IconButton(
            icon: const Icon(Icons.close),
            onPressed: () {
              // ãƒœãƒˆãƒ ã‚·ãƒ¼ãƒˆå…¨ä½“ã‚’é–‰ã˜ã‚‹
              Navigator.of(context, rootNavigator: true).pop();
            },
          ),
        ],
      ),
      body: Center(
        child: ElevatedButton(
          onPressed: () {
            context.push(Screen.flagList.path);
          },
          child: const Text('No flag'),
        ),
      ),
    );
  }
}
```

### ä¿®æ­£ãƒã‚¤ãƒ³ãƒˆ

1. **`ref.watch` ã‚’ä½¿ç”¨**  
   `showSpotListNotifierProvider` ã®ç¾åœ¨ã®çŠ¶æ…‹ã‚’ç›£è¦–ã—ã¾ã™ã€‚

2. **`leading` ã®æ¡ä»¶åˆ†å²**  
   `showSpotList` ãŒ `true` ã®å ´åˆã®ã¿ `IconButton` ã‚’è¡¨ç¤ºã—ã€`false` ã®å ´åˆã¯ `null` ã‚’è¨­å®šã—ã¾ã™ã€‚

3. **`ShowSpotListNotifier` ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ**  
   å¿…è¦ã«å¿œã˜ã¦ `show_spot_list.dart` ã‚’é©åˆ‡ãªå ´æ‰€ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ãã ã•ã„ã€‚

ã“ã‚Œã§ `ShowSpotListNotifier` ãŒ `true` ã®å ´åˆã®ã¿æˆ»ã‚‹ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

---
