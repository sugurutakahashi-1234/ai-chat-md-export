# Makefile: エラー解消のヒント

日付: 2023-06-29

---

## 👤 ユーザー
*2023/6/29 15:51:06*

以下のエラーになる

Makefile:20: *** missing separator.  Stop.

.PHONY: help open test buildRelease

help:
	@grep -E '^[a-zA-Z_-]+:.*?# .*$$' $(MAKEFILE_LIST) | awk 'BEGIN {FS = ":[^#]*? #| #"}; {printf "%-42s%s\n", $$1 $$3, $$2}'
open: # Open workspace in Xcode
	open `find . -maxdepth 1 -mindepth 1 -iname "*.xcworkspace"`
test: # Test EmomilPacakge
	sh Scripts/CI/testPackage.sh
buildRelease: # Build staging app
	sh Scripts/CI/buildStagingBuild.sh
setup: # Setup project
	sh Scripts/Make/setup.sh
setupGithooks: # Setup githooks
	git config --local core.hooksPath .githooks
teardownGithooks: # Tear down githooks
	git config --local --unset core.hooksPath .githooks
runFormatter: # Run formatter
	swift run --package-path EmomilToolsPackage swiftformat .
dryrunFormatter: # Run formatter
    swift run --package-path EmomilToolsPackage swiftformat --dryrun .
lintFormatter: # Run formatter
    swift run --package-path EmomilToolsPackage swiftformat --lint .

---

## 🤖 アシスタント
*2023/6/29 15:51:58*

`Makefile:20: *** missing separator.  Stop.`というエラーは、Makefileの書式が適切でないときに発生します。特に、インデントにタブではなくスペースが使われている場合にこのエラーが発生します。

Makefileではコマンドのインデントにタブを使う必要があります。タブと見えてもスペースが混ざっているとこのようなエラーが発生します。

あなたのMakefileを見ると、各ターゲットに対するコマンドが存在せず、全てコメントで終わっているのが原因かもしれません。

次のように各ターゲットにダミーのコマンド(`@:`)を追加することでエラーが解消するかもしれません。ただし、この修正方法はエラーを解消するためのもので、各ターゲットが正常に機能するかどうかは各スクリプトの内容によります。

```make
.PHONY: help open test buildRelease

help: # Show help
	@grep -E '^[a-zA-Z_-]+:.*?# .*$$' $(MAKEFILE_LIST) | awk 'BEGIN {FS = ":[^#]*? #| #"}; {printf "%-42s%s\n", $$1 $$3, $$2}'
	@:

open: # Open workspace in Xcode
	open `find . -maxdepth 1 -mindepth 1 -iname "*.xcworkspace"`
	@:

test: # Test EmomilPacakge
	sh Scripts/CI/testPackage.sh
	@:

buildRelease: # Build staging app
	sh Scripts/CI/buildStagingBuild.sh
	@:

setup: # Setup project
	sh Scripts/Make/setup.sh
	@:

setupGithooks: # Setup githooks
	git config --local core.hooksPath .githooks
	@:

teardownGithooks: # Tear down githooks
	git config --local --unset core.hooksPath .githooks
	@:

runFormatter: # Run formatter
	swift run --package-path EmomilToolsPackage swiftformat .
	@:

dryrunFormatter: # Run formatter
    swift run --package-path EmomilToolsPackage swiftformat --dryrun .
	@:

lintFormatter: # Run formatter
    swift run --package-path EmomilToolsPackage swiftformat --lint .
	@:
```

ターゲットの行の最後に`@:`を追加することで、それぞれのターゲットには何もしないコマンドが割り当てられ、Makefileの文法エラーを解消できます。

---
