# ãƒ¢ãƒãƒ¬ãƒæ§‹æˆæ¯”è¼ƒ

æ—¥ä»˜: 2025-06-25

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/25 14:13:24*

ä»Šã‹ã‚‰æ–°è¦ã«é–‹ç™ºã™ã‚‹TypeScriptã®ãƒ¢ãƒãƒ¬ãƒæ§‹æˆã«ãŠã„ã¦ã€ãã‚Œã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ„ãƒ¼ãƒ«ãªã©ã®æ¯”è¼ƒã‚’ã—ãŸã„ã€ 

pnpm ã®ã¿ã§ãƒ¢ãƒãƒ¬ãƒ
bun ã®å…¬å¼ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã§ãƒ¢ãƒãƒ¬ãƒ
turborepo+bunã§ãƒ¢ãƒãƒ¬ãƒ

ã“ã‚Œã‚‰ã®ã©ã‚ŒãŒã„ã„ã‚ˆã‚Šã‹æ•™ãˆã¦ã»ã—ã„ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/25 14:14:06*

### å…ˆã«çµè«– â€” ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦æ¨¡ã¨å„ªå…ˆé †ä½ã§é¸ã¶
| ã‚·ãƒŠãƒªã‚ª | æœ€é©ãªæ§‹æˆ | ã–ã£ãã‚Šç†ç”± |
|---|---|---|
| **ã¾ãšã¯å®‰å®šã—ã¦é–‹ç™ºã‚’å§‹ã‚ãŸã„**&lt;br&gt; (æ—¢å­˜ Node ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã‚’ãã®ã¾ã¾ä½¿ã† / CI ã‚‚ã™ãå›ã—ãŸã„) | **pnpm ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ã¿** | å®Ÿç¸¾ãŒè±Šå¯Œãƒ»é«˜é€Ÿãƒ»ã»ã¼å…¨ãƒ„ãƒ¼ãƒ«ãŒå…¬å¼å¯¾å¿œã€‚å¤§è¦æ¨¡ãƒªãƒã‚¸ãƒˆãƒªã§ã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« 8 s ç¨‹åº¦ã¨ npm ã®ç´„ 4 å€é€Ÿï»¿ îˆ€citeîˆ‚turn1view0îˆ |
| **Bun ã®åœ§å€’çš„ãª install é€Ÿåº¦ã¨çµ±åˆãƒ„ãƒ¼ãƒ«ãŒé­…åŠ›**&lt;br&gt; (ã¾ã å°è¦æ¨¡ã€Bun ã®å®Ÿé¨“ãƒ»æ¤œè¨¼ãŒç›®çš„) | **Bun å…¬å¼ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹** | `bun install` ã¯ npm æ¯” 20â€“30Ã—ã€pnpm æ¯”ã§ã‚‚ä½“æ„Ÿ 2â€“3Ã— é€Ÿã„ï»¿ îˆ€citeîˆ‚turn5search0îˆã€‚ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ãƒ»ãƒ“ãƒ«ãƒ€ãƒ¼ã‚‚åŒæ¢±ã§ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒæ¸›ã‚‹ã€‚ä¸€æ–¹ã§ Node-API å¯¾å¿œã¯ã€Œ90 % ã‚’ç›®æ¨™ã€æ®µéšã§ã€ä¸€éƒ¨ãƒã‚¤ãƒ†ã‚£ãƒ–æ‹¡å¼µã¯æœªå¯¾å¿œï»¿ îˆ€citeîˆ‚turn6search0îˆ‚turn6search2îˆã€‚ |
| **å·¨å¤§ãƒ¢ãƒãƒ¬ãƒã§ â€œå·®åˆ†ãƒ“ãƒ«ãƒ‰ & ãƒªãƒ¢ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥â€ ã‚’å¾¹åº•ã—ãŸã„**&lt;br&gt; (è¤‡æ•°ãƒãƒ¼ãƒ  / CI ã‚³ã‚¹ãƒˆæœ€é©åŒ–ãŒèª²é¡Œ) | **Turborepo + pnpmâ€Š(ï¼‹ä»»æ„ã§ Bun runtime)** | Turborepo ãŒã‚°ãƒ©ãƒ•è§£æãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ‹…å½“ã€`pnpm` ãŒä¾å­˜ç®¡ç†ã‚’æ‹…å½“ã™ã‚‹çµ„ã¿åˆã‚ã›ãŒæœ€ã‚‚æ¯ã‚Œã¦ã„ã‚‹ã€‚Bun ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿å–ã‚‹ `turbo prune` ã‚‚ 2.5 ã§è¿½åŠ ã•ã‚ŒãŸãŒï»¿ îˆ€citeîˆ‚turn3view0îˆã€Bun ã‚’å®Œå…¨ãª **package manager** ã¨ã—ã¦ä½¿ã†ã‚µãƒãƒ¼ãƒˆã¯ã¾ã å®Ÿé¨“çš„ (ä¸€éƒ¨ã‚³ãƒãƒ³ãƒ‰ãŒå¤±æ•—ã™ã‚‹å ±å‘Šã‚ã‚Šï»¿ îˆ€citeîˆ‚turn8view0îˆ)ã€‚ |

---

## 1. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç† & ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹æ©Ÿèƒ½

| æ©Ÿèƒ½ | pnpm | Bun (å…¬å¼) | Turborepo ã®ä¸Šã§ Bun |
|---|---|---|---|
| ä¾å­˜ã®ãƒãƒ¼ãƒ‰ãƒªãƒ³ã‚¯å…±æœ‰ | âœ… (global store) | âœ… | âœ… (Bun ãŒæ‹…å½“) |
| `workspace:*` ãƒ—ãƒ­ãƒˆã‚³ãƒ« | âœ… | âœ… îˆ€citeîˆ‚turn0search1îˆ | âœ… |
| ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ•ã‚£ãƒ«ã‚¿å®Ÿè¡Œ (`--filter`) | âœ… (é«˜æ©Ÿèƒ½) | â–³ *åŸºæœ¬çš„ãª filter ã®ã¿* | Turborepo ãŒä»£æ›¿ |
| lockfile å®‰å®šåº¦ | é«˜ (text) | ä¸­ (binaryâ†’text åŒ–æ¸ˆ) | Bun lock ã«å¯¾å¿œã—ãŸã®ã¯ v2.5 ä»¥é™ îˆ€citeîˆ‚turn3view0îˆ |
| Node API äº’æ› | 100 % | ç´„ 90 % ç›®æ¨™ (ä¸€éƒ¨ native module ä¸å¯) îˆ€citeîˆ‚turn6search0îˆ‚turn6search5îˆ | Bun åˆ¶é™ã‚’ãã®ã¾ã¾å—ã‘ã‚‹ |

## 2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

- **ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«é€Ÿåº¦**  
  - `bun install` â†’ npm æ¯” 20â€“30Ã—é€Ÿã€pnpm ã‚ˆã‚Šã•ã‚‰ã«é€Ÿã„ã‚±ãƒ¼ã‚¹ã‚‚å¤šæ•°å ±å‘Šï»¿ îˆ€citeîˆ‚turn5search0îˆ  
  - `pnpm install` â†’ å¤§è¦æ¨¡ãƒªãƒã§ã‚‚ 8 s å‰å¾Œ (npm 31 s â†’ pnpm 8 s)ï»¿ îˆ€citeîˆ‚turn1view0îˆ  
- **ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆ**  
  - Bun ã«ã¯å†…è”µãƒ“ãƒ«ãƒ€ãƒ¼â„ãƒ†ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãŒã‚ã‚Šè¿½åŠ ãƒ„ãƒ¼ãƒ«ãŒæ¸›ã‚‹ã€‚  
  - Turborepo ã¯ **åˆ†æ•£ã‚­ãƒ£ãƒƒã‚·ãƒ¥** ã¨ã‚¿ã‚¹ã‚¯ã‚°ãƒ©ãƒ•æœ€é©åŒ–ã§ã€Œå†ãƒ“ãƒ«ãƒ‰ 0 sã€ä½“é¨“ã‚’å®Ÿç¾ã§ãã‚‹ãŒã€åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¯æœ€ã‚‚è¤‡é›‘ã€‚

## 3. ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ  & å®‰å®šæ€§

| è¦³ç‚¹ | pnpm | Bun | Turborepo + Bun |
|---|---|---|---|
| OSS æ¡ç”¨å®Ÿç¸¾ | React, Vite, Next.js å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã‚‚ç´¹ä»‹ | æœ¬ç•ªå°å…¥äº‹ä¾‹ã¯å¢—åŠ ä¸­ã ãŒã¾ã å°‘æ•° | å…¬å¼ã‚µãƒãƒ¼ãƒˆã¯ **å®Ÿé¨“çš„**ã€‚issue #4762 ã§ã‚‚ â€œå®Œå…¨å¯¾å¿œã«ã¯è‡³ã‚‰ãšâ€ ã¨è­°è«–ä¸­ï»¿ îˆ€citeîˆ‚turn7view0îˆ |
| CI/CD å¯¾å¿œ | GitHub Actions ç”¨ cache-action å…¬å¼ | bun-setup ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚ã‚Šï¼ä¸€éƒ¨è‡ªå·±è§£æ±º | Turborepo Remote Cache + pnpm ã¯å®‰å®šã€‚Bun lockfileå¯¾å¿œã¯ v2.5 ä»¥é™ |
| VS Code/IDE é€£æº | å®Œå…¨ | å‹•çš„ import ã§ä¸€éƒ¨è­¦å‘Šæ®‹ã‚‹ã‚±ãƒ¼ã‚¹ã‚ã‚Š | IDE ã¯ pnpm å´ã§å•é¡Œãªã—ã€Bun éƒ¨åˆ†ã¯å‰è¿°åˆ¶é™ |

## 4. å­¦ç¿’ã‚³ã‚¹ãƒˆãƒ»é‹ç”¨ã‚³ã‚¹ãƒˆ

- **pnpm å˜ä½“**  
  - æ—¢å­˜ã® npm ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒãã®ã¾ã¾å‹•ãã€‚  
  - è¿½åŠ è¨­å®šã¯ `pnpm-workspace.yaml` ã ã‘ã§æ¸ˆã‚€ã€‚  

- **Bun ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹**  
  - `bunx`, `bun run`, `bun test` ãªã©ç‹¬è‡ª CLI ã«ç½®ãæ›ãˆã€‚  
  - Node äº’æ›ã§ãƒãƒã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå‡ºãŸã‚‰è‡ªåŠ›èª¿æŸ»ãŒå¿…è¦ã€‚  

- **Turborepo**  
  - `turbo.json` ã§ã‚¿ã‚¹ã‚¯ã‚°ãƒ©ãƒ•ã‚’å®šç¾©ã™ã‚‹å­¦ç¿’ã‚³ã‚¹ãƒˆã€‚  
  - CI é€£æºãƒ»ãƒªãƒ¢ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ãŸã‚ã® Vercel ã‚¢ã‚«ã‚¦ãƒ³ãƒˆé€£æºãªã©åˆæœŸè¨­å®šãŒå¤šã„ã€‚  

---

## 5. é¸æŠã‚¬ã‚¤ãƒ‰

1. **ã€Œã¾ãšæˆæœã‚’å‡ºã—ãŸã„ / ä¾å­˜ã§ãƒãƒã‚ŠãŸããªã„ã€**  
   â†’ **pnpm** ä¸€æŠã€‚Bun ã¯å¾Œã‹ã‚‰ã§ã‚‚å°å…¥ã§ãã¾ã™ï¼ˆ`bunx` ã¯ pnpm storeã¨å…±å­˜å¯ï¼‰ã€‚

2. **ã€Œæ–°è¦ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã§ Bun ã‚‚ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³æ¤œè¨¼ã—ãŸã„ã€**  
   â†’ **Bun ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ã¿** ã§ã‚·ãƒ³ãƒ—ãƒ«ã«å§‹ã‚ã‚‹ã€‚  
   - ãƒã‚¤ãƒ†ã‚£ãƒ–æ‹¡å¼µã‚’ä½¿ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆ`sqlite3`, `canvas` ãªã©ï¼‰ã¯å‹•ä½œç¢ºèªã‚’å¿…ãšè¡Œã†ã€‚  
   - å°†æ¥ Node ã«æˆ»ã™ãƒ—ãƒ©ãƒ³ Bï¼ˆ`pnpm import` ãªã©ï¼‰ã‚‚æ±ºã‚ã¦ãŠãã¨å®‰å¿ƒã€‚

3. **ã€Œãƒ¢ãƒãƒ¬ãƒãŒå¤§è¦æ¨¡åŒ–ã—ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ã¨ CI ã‚³ã‚¹ãƒˆãŒé™ç•Œã€**  
   â†’ **Turborepo + pnpm** ã‚’ã¾ãšæ¡ç”¨ã—ã€ãã®å¾Œ **Bun runtime** ã‚’*éƒ¨åˆ†çš„ã«*ä½µç”¨ã™ã‚‹å½¢ãŒç¾å®Ÿçš„ã€‚  
   - `turbo prune` ãŒ Bun lockfile ã‚’æ‰±ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€*Docker ã‚¤ãƒ¡ãƒ¼ã‚¸æœ€é©åŒ–* ãªã©é™å®šçš„ã« Bun lockfileã¸åˆ‡ã‚Šæ›¿ãˆã‚‹ã®ã¯ã‚¢ãƒªã€‚  
   - ãŸã ã— Bun ã‚’ **packageManager ãƒ•ãƒ©ã‚°**ã«ã™ã‚‹ã¨ä¸€éƒ¨ã‚¿ã‚¹ã‚¯ãŒå¤±æ•—ã™ã‚‹å ±å‘ŠãŒã¾ã ã‚ã‚‹ã®ã§æ¤œè¨¼ã¯å¿…é ˆï»¿ îˆ€citeîˆ‚turn8view0îˆã€‚

---

### ã¾ã¨ã‚
- **ã‚¹ãƒ”ãƒ¼ãƒ‰é‡è¦–ã ã‘ãªã‚‰ Bun**, **ä¿¡é ¼æ€§ã¨ãƒ„ãƒ¼ãƒ«äº’æ›ã¯ pnpm**, **è¶…å¤§è¦æ¨¡ CI ãªã‚‰ Turborepo**ã€‚  
- Bun ã‚’é¸ã¶å ´åˆã¯ã€ŒNode API æœªå¯¾å¿œãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ´—ã„å‡ºã— â†’ ä»£æ›¿ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé¸å®šã€ã¾ã§è¨ˆç”»ã«å…¥ã‚Œã¦ãŠãã¨å¾Œæ‚”ã—ã«ãã„ã§ã™ã€‚  
- å°†æ¥ Node ãŒ Bun ä¸¦ã¿ã«é€Ÿããªã‚‹ï¼Ÿ â†’ Node Core ã¯ **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£è‡ªä½“ã‚’æŒãŸãªã„**ã®ã§ã€åŸºæœ¬çš„ã« *npm vs pnpm vs bun* ã®å‹è² ã«ãªã‚Šã¾ã™ã€‚Bun ã®é€Ÿåº¦ã¯ã€ŒGo/Zig + ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰ï¼‹ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ¼ãƒ«æœ€é©åŒ–ã€ã«ã‚ˆã‚‹ã‚‚ã®ãªã®ã§ã€**ç¾æ™‚ç‚¹ã§ã¯è¿½ã„ã¤ãè¨ˆç”»ã¯è¦‹ãˆã¦ã„ã¾ã›ã‚“** (npm v11 ã‚‚ Node.js æœ¬ä½“ã¨ã¯åˆ¥ãƒãƒ¼ãƒ )ã€‚  

ã”è¦æœ›ã‚„ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã®è¦æ¨¡æ„ŸãŒæ±ºã¾ã£ãŸã‚‰ã€ã•ã‚‰ã«å…·ä½“çš„ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ä¾‹ï¼ˆtsconfigãƒ»eslint è¨­å®šãƒ»CI ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãªã©ï¼‰ã‚’ä¸€ç·’ã«è©°ã‚ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã®ã§æ°—è»½ã«ã©ã†ãï¼

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/25 14:16:36*

ãŸã¨ãˆã°ã€pnpm ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’ç®¡ç†ã—ã¦ã€ pnpm run ã‚’ã™ã¹ã¦ bun run ã«å¤‰ãˆã‚‹ã®ã¯ã©ã†ã ã‚ã†ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/25 14:17:28*

## pnpm Ã— Bun runtimeã®â€œãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰é‹ç”¨â€ã¯ã‚¢ãƒªï¼Ÿ  

**çµè«–ï¼š**  
- **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚„å°ï½ä¸­è¦æ¨¡ãƒ¢ãƒãƒ¬ãƒãªã‚‰ã‚ã‚Šã¨å®Ÿç”¨ã«ãªã‚‹**  
  - `bun run` ã¯ **TypeScriptã‚’ç´ ã®ã¾ã¾å®Ÿè¡Œ**ã§ãã‚‹ã†ãˆã€èµ·å‹•ã‚‚é€Ÿã„ã€‚  
  - pnpm ãŒä½œã‚‹ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯æ§‹é€ ã¯ Bun 2.x ã§ã»ã¼è§£æ±ºæ¸ˆã¿ã§ã€ãã®ã¾ã¾è§£æ±ºã§ãã‚‹ã€‚îˆ€citeîˆ‚turn1search1îˆ‚turn0search8îˆ  
- **ãŸã ã— CIï¼å¤§è¦æ¨¡å‘ãã® â€œ--filter é‹ç”¨â€ ã‚„ãƒã‚¤ãƒ†ã‚£ãƒ–æ‹¡å¼µãŒå¤šã„å ´åˆã¯æ³¨æ„**  
  - pnpm ã®é«˜æ©Ÿèƒ½ `--filter` ã¯ Bun ã§ã¯ã¾ã æ©Ÿèƒ½ãŒé™å®šçš„ï¼ˆv2.5 ã§åŸºæœ¬çš„ãªå®Ÿè¡Œã¯å¯èƒ½ï¼‰îˆ€citeîˆ‚turn12view0îˆ  
  - Node-API/ABI ã‚’ä½¿ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆ`sqlite3` ãªã©ï¼‰ã®ã„ãã¤ã‹ã¯ Bun ã§ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã™ã‚‹ä¾‹ãŒæ®‹ã£ã¦ã„ã‚‹ã€‚îˆ€citeîˆ‚turn1search2îˆ‚turn2search0îˆ  

---

### 1. ä»•çµ„ã¿ã®ãŠã•ã‚‰ã„  

| ãƒ•ã‚§ãƒ¼ã‚º | æ‹…å½“              | ä»•çµ„ã¿ |
|----------|------------------|--------|
| ä¾å­˜è§£æ±º | **pnpm**         | `pnpm install` ãŒ `node_modules/.pnpm/** â†’ node_modules/` ã¸ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’å¼µã‚‹ã€‚ãƒ‡ã‚£ã‚¹ã‚¯åŠ¹ç‡â—ã€‚îˆ€citeîˆ‚turn1search1îˆ |
| ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ | **Bun (`bun run <script>`)** | Bun ã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãŒ `node_modules` ã‚’ãŸã©ã£ã¦è§£æ±ºã—ã€JIT-lesså®Ÿè¡Œã€‚TypeScript/JSXã‚‚ãã®ã¾ã¾å¯ã€‚îˆ€citeîˆ‚turn8view0îˆ |

Bun ã¯ Node ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è§£æ±ºè¦å‰‡ï¼‹ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯è¿½è·¡ã«å¯¾å¿œã—ã¦ã„ã‚‹ãŸã‚ã€**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’ pnpm ã«ä»»ã›ã¦ã‚‚åŸºæœ¬çš„ã«å‹•ãã¾ã™**ã€‚  

---

### 2. ãƒ¡ãƒªãƒƒãƒˆ

1. **é«˜é€Ÿãªèµ·å‹•ãƒ»ã‚¦ã‚©ãƒƒãƒ**  
   - `bun run dev` ã‚„ `bunx vite` ã®ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã¯ Node ç‰ˆã‚ˆã‚Š 30â€“50 % é€Ÿã„ä½“æ„Ÿå ±å‘ŠãŒå¤šã„ã€‚îˆ€citeîˆ‚turn6view0îˆ
2. **TypeScript ã®å³æ™‚å®Ÿè¡Œ**  
   - `bun run ./src/index.ts` ã§ ts-nodeï¼tsx ä¸è¦ã€‚
3. **æ—¢å­˜ã® pnpm ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹æ§‹é€ ã‚’ãã®ã¾ã¾ç¶­æŒ**  
   - lockfile ã¯ `pnpm-lock.yaml` ã²ã¨ã¤ã€‚CI ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚‚ä»Šã¾ã§é€šã‚Šã€‚

---

### 3. ä¸»ãªè½ã¨ã—ç©´

| ã‚«ãƒ†ã‚´ãƒª | æ³¨æ„ç‚¹ | å›é¿/å¯¾ç­– |
|---|---|---|
| **ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ•ã‚£ãƒ«ã‚¿** | `pnpm --filter` ã«æ¯”ã¹ã€Bun ã® `--filter` ã¯ã€Œãƒ‘ã‚¿ãƒ¼ãƒ³æŒ‡å®šã§è¤‡æ•°ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«åŒã˜ script ã‚’æµã™ã€ãƒ¬ãƒ™ãƒ«ã€‚ä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•ã®è‡ªå‹•è§£æ±ºã‚„ä¸¦åˆ—åˆ¶å¾¡ã¯ã¾ã å¼±ã„ã€‚îˆ€citeîˆ‚turn12view0îˆ | â€œé‡ã„ãƒ“ãƒ«ãƒ‰ã¯ pnpm runï¼ˆã¾ãŸã¯ Turborepoï¼‰ã§ã€è»½ã„ dev ã‚µãƒ¼ãƒãƒ¼ãƒ»ãƒ†ã‚¹ãƒˆã ã‘ Bunâ€ ã®åˆ†æ‹…ãŒç„¡é›£ã€‚ |
| **ãƒã‚¤ãƒ†ã‚£ãƒ–æ‹¡å¼µ** | `node-gyp`, `bcrypt`, `canvas` ãªã©ä¸€éƒ¨ Node-API ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒãƒ­ãƒ¼ãƒ‰å¤±æ•—ã™ã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚îˆ€citeîˆ‚turn2search0îˆ | â‘  WebAssembly ç‰ˆã«æ›¿ãˆã‚‹ â‘¡ Bun ã® `--native` ãƒ•ãƒ©ã‚°ã§ãƒ“ãƒ«ãƒ‰ã—ç›´ã™ â‘¢ æœ€å¾Œã®ç ¦ã¨ã—ã¦è©²å½“ã‚¹ã‚¯ãƒªãƒ—ãƒˆã ã‘ Node ã‚’ä½¿ã† |
| **è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«** | `bun run` ã¯ `node_modules` ãŒç„¡ã‘ã‚Œã° **å‹æ‰‹ã« npm ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‹ã‚‰å–å¾—** ã™ã‚‹ï¼ˆAuto-installï¼‰ã€‚pnpm ã¨ã‚ºãƒ¬ã‚‹å±é™ºã€‚îˆ€citeîˆ‚turn8view0îˆ | å¸¸ã« `pnpm install` æ¸ˆã¿ã§èµ°ã‚‰ã›ã‚‹ or `BUN_AUTO_INSTALL=0` ç’°å¢ƒå¤‰æ•°ã§ç„¡åŠ¹åŒ– |
| **ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«æ··åœ¨** | èª¤ã£ã¦ `bun install` ã‚’æ‰“ã¤ã¨ `bun.lockb` ãŒç”Ÿæˆã•ã‚Œã€2 ç¨®é¡ã® lockfile ã«ã€‚ | `.gitignore` ã§ `bun.lockb` ã‚’ç„¡è¦– or pre-commit ã§æ¤œå‡ºã—ã¦ã‚¨ãƒ©ãƒ¼ã«ã™ã‚‹ |

---

### 4. å®Ÿéš›ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ï¼ˆä¾‹ï¼‰

```bash
# â¶ ä¾å­˜ã¯ã“ã‚Œã¾ã§é€šã‚Š pnpm
pnpm install

# â· Bun ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«å°å…¥
brew install oven-sh/bun/bun   # macOS
# or
curl -fsSL https://bun.sh/install | bash

# â¸ package.json ã® scripts ã‚’ä¸¡å¯¾å¿œã«
{
  "scripts": {
    "dev": "bun run dev",      // Bun ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ vite
    "test": "bun test",        // Bun ã®ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼
    "build": "pnpm exec tsc"   // å‹ãƒã‚§ãƒƒã‚¯ã¯å¾“æ¥ã©ãŠã‚Š
  }
}

# â¹ ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹é–‹ç™ºæ™‚
bun --filter "./packages/*" dev  # Bun å´ã®ç°¡æ˜“ filter
```

> **æ—¢å­˜ CI ã‚’å£Šã—ãŸããªã„å ´åˆ**  
> ã‚¹ã‚¯ãƒªãƒ—ãƒˆåã¯å¤‰ãˆãšã€ä¸­ã§ `bunx` ã‚’å‘¼ã¶æ–¹æ³•ãŒå®‰å…¨ã§ã™ï¼š
> ```jsonc
> "dev": "bunx vite dev"
> ```

---

### 5. ã„ã¤â€œpnpm + bun runâ€ã«ã™ã‚‹ï¼Ÿ  

- **YES**  
  - å€‹äººï¼å°è¦æ¨¡ãƒãƒ¼ãƒ ã§ã€Œãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã‚„ãƒ†ã‚¹ãƒˆã‚’å°‘ã—ã§ã‚‚é€Ÿãã—ãŸã„ã€  
  - TypeScript ã‚’ç›´æ¥å©ããŸã„ ï¼ˆ`tsx` ã‹ã‚‰ç½®ãæ›ãˆãŸã„ï¼‰  
  - ãƒã‚¤ãƒ†ã‚£ãƒ–ä¾å­˜ãŒå°‘ãªã„ï¼ˆã¾ãŸã¯ WASM ã§ä»£æ›¿ã§ãã‚‹ï¼‰  
- **NO / æ…é‡ã«**  
  - å¤§è¦æ¨¡ CI ã§ `--filter` ã«ã‚ˆã‚‹å·®åˆ†ãƒ“ãƒ«ãƒ‰ã‚’ãƒ•ãƒ«æ´»ç”¨ã—ã¦ã„ã‚‹  
  - Electron / React-Native / Serverless Lambda ãªã©ã€**Node ABI å‰æ**ã®ç’°å¢ƒã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ã—ã¦ã„ã‚‹  
  - lockfile ä¸€å…ƒç®¡ç†ãƒãƒªã‚·ãƒ¼ã‚’å³å¯†ã«æ•·ã„ã¦ã„ã‚‹

---

## ã¾ã¨ã‚

- **â€œpnpm ã§ installã€Bun ã§ runâ€** ã¯ **ä»Šã® Bun 2.x ãªã‚‰ååˆ†è©¦ã›ã‚‹é¸æŠè‚¢**ã€‚  
- ãŸã ã— **pnpm ã®ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½**ã¨**ãƒã‚¤ãƒ†ã‚£ãƒ–æ‹¡å¼µ**ãŒç¾åœ¨ã®ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã€‚ãã“ã‚’è¨±å®¹ã§ãã‚‹ã‹ãŒæ¡å¦ãƒã‚¤ãƒ³ãƒˆã€‚  
- ã¾ãšã¯ *ä¸€éƒ¨ã®é–‹ç™ºç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ* ã ã‘ Bun åŒ–ã—ã¦ä½“æ„Ÿã‚’æ¸¬ã‚Šã€å•é¡Œãªã‘ã‚Œã°æœ¬æ ¼ç§»è¡Œ or Turborepo å°å…¥ã‚’æ¤œè¨ã™ã‚‹ã€ã¨ã„ã†æ®µéšç§»è¡ŒãŒç¾å®Ÿçš„ã§ã™ã€‚  

ã€Œå®Ÿéš›ã« scripts ã‚’ã©ã†æ›¸ãæ›¿ãˆã‚Œã°ã„ã„ï¼Ÿã€ã‚„ã€ŒCI ã§ Node/Bun ã‚’ä½µç”¨ã™ã‚‹ YAMLã€ãªã©ã€ã•ã‚‰ã«è¸ã¿è¾¼ã‚“ã ã‚µãƒ³ãƒ—ãƒ«ãŒå¿…è¦ãªã‚‰é æ…®ãªãå£°ã‚’ã‹ã‘ã¦ãã ã•ã„ï¼

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/25 14:19:54*

å®Ÿè¡Œã®é †ç•ªã¨ã‹ä¸¦åˆ—æ€§ã¯&&ã¨ã‹ã§çµã¹ã‚Œã°ã†ã¾ãè§£æ±ºã§ãã‚‹ã‚“ã˜ã‚ƒãªã„ã®?ãªã‚“ã‹ãã“ãŒã‚ã‚“ã¾ã‚Šã‚ã‹ã£ã¦ãªã„ã‚“ã ã‘ã©ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/25 14:20:09*

### `&&` ã ã‘ã§ä¸¦åˆ—ãƒ»é †åºåˆ¶å¾¡ã¯ â€œå‹•ãâ€ ã‘ã‚Œã© â”€â”€ ãƒ¢ãƒãƒ¬ãƒè¦æ¨¡ãŒå¤§ãããªã‚‹ã¨ã™ãé™ç•ŒãŒæ¥ã‚‹ç†ç”±
`cmd1 && cmd2 && cmd3` ã¯ **ã€Œå‰ã®ã‚³ãƒãƒ³ãƒ‰ãŒ *æˆåŠŸçµ‚äº†* ã—ãŸã‚‰æ¬¡ã‚’å®Ÿè¡Œã€**ã¨ã„ã† **ç›´åˆ—** åˆ¶å¾¡ã—ã‹ã§ãã¾ã›ã‚“ã€‚  

- **ä¸¦åˆ—åŒ–** ã—ãŸã„ã¨ãã¯ `&` ã‚’ä»˜ã‘ã¦ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡Œã—ãŸã‚Šã€`concurrently` ãªã©ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’è‡ªå‰ã§çµ„ã¿åˆã‚ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã€  
  *ã©ã®é †ç•ªã§èµ·å‹•ã™ã‚‹ã‹* ã‚„ *å¤±æ•—ã—ãŸã‚‰å…¨éƒ¨è½ã¨ã™ã‹* ã¨ã„ã£ãŸãƒãƒªã‚·ãƒ¼ã‚’ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œè€…ãŒæ‰‹å‹•ã§è€ƒãˆã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚  
- **ä¾å­˜é †**ï¼ˆPackage A â†’ Package B ã®ã‚ˆã†ãªãƒ“ãƒ«ãƒ‰éšå±¤ï¼‰ã‚’å®ˆã‚ã†ã¨ã™ã‚‹ã¨ã€ç¾å®Ÿã«ã¯  
  ```bash
  cd packages/core && bun run build &&
  cd ../feature-a   && bun run build &&
  cd ../feature-b   && bun run build
  ```  
  â€¦ã®ã‚ˆã†ãªâ€œ*ç­‹ãƒˆãƒ¬* ã‹ *å†™çµŒ* ã‹â€ã¨ã„ã†çŠ¶æ…‹ã«ãªã‚ŠãŒã¡ã§ã™ã€‚

---

## ãƒ¢ãƒãƒ¬ãƒæŒ‡å‘ãƒ„ãƒ¼ãƒ«ãŒæä¾›ã—ã¦ã„ã‚‹ â€œè‡ªå‹•åŒ–â€ ãŒã“ã“ã§åŠ¹ã

| æ©Ÿèƒ½ | `&&` ã ã‘ã§è‡ªå‰å®Ÿè£… | **pnpm `--filter` / `-r`** | **Bun `--filter`** | **Turborepo** |
|---|---|---|---|---|
| **ä¾å­˜ã‚°ãƒ©ãƒ•é †ã«ä¸¦ã¹æ›¿ãˆ** | æ‰‹å‹• | è‡ªå‹•ã§ãƒˆãƒãƒ­ã‚¸ã‚«ãƒ«ã‚½ãƒ¼ãƒˆã—ã¦ãã‚Œã‚‹ îˆ€citeîˆ‚turn0search6îˆ | 2025-06 æ™‚ç‚¹ã§ã€Œå˜ç´”ãªãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè¡Œã€ãƒ¬ãƒ™ãƒ«ã€‚ä¾å­˜ã‚°ãƒ©ãƒ•ã¾ã§ã¯è¦‹ãªã„ îˆ€citeîˆ‚turn0search1îˆ | ä¾å­˜ã‚‚ã‚¿ã‚¹ã‚¯é–“å®£è¨€ã‚‚è§£æã—ã¦ãã‚Œã‚‹ îˆ€citeîˆ‚turn0search2îˆ |
| **ä¸¦åˆ—å®Ÿè¡Œ** | `&`/`concurrently` ã‚’è‡ªä½œ | `pnpm run build --parallel` ã§è‡ªå‹•ä¸¦åˆ—åŒ–ï¼ˆä¾å­˜ãŒç„¡ã„ç‰©ã ã‘ï¼‰ | `bun run --parallel` ã¯æœªå®Ÿè£… (å°†æ¥äºˆå®š) | *ä¾å­˜ã‚’æº€ãŸã—ã¤ã¤* æœ€å¤§ä¸¦åˆ—ã§å›ã™ îˆ€citeîˆ‚turn0search2îˆ |
| **å·®åˆ†ãƒ“ãƒ«ãƒ‰** | git è§£æã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è‡ªä½œ | ãªã—ï¼ˆæ¯å›å…¨éƒ¨ï¼‰ | ãªã— | å¤‰æ›´ã®ã‚ã£ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã ã‘å®Ÿè¡Œ (`turbo run build --filter=[origin/main...]`) îˆ€citeîˆ‚turn0search5îˆ |
| **ãƒªãƒ¢ãƒ¼ãƒˆï¼ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥** | è‡ªä½œ | ãªã— | ãªã— | âœ“ |
| **å¤±æ•—æ™‚ã®å·»ãæˆ»ã—/çµ‚äº†ã‚³ãƒ¼ãƒ‰ä¼æ’­** | æ‰‹å‹• | è‡ªå‹• | è‡ªå‹• | è‡ªå‹• (ä¾å­˜ã‚¿ã‚¹ã‚¯ã‚‚ã‚¹ã‚­ãƒƒãƒ—) |

### 1. `pnpm --filter` ãŒã‚„ã£ã¦ã„ã‚‹ã“ã¨
`pnpm --filter "*"` ã‚„ `pnpm -r build` ã¯ **ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ä¾å­˜é–¢ä¿‚ã‚’è§£æ**ã—ã€  
`core` â†’ `ui` â†’ `app` ã®ã‚ˆã†ã« *å¿…è¦ãªé †ç•ª* ã§ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æµã—ã¾ã™ã€‚ä¸¦åˆ—ãƒ•ãƒ©ã‚°ã‚’ä»˜ã‘ã‚‹ã¨ä¾å­˜é–¢ä¿‚ã®ãªã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯åŒæ™‚å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚îˆ€citeîˆ‚turn0search6îˆ‚turn0search9îˆ

### 2. Bun ã® `--filter`
Bun 2.x ã«ã‚‚ `--filter` ãŒã‚ã‚Šã¾ã™ãŒã€**ä¾å­˜ã‚°ãƒ©ãƒ•ã¯è¦‹ãš**ã€Œãƒ‘ã‚¿ãƒ¼ãƒ³ã«åˆã† packages ã¸åŒã˜ script ã‚’ *ä¸€æ°—ã«* æŠ•ã’ã‚‹ã€ã ã‘ã€‚  
ãƒˆãƒƒãƒ—ãƒ€ã‚¦ãƒ³é †åˆ¶å¾¡ã‚„å·®åˆ†å®Ÿè¡Œã¯ã¾ã è‡ªåŠ›ã§æ›¸ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚îˆ€citeîˆ‚turn0search1îˆ‚turn0search4îˆ

### 3. Turborepo ã®ã‚¿ã‚¹ã‚¯ã‚°ãƒ©ãƒ•
`turborepo` ã¯ `turbo.json` ã«  
```jsonc
{
  "pipeline": {
    "build": { "dependsOn": ["^build"], "outputs": ["dist/**"] },
    "lint":  {}
  }
}
```  
ã®ã‚ˆã†ã«**ã‚¿ã‚¹ã‚¯é–“ã®ä¾å­˜**ã‚’å®£è¨€ã—ã¦ãŠãã¨ã€**ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã® *packageâºtask* ã‚°ãƒ©ãƒ•**ã‚’çµ„ã¿ç«‹ã¦ã¦åŒæ™‚ä¸¦åˆ—ï¼‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä»˜ãã§å®Ÿè¡Œã—ã¾ã™ã€‚îˆ€citeîˆ‚turn0search2îˆ‚turn0search5îˆ

---

## ã˜ã‚ƒã‚ â€œ&& ã ã‘â€ ã§ã©ã“ã¾ã§è€ãˆã‚‰ã‚Œã‚‹ï¼Ÿ

### è¡Œã‘ã‚‹ã‚±ãƒ¼ã‚¹
- **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ•°ãŒ < 5-10 & ä¾å­˜ãŒæµ…ã„**  
- â€œå…¨éƒ¨é †ç•ªã« build â†’ test â†’ lintâ€ ã§ååˆ†  
- CI ã‚³ã‚¹ãƒˆã‚ˆã‚Š *ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¦‹ã¦ç†è§£ã§ãã‚‹å˜ç´”ã•* ã‚’é‡è¦–

### ã—ã‚“ã©ããªã‚‹ã‚±ãƒ¼ã‚¹
- **ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå±¤ãŒ 2 æ®µä»¥ä¸Š** â†’ ä¾å­˜é †ã‚’æ‰‹å‹•æ›´æ–°ã—å¿˜ã‚Œã¦ãƒ“ãƒ«ãƒ‰å¤±æ•—  
- **ä¸€éƒ¨ã ã‘ä¿®æ­£ã—ãŸã®ã«å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†ãƒ“ãƒ«ãƒ‰** â†’ CI æ™‚é–“ãŒæŒ‡æ•°é–¢æ•°çš„ã«å»¶ã³ã‚‹  
- å°†æ¥ **ãƒ†ã‚¹ãƒˆã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚µãƒ¼ãƒãƒ¼** ã‚’åŒæ™‚èµ·å‹•ã—ãŸã„ â†’ `concurrently` ãŒãƒã‚¹ãƒˆåœ°ç„  
- **èª°ã‹ãŒå…ˆã«è½ã¡ã¦ã‚‚æ®‹ã‚ŠãŒå‹•ãç¶šã‘ã‚‹**ï¼é€†ã« **å³åº§ã«å…¨ä½“åœæ­¢ã—ãŸã„** ãªã©ã€  
  ã‚¨ãƒ©ãƒ¼ä¼æ’­ãƒãƒªã‚·ãƒ¼ãŒãƒãƒ©ãƒãƒ©ã«ãªã‚‹

---

## å®Ÿè·µçš„ãªæŠ˜è¡·æ¡ˆ

1. **å°ï½ä¸­è¦æ¨¡æœŸ**  
   - ä¾å­˜ãŒæµ…ã„é–“ã¯ã‚·ãƒ³ãƒ—ãƒ«ã« `pnpm --filter`ï¼ˆã¾ãŸã¯ `&&`ï¼‰ï¼‹ `concurrently` ã§å›ã—ã¦ **ã¾ãšå‹•ãã‚‚ã®ã‚’æœ€é€Ÿã§ä½œã‚‹**ã€‚  
2. **ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒã¤ã‚‰ããªã£ã¦ããŸã‚‰**  
   - `pnpm --filter ... --parallel` ã«åˆ‡ã‚Šæ›¿ãˆã¦**é †ç•ªãƒ»ä¸¦åˆ—ã‚’ãƒ„ãƒ¼ãƒ«ã«å§”ã­ã‚‹**ã€‚  
3. **1 æ—¥ã‚ãŸã‚Šã® CI æ™‚é–“ãŒæ•°æ™‚é–“è¦æ¨¡ã«ãªã£ãŸã‚‰**  
   - `turbo run build --filter=[HEAD^...]` ã®ã‚ˆã†ã« **å·®åˆ† & ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥** ã‚’æœ¬æ ¼å°å…¥ã€‚  
   - ã“ã®æ®µéšã§ â€œå…¨éƒ¨ `&&` æ‰‹æ›¸ãâ€ ã¯ãƒ¡ãƒ³ãƒ†ä¸èƒ½ã«ãªã‚‹ã®ã§æ¨ã¦ã‚‹ã€‚

---

### ã¾ã¨ã‚
- **`&&` ã¯ã€ŒæˆåŠŸã—ãŸã‚‰æ¬¡ã¸ã€ã®ä¸€æœ¬é–ã€‚** ä¸¦åˆ—ã‚‚å·®åˆ†ã‚‚ä¾å­˜é †ã‚‚è‡ªå‰ã§æ›¸ããªã‚‰å¯èƒ½ã ãŒã€ã™ãã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒã‚¹ãƒ‘ã‚²ãƒƒãƒ†ã‚£åŒ–ã™ã‚‹ã€‚  
- **pnpm `--filter` ã¯ â€œä¾å­˜ã‚°ãƒ©ãƒ•ã‚’èª­ã‚“ã§ãã‚Œã‚‹ makeâ€ çš„å­˜åœ¨**ã€‚  
- **Bun ã® `--filter` ã¯ã¾ã ãŠæ‰‹è»½ãƒãƒƒãƒå®Ÿè¡Œãƒ¬ãƒ™ãƒ«**ã€‚ã‚°ãƒ©ãƒ•ã¯è¦‹ãªã„ã€‚  
- **Turborepo ã¯ã€Œä¸¦åˆ— + ä¾å­˜ + ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€ã¾ã§å…¨éƒ¨è‡ªå‹•**ã€‚ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ãã‚ˆã‚Š JSON ã§å®£è¨€ã™ã‚‹ç™ºæƒ³ã€‚  

> **è¿·ã£ãŸã‚‰**  
> ã¾ãš `pnpm -r build --parallel` ã‚’è©¦ã—ã¦ã€Œè‡ªåŠ›ã§ `&&` ã‚’æ›¸ãè¶³ã™ã‚ˆã‚Šé€Ÿã„ã—æ¥½ã ã€ã¨æ„Ÿã˜ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ã®ãŒãŠã™ã™ã‚ã§ã™ã€‚ãã®ä¸Šã§ â€œã‚‚ã£ã¨é€Ÿãï¼å·®åˆ†ã ã‘â€ ãŒå¿…è¦ã«ãªã£ãŸæ™‚ç‚¹ã§ Turborepo ã¸ã‚¹ãƒ†ãƒƒãƒ—ã‚¢ãƒƒãƒ—ã™ã‚‹ã¨ã€å­¦ç¿’ã‚³ã‚¹ãƒˆã‚’æ®µéšçš„ã«åˆ†æ•£ã§ãã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/25 14:24:02*

ã“ã‚Œã£ã¦ã‚‚ã—ã‹ã—ã¦ä½¿ã„æ–¹é–“é•ã£ã¦ã‚‹? 

{
  "name": "hono-learning",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "packageManager": "pnpm@10.12.1",
  "engines": {
    "node": "&gt;=24",
    "pnpm": "&gt;=10.12"
  },
  "scripts": {
    "// ğŸš€ é–‹ç™ºãƒ»å®Ÿè¡Œ": "",
    "dev": "pnpm kill && pnpm -r --parallel --if-present dev",
    "dev:mock": "pnpm kill && concurrently \"pnpm dev:server:mock\" \"pnpm dev:web:mock\"",
    "dev:server": "pnpm --filter @myapp/server dev",
    "dev:server:mock": "pnpm --filter @myapp/web-client dev:server:mock",
    "dev:web": "pnpm --filter @myapp/web-client dev",
    "dev:web:mock": "pnpm --filter @myapp/web-client dev:web:mock",
    "dev:web:storybook": "pnpm --filter @myapp/web-client dev:storybook",
    "kill": "for p in 3000 5173 4010 5555 6006; do lsof -ti :$p | xargs kill -9 2&gt;/dev/null || true; done && echo 'âœ… Killed processes on ports 3000, 5173, 4010, 5555, and 6006'",
    "// ğŸ—ï¸ ãƒ“ãƒ«ãƒ‰": "",
    "build": "echo 'ğŸ—ï¸  Building all packages...' && pnpm -r build && echo 'âœ… Build completed!' || (echo 'ğŸŒ€ Build failed!' && exit 1)",
    "build:api": "pnpm --filter @myapp/api-client build",
    "build:database": "pnpm --filter @myapp/database build",
    "build:server": "pnpm --filter @myapp/server build",
    "build:shared": "pnpm --filter @myapp/shared build",
    "build:web": "pnpm --filter @myapp/web-client build",
    "// ğŸ” å‹ãƒã‚§ãƒƒã‚¯": "",
    "typecheck": "echo 'ğŸ“ Running type check...' && pnpm -r --parallel typecheck && echo 'âœ… Type check passed!' || (echo 'ğŸŒ€ Type check failed!' && exit 1)",
    "typecheck:api": "pnpm --filter @myapp/api-client typecheck",
    "typecheck:database": "pnpm --filter @myapp/database typecheck",
    "typecheck:server": "pnpm --filter @myapp/server typecheck",
    "typecheck:shared": "pnpm --filter @myapp/shared typecheck",
    "typecheck:web": "pnpm --filter @myapp/web-client typecheck",
    "// ğŸ§¹ ãƒªãƒ³ãƒˆ": "",
    "lint": "echo 'ğŸ” Running linter...' && biome check . && echo 'âœ… Lint passed!' || (echo 'ğŸŒ€ Lint failed!' && exit 1)",
    "lint:fix": "echo 'ğŸ”§ Fixing lint issues...' && biome check . --write && echo 'âœ… Lint fix completed!' || (echo 'ğŸŒ€ Lint fix failed!' && exit 1)",
    "lint:fix:unsafe": "echo 'âš ï¸  Fixing lint issues (unsafe)...' && biome check --write --unsafe && echo 'âœ… Lint fix completed!' || (echo 'ğŸŒ€ Lint fix failed!' && exit 1)",
    "// ğŸ§ª ãƒ†ã‚¹ãƒˆ": "",
    "test": "echo 'ğŸ§ª Running tests across all packages...' && pnpm -r --parallel test && echo 'âœ… All tests passed!' || (echo 'ğŸŒ€ Some tests failed!' && exit 1)",
    "test:ci": "echo 'ğŸ§ª Running tests (excluding Storybook tests)...' && vitest run && echo 'âœ… All tests passed!' || (echo 'ğŸŒ€ Some tests failed!' && exit 1)",
    "vitest:ui": "vitest --ui",
    "vitest:coverage": "vitest run --coverage",
    "vitest:coverage:ui": "vitest --ui --coverage",
    "// ğŸ§ª ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åˆ¥ãƒ†ã‚¹ãƒˆï¼ˆå¿…è¦æ™‚ã®ã¿ï¼‰": "",
    "test:api": "pnpm --filter @myapp/api-client test",
    "test:database": "pnpm --filter @myapp/database test",
    "test:server": "pnpm --filter @myapp/server test",
    "test:shared": "pnpm --filter @myapp/shared test",
    "test:web": "pnpm --filter @myapp/web-client test",
    "test:web:unit": "pnpm --filter @myapp/web-client test:unit",
    "test:web:storybook": "pnpm --filter @myapp/web-client test:storybook",
    "// ğŸ¨ Storybookãƒ†ã‚¹ãƒˆ": "",
    "// ğŸ¯ E2Eãƒ»ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ†ã‚¹ãƒˆ": "",
    "test:e2e": "echo 'âš ï¸  E2Eãƒ†ã‚¹ãƒˆã¯ã—ã°ã‚‰ãå®Ÿè£…äºˆå®šã¯ã‚ã‚Šã¾ã›ã‚“' && exit 0",
    "test:e2e:ui": "echo 'âš ï¸  E2Eãƒ†ã‚¹ãƒˆã¯ã—ã°ã‚‰ãå®Ÿè£…äºˆå®šã¯ã‚ã‚Šã¾ã›ã‚“' && exit 0",
    "test:visual": "echo 'âš ï¸  ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ†ã‚¹ãƒˆã¯ã—ã°ã‚‰ãå®Ÿè£…äºˆå®šã¯ã‚ã‚Šã¾ã›ã‚“' && exit 0",
    "test:visual:update": "echo 'âš ï¸  ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ†ã‚¹ãƒˆã¯ã—ã°ã‚‰ãå®Ÿè£…äºˆå®šã¯ã‚ã‚Šã¾ã›ã‚“' && exit 0",
    "// ğŸ”„ ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ": "",
    "codegen": "echo 'ğŸ”„ Generating code...' && pnpm build:shared && pnpm codegen:database && pnpm build:database && pnpm codegen:server && echo 'âœ… Code generation completed!' || (echo 'ğŸŒ€ Code generation failed!' && exit 1)",
    "codegen:database": "pnpm --filter @myapp/database db:generate",
    "codegen:server": "pnpm --filter @myapp/server openapi:generate && pnpm --filter @myapp/api-client openapi:generate",
    "// âœ… çµ±åˆæ¤œè¨¼": "",
    "preverify": "pnpm lint:fix",
    "verify": "echo 'ğŸš€ Starting verification...' && pnpm codegen && echo 'âœ… Codegen done' && pnpm lint && echo 'âœ… Lint done' && pnpm build && echo 'âœ… Build done' && pnpm typecheck && echo 'âœ… Typecheck done' && pnpm test && echo 'ğŸ‰ All steps completed!' || (echo 'ğŸŒ€ Verification failed!' && exit 1)",
    "verify:quiet": "pnpm verify 2&gt;&1 | grep -E '(Error|Failed|âœ—|FAIL|error:|warning:)' || echo 'âœ… All checks passed'",
    "verify:api": "pnpm --filter @myapp/api-client verify",
    "verify:shared": "pnpm --filter @myapp/shared verify",
    "verify:database": "pnpm --filter @myapp/database verify",
    "verify:server": "pnpm --filter @myapp/server verify",
    "verify:web": "pnpm --filter @myapp/web-client verify",
    "// ğŸ³ Dockerç®¡ç†": "",
    "docker:up": "docker compose up -d postgres",
    "docker:down": "docker compose down",
    "docker:restart": "docker compose restart postgres",
    "docker:logs": "docker compose logs -f postgres",
    "docker:clean": "docker compose down -v",
    "// ğŸ”„ DB ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³": "",
    "db:migrate:auto": "pnpm --filter @myapp/database db:migrate:auto",
    "db:migrate:check": "pnpm --filter @myapp/database db:migrate:check",
    "// ğŸ”§ æ¤œè¨¼ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³": "",
    "validate:renovate": "npx --yes --package renovate -- renovate-config-validator --strict",
    "validate:renovate:changed": "git diff --cached --name-only | grep -q renovate.json5 && pnpm validate:renovate || echo 'renovate.json5 unchanged, skipping validation'",
    "validate:prisma": "pnpm --filter @myapp/database db:validate",
    "validate:prisma:changed": "git diff --cached --name-only | grep -E '(schema\\.prisma|packages/database/)' && pnpm validate:prisma || echo 'Prisma files unchanged, skipping validation'",
    "validate:openapi": "pnpm --filter @myapp/server openapi:validate && pnpm --filter @myapp/api-client openapi:validate",
    "validate:openapi:changed": "git diff --cached --name-only | grep -q 'openapi\\.yaml' && pnpm validate:openapi || echo 'OpenAPI files unchanged, skipping validation'",
    "validate:all": "pnpm validate:renovate && pnpm validate:prisma && pnpm validate:openapi",
    "// ğŸ” ãƒ‡ãƒƒãƒ‰ã‚³ãƒ¼ãƒ‰æ¤œå‡º": "",
    "knip:check": "knip -c knip/knip.config.ts --reporter markdown",
    "knip:check:minimal": "knip -c knip/knip.minimal.config.ts --reporter markdown",
    "knip:report": "knip -c knip/knip.config.ts --reporter markdown &gt; knip/knip-report.md",
    "knip:report:minimal": "knip -c knip/knip.minimal.config.ts --reporter markdown &gt; knip/knip-minimal-report.md",
    "knip:fix": "knip -c knip/knip.config.ts --fix",
    "// ğŸ”‘ ç’°å¢ƒå¤‰æ•°": "",
    "// ğŸ” ç’°å¢ƒå¤‰æ•°ï¼ˆ.env ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼‰": "",
    "env:local": "npx dotenvx decrypt -f dotenvx/.env.local -fk .env.keys --stdout &gt; .env",
    "env:test": "npx dotenvx decrypt -f dotenvx/.env.test -fk .env.keys --stdout &gt; .env",
    "env:dev": "npx dotenvx decrypt -f dotenvx/.env.dev -fk .env.keys --stdout &gt; .env",
    "env:stg": "npx dotenvx decrypt -f dotenvx/.env.stg -fk .env.keys --stdout &gt; .env",
    "env:prod": "npx dotenvx decrypt -f dotenvx/.env.prod -fk .env.keys --stdout &gt; .env",
    "// ğŸ” ç’°å¢ƒå¤‰æ•°ï¼ˆãƒ¡ãƒ¢ãƒªå†…å‡¦ç†ï¼‰": "",
    "env:with:local": "npx dotenvx run -f dotenvx/.env.local -fk .env.keys --",
    "env:with:test": "npx dotenvx run -f dotenvx/.env.test -fk .env.keys --",
    "env:with:dev": "npx dotenvx run -f dotenvx/.env.dev -fk .env.keys --",
    "env:with:stg": "npx dotenvx run -f dotenvx/.env.stg -fk .env.keys --",
    "env:with:prod": "npx dotenvx run -f dotenvx/.env.prod -fk .env.keys --",
    "// ğŸ” ç’°å¢ƒå¤‰æ•°ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã€CIï¼‰": "",
    "env:ci:local": "DOTENV_PRIVATE_KEY_LOCAL=$DOTENV_PRIVATE_KEY_LOCAL npx dotenvx decrypt -f dotenvx/.env.local --stdout &gt; .env",
    "env:ci:test": "DOTENV_PRIVATE_KEY_TEST=$DOTENV_PRIVATE_KEY_TEST npx dotenvx decrypt -f dotenvx/.env.test --stdout &gt; .env",
    "env:ci:dev": "DOTENV_PRIVATE_KEY_DEV=$DOTENV_PRIVATE_KEY_DEV npx dotenvx decrypt -f dotenvx/.env.dev --stdout &gt; .env",
    "env:ci:stg": "DOTENV_PRIVATE_KEY_STG=$DOTENV_PRIVATE_KEY_STG npx dotenvx decrypt -f dotenvx/.env.stg --stdout &gt; .env",
    "env:ci:prod": "DOTENV_PRIVATE_KEY_PROD=$DOTENV_PRIVATE_KEY_PROD npx dotenvx decrypt -f dotenvx/.env.prod --stdout &gt; .env",
    "// ğŸ” ç’°å¢ƒå¤‰æ•°ï¼ˆãƒ¡ãƒ¢ãƒªå†…å‡¦ç†ã€CIï¼‰": "",
    "env:ci:with:local": "DOTENV_PRIVATE_KEY_LOCAL=$DOTENV_PRIVATE_KEY_LOCAL npx dotenvx run -f dotenvx/.env.local --",
    "env:ci:with:test": "DOTENV_PRIVATE_KEY_TEST=$DOTENV_PRIVATE_KEY_TEST npx dotenvx run -f dotenvx/.env.test --",
    "env:ci:with:dev": "DOTENV_PRIVATE_KEY_DEV=$DOTENV_PRIVATE_KEY_DEV npx dotenvx run -f dotenvx/.env.dev --",
    "env:ci:with:stg": "DOTENV_PRIVATE_KEY_STG=$DOTENV_PRIVATE_KEY_STG npx dotenvx run -f dotenvx/.env.stg --",
    "env:ci:with:prod": "DOTENV_PRIVATE_KEY_PROD=$DOTENV_PRIVATE_KEY_PROD npx dotenvx run -f dotenvx/.env.prod --",
    "// ğŸ” ç’°å¢ƒå¤‰æ•°ï¼ˆè¡¨ç¤ºã€ãƒ†ã‚¹ãƒˆï¼‰": "",
    "env:show": "echo '=== .env.local ===' && npx dotenvx decrypt -f dotenvx/.env.local -fk .env.keys --stdout 2&gt;/dev/null && echo '\n=== .env.test ===' && npx dotenvx decrypt -f dotenvx/.env.test -fk .env.keys --stdout 2&gt;/dev/null && echo '\n=== .env.dev ===' && npx dotenvx decrypt -f dotenvx/.env.dev -fk .env.keys --stdout 2&gt;/dev/null && echo '\n=== .env.stg ===' && npx dotenvx decrypt -f dotenvx/.env.stg -fk .env.keys --stdout 2&gt;/dev/null && echo '\n=== .env.prod ===' && npx dotenvx decrypt -f dotenvx/.env.prod -fk .env.keys --stdout 2&gt;/dev/null",
    "env:validate": "pnpm --filter @myapp/shared test:env && echo 'âœ… Environment validation passed!' || (echo 'âš ï¸ Environment validation failed!' && exit 1)",
    "// ğŸ§¹ ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—": "",
    "clean": "pnpm kill && find . -name 'dist' -type d -not -path './node_modules/*' -exec rm -rf {} + && find . -path '*/src/generated' -type d -not -path './node_modules/*' -exec rm -rf {} + && find . -name '*.tsbuildinfo' -type f -not -path './node_modules/*' -exec rm -f {} +",
    "clean:build": "pnpm clean && pnpm codegen && pnpm build",
    "clean:install": "pnpm clean && rm -rf node_modules && pnpm install",
    "// ğŸ“¦ ä¾å­˜é–¢ä¿‚ç®¡ç†": "",
    "deps:check": "pnpm outdated -r",
    "deps:update": "pnpm update -r --latest",
    "deps:audit": "pnpm audit --audit-level moderate",
    "// ğŸš¦ Git Hooks": "",
    "prepare": "husky",
    "// ğŸ“‹ ãƒªãƒªãƒ¼ã‚¹ç®¡ç†": "",
    "changelog": "git-cliff --output CHANGELOG.md"
  },
  "devDependencies": {
    "@biomejs/biome": "2.0.0",
    "@commitlint/cli": "19.8.1",
    "@commitlint/config-conventional": "19.8.1",
    "@dotenvx/dotenvx": "1.44.2",
    "@playwright/test": "1.53.1",
    "@types/node": "24.0.3",
    "@vitest/coverage-v8": "3.2.4",
    "@vitest/ui": "3.2.4",
    "concurrently": "9.1.2",
    "dotenv-cli": "8.0.0",
    "git-cliff": "2.9.1",
    "husky": "9.1.7",
    "knip": "5.61.2",
    "typescript": "5.8.3",
    "vitest": "3.2.4"
  }
}

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/25 14:24:32*

ä»¥ä¸‹ã® `package.json` ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯**æ¦‚ã­æ­£ã—ãå‹•ã**æ§‹æˆã§ã™ãŒã€  
ã€Œpnpm æœ¬æ¥ã®æ©Ÿèƒ½ã‚’ãƒ•ãƒ«ã«æ´»ã‹ã—åˆ‡ã‚Œã¦ã„ãªã„ï¼å°†æ¥ãƒãƒã‚Šãã†ã€ãªãƒã‚¤ãƒ³ãƒˆãŒã„ãã¤ã‹è¦‹ãˆã¾ã™ã€‚  
ä¿®æ­£ã®å„ªå…ˆåº¦ãŒé«˜ã„é †ã«ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã¨æ”¹å–„æ¡ˆã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚  

---

## 1. `--parallel` ã®ä½¿ã„æ–¹ â”€â”€ ä¾å­˜ã‚°ãƒ©ãƒ•ãŒç„¡è¦–ã•ã‚Œã‚‹

```jsonc
"dev":   "pnpm kill && pnpm -r --parallel --if-present dev",
"typecheck": "pnpm -r --parallel typecheck",
"test":  "pnpm -r --parallel test",
```

- `pnpm -r`ï¼ˆï¼ recursiveï¼‰ã ã‘ã ã¨ã€**ä¾å­˜é–¢ä¿‚ã‚’ãƒˆãƒãƒ­ã‚¸ã‚«ãƒ«ã‚½ãƒ¼ãƒˆ**ã—ã¦å®‰å…¨ãªé †ã§å›ã‚Šã¾ã™ã€‚îˆ€citeîˆ‚turn0search3îˆ  
- ã¨ã“ã‚ãŒ `--parallel` ã‚’ä»˜ã‘ãŸç¬é–“ã« **ãã®é †åºä»˜ã‘ãŒå®Œå…¨ã«ç„¡è¦–** ã•ã‚Œã€ã™ã¹ã¦åŒæ™‚èµ·å‹•ã«ãªã‚Šã¾ã™ã€‚îˆ€citeîˆ‚turn0search12îˆ  

### âœ”ï¸ æ¨å¥¨
- **ãƒ“ãƒ«ãƒ‰ãƒ»å‹ãƒã‚§ãƒƒã‚¯ãƒ»ãƒ†ã‚¹ãƒˆ**ãªã©ä¾å­˜é †ã‚’å®ˆã‚ŠãŸã„å·¥ç¨‹ â†’ `--parallel` ã‚’å¤–ã™ã€ã‚‚ã—ãã¯ `--filter ... --parallel` ã§ *ä¾å­˜é–¢ä¿‚ãŒç„¡ã„* ã‚µãƒ–ã‚»ãƒƒãƒˆã ã‘ä¸¦åˆ—åŒ–ã€‚  
  ```bash
  pnpm -r typecheck                       # ä¾å­˜é †ã‚’ä¿ã¤
  pnpm --filter "{./packages/*}" --parallel dev   # watcher ã ã‘ä¸¦åˆ—
  ```

---

## 2. `--filter` ã®ä½ç½®ã¨æ›¸å¼

```jsonc
"dev:server":      "pnpm --filter @myapp/server dev",
"dev:server:mock": "pnpm --filter @myapp/web-client dev:server:mock",
```

- ãƒ•ãƒ©ã‚°ã¯ **ã‚³ãƒãƒ³ãƒ‰ã‚ˆã‚Šå‰** ã«ç½®ãã®ãŒå…¬å¼æ¨å¥¨ã€‚  
  `pnpm --filter <pkg> run dev` ã‚‚ã—ãã¯ `pnpm -F <pkg> dev` ãŒå®‰å…¨ã§ã™ã€‚  
  æœ«å°¾ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆåã ã‘æ›¸ãã‚¹ã‚¿ã‚¤ãƒ«ã¯ã€Œã¾ã‚Œã«å¼•æ•°è§£é‡ˆãŒãšã‚Œã‚‹ã€æ—¢çŸ¥ issue ãŒã‚ã‚Šã€é¿ã‘ãŸæ–¹ãŒç„¡é›£ã§ã™ã€‚îˆ€citeîˆ‚turn0search2îˆ
- `dev:server:mock` ã§ **web-client ã‚’ filter ã—ã¦ã„ã‚‹** ã®ã¯ã‚¿ã‚¤ãƒç–‘ã„ã€‚ã‚µãƒ¼ãƒãƒ¼å´ã®ãƒ¢ãƒƒã‚¯ãªã‚‰ `@myapp/server` ã«åˆã‚ã›ã‚‹ã¹ãã€‚

---

## 3. `&& ... || ...` ãƒã‚§ãƒ¼ãƒ³ã®è«–ç†

ä¾‹ï¼š  

```jsonc
"build": "echo 'ğŸ—ï¸  Building all packages...' && pnpm -r build && echo 'âœ… Build completed!' || (echo 'ğŸŒ€ Build failed!' && exit 1)"
```

ã‚·ã‚§ãƒ«ã§ã¯  
`a && b && c || d`  
ã¨æ›¸ãã¨ **a / b / c ã®ã©ã‚Œã‹ãŒå¤±æ•—ã—ãŸæ™‚ã ã‘ d ãŒå®Ÿè¡Œ** ã•ã‚Œã‚‹ã®ã§ä¸€è¦‹ OK ã§ã™ãŒã€  
- **æœ€å¾Œã«æˆåŠŸã—ãŸã‚³ãƒãƒ³ãƒ‰ã® exit code ãŒè¿”ã‚‹** ãŸã‚ã€CI ã§æ­£ã—ãå¤±æ•—ã‚’æ¤œçŸ¥ã§ããªã„ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ï¼ˆ`d` ãŒæˆåŠŸæ‰±ã„ã«ãªã‚‹ï¼‰ã€‚  
- POSIX ç’°å¢ƒãŒå‰æã§ **Windows CMD ã§ã¯å‹•ãã¾ã›ã‚“**ã€‚

### âœ”ï¸ æ¨å¥¨
- `pnpm` ãŒå¤±æ•—ã—ãŸæ™‚ç‚¹ã§æ­¢ã‚ãŸã„ãªã‚‰ã€ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã—ã¦ `set -euo pipefail` ã‚’ä½¿ã†ã‹ã€å˜ã«  
  ```jsonc
  "build": "pnpm -r build"
  ```  
  ã«ã—ã¦ **çµ‚äº†ã‚³ãƒ¼ãƒ‰ã¯ pnpm ã«ä»»ã›ã‚‹** æ–¹ãŒå®‰å…¨ã€‚

---

## 4. é‡è¤‡ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®æ•´ç† â€•â€• `-r`ï¼`--filter` ï¼‹ `--if-present`

```jsonc
"build:server": "pnpm --filter @myapp/server build",
"build:web":    "pnpm --filter @myapp/web-client build",
...
```

- ã“ã†ã—ãŸ â€œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åˆ¥â€ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ **æ¼”ç®—å­ä»˜ã filter** ã§ 1 è¡Œã«é›†ç´„å¯èƒ½ï¼š  
  ```bash
  pnpm --filter "@myapp/{server,web-client}" run build
  ```
- watch ç³»ä»¥å¤–ã¯ `--if-present` ã‚’ä»˜ã‘ã‚‹ã¨ **ã€Œå¯¾è±¡ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒç„¡ã‘ã‚Œã°ã‚¹ã‚­ãƒƒãƒ—ã€** ã§ãã€æ¨ªå±•é–‹ã—ã‚„ã™ããªã‚Šã¾ã™ã€‚

---

## 5. `pnpm kill` ãªã©è£œåŠ©ãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—

```jsonc
"dev:mock": "pnpm kill && concurrently \"pnpm dev:server:mock\" \"pnpm dev:web:mock\"",
```

- `concurrently` ã®ä»£ã‚ã‚Šã« **pnpm v8 ä»¥é™ã® `pnpm exec concurrently`** ã‚’ä½¿ãˆã°ã‚°ãƒ­ãƒ¼ãƒãƒ«ä¾å­˜ä¸è¦ã€‚  
- ãƒãƒ¼ãƒˆ kill ã¯ [`kill-port`](https://github.com/tiaanduplessis/kill-port) ã‚’ä½¿ã†ã¨ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ï¼†1 è¡Œã«ã€‚

---

## 6. CI ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ„è­˜ã—ãŸãƒ•ãƒ©ã‚°

- **ãƒ­ã‚°è‚¥å¤§åŒ–ãŒã¤ã‚‰ã„** â†’ `pnpm -r --parallel --aggregate-output <script>` ã§ *å­ãƒ—ãƒ­ã‚»ã‚¹ã®çµ‚äº†å¾Œã«ã¾ã¨ã‚ã¦å‡ºåŠ›* ãŒå¯èƒ½ã€‚îˆ€citeîˆ‚turn0search1îˆ  
- **CPU ã‚’é£½å’Œã•ã›ã‚‹** â†’ `--workspace-concurrency=<num>` ã§ä¸¦åˆ—æ•°ã‚’åˆ¶å¾¡ã€‚

---

## 7. æœ€å°ã‚µãƒ³ãƒ—ãƒ« â€• æ”¹å–„ç‰ˆã‚¹ã‚¯ãƒªãƒ—ãƒˆæ–­ç‰‡

```jsonc
{
  "scripts": {
    "dev": "pnpm kill && pnpm -r --if-present dev",              // ä¾å­˜é †ã‚’å®ˆã‚‹
    "dev:fast": "pnpm kill && pnpm --filter ./packages/* --parallel dev", // å˜ç´”ãª watcher ã ã‘ä¸¦åˆ—
    "build": "pnpm -r build",                                    // å¤±æ•—æ™‚ã¯ pnpm ãŒ exit 1
    "typecheck": "pnpm -r typecheck",                            // ä¾å­˜é †ã‚­ãƒ¼ãƒ—
    "test": "pnpm -r --parallel test --aggregate-output",        // ãƒ­ã‚°ã¾ã¨ã‚
    "dev:server": "pnpm -F @myapp/server run dev",
    "dev:server:mock": "pnpm -F @myapp/server run dev:mock",     // â† filter ä¿®æ­£
    "dev:web": "pnpm -F @myapp/web-client run dev",
    "dev:web:mock": "pnpm -F @myapp/web-client run dev:mock"
  }
}
```

---

## ã¾ã¨ã‚

| åŒºåˆ† | ã™ãç›´ã™ã¨åŠ¹æœå¤§ | å„ªå…ˆåº¦ |
|------|-----------------|--------|
| `--parallel` ã®ä¹±ç”¨ã‚’ã‚„ã‚ã€ä¾å­˜é †ãŒå¿…è¦ãªã‚¸ãƒ§ãƒ–ã§ã¯å¤–ã™ | â˜…â˜…â˜… |
| `--filter` ã¯ã‚³ãƒãƒ³ãƒ‰å‰ã«ç½®ãã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆåã¯ `run` ã§æ˜ç¤º | â˜…â˜…â˜† |
| ã‚¿ã‚¤ãƒ (`dev:server:mock` ã®å¯¾è±¡ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸) ä¿®æ­£ | â˜…â˜…â˜† |
| `&& â€¦ || â€¦` é€£é–ã‚ˆã‚Š `pnpm` ã® exit code ã‚’ãã®ã¾ã¾ä½¿ã† | â˜…â˜…â˜† |
| é‡è¤‡ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ãƒ•ã‚£ãƒ«ã‚¿ã®ã‚»ãƒƒãƒˆæŒ‡å®šã§é›†ç´„ | â˜…â˜†â˜† |

ã“ã‚Œã‚‰ã‚’æ•´ãˆã‚‹ã¨ **ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒ 30 % ã»ã©æ¸›ã‚Šã€CI ã®ä¿¡é ¼æ€§ã‚‚å‘ä¸Š** ã—ã¾ã™ã€‚  
ã‚‚ã—å…·ä½“çš„ã«ã€Œã©ã®å·¥ç¨‹ã§é…ã„ï¼è½ã¡ã‚‹ã€ã‚’æ´—ã„å‡ºã—ãŸã„å ´åˆã¯ã€`pnpm --reporter ndjson` ã§ãƒ­ã‚°ã‚’å–ã£ã¦å¯è¦–åŒ–ã™ã‚‹ã¨åŸå› è¿½è·¡ãŒæ¥½ã«ãªã‚Šã¾ã™ã‚ˆã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/25 14:27:35*

ã§ã‚‚ãƒ‘ãƒ©ãƒ¬ãƒ«ã—ãŸæ–¹ãŒæ—©ã„ã‚“ã˜ã‚ƒãªã„ã®? --parallel

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/25 14:27:41*

### â€œé€Ÿã‘ã‚Œã°æ­£ç¾©â€ ã¯åŠåˆ†æ­£ã—ã„  
`--parallel` ã‚’ä»˜ã‘ã‚‹ã¨ **ç¢ºã‹ã«é€Ÿããªã‚‹ã‚±ãƒ¼ã‚¹ã¯ã‚ã‚‹** ã®ã§ã™ãŒã€  
- **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é–“ã«ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹å·¥ç¨‹**ï¼ˆbuild / typecheck ãªã©ï¼‰ã¯ **é€†ã«ãƒªãƒˆãƒ©ã‚¤å›æ•°ãŒå¢—ãˆã¦é…ããªã‚‹ã‹ã€å¤±æ•—ã§æ­¢ã¾ã‚‹**  
- **CPU ã‚’é£Ÿã„åˆã†ã‚¿ã‚¹ã‚¯ã‚’å…¨éƒ¨ä¸¦åˆ—**ã«ã™ã‚‹ã¨ **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ç«¶åˆã§ 100 %â†’90 % ãã‚‰ã„ã¾ã§å®ŸåŠ¹ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆãŒè½ã¡ã‚‹**  
ã¨ã„ã£ãŸå‰¯ä½œç”¨ã‚‚å‡ºã¾ã™ã€‚

---

## 1. `--parallel` ãŒä½•ã‚’ã™ã‚‹ã‹

| ãƒ•ãƒ©ã‚° | å‹•ã | ä¾å­˜ã‚°ãƒ©ãƒ•é †åº | å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |
|-------|------|---------------|------------------|
| _ãªã—_ | æ·±ã„ä¾å­˜ã‹ã‚‰é †ã«1ã¤ãšã¤å®Ÿè¡Œ | **å®ˆã‚‹** | pnpm ã¯ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ä¾å­˜ã‚’ãƒˆãƒãƒ­ã‚¸ã‚«ãƒ«ã‚½ãƒ¼ãƒˆã—ã¦å›ã™îˆ€citeîˆ‚turn0search4îˆ |
| `--parallel` | **å…¨éƒ¨åŒæ™‚ã«å®Ÿè¡Œ** | **ç„¡è¦–ã™ã‚‹** | ã€Œå®Œå…¨ã«ãƒˆãƒãƒ­ã‚¸ãƒ¼ã‚’ç„¡è¦–ã™ã‚‹ã€ ã¨æ˜è¨˜îˆ€citeîˆ‚turn0search7îˆ |

ã¤ã¾ã‚Š **ç‹¬ç«‹ã‚¸ãƒ§ãƒ–ï¼ˆdev ã‚µãƒ¼ãƒãƒ¼ã® watchã€lintã€ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ â€¦ï¼‰ã«ã¯åŠ¹æœå¤§**  
ã§ã™ãŒ **buildãƒ»å‹ãƒã‚§ãƒƒã‚¯ã®ã‚ˆã†ã« â€œä¸‹ä½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸â†’ä¸Šä½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸â€ ã‚’å¿…ãšè¸ã‚€ã¹ãå·¥ç¨‹** ã§ã¯å±é™ºã§ã™ã€‚

---

## 2. å®Ÿæ¸¬ã§ã‚ã‚ŠãŒã¡ãªãƒ‘ã‚¿ãƒ¼ãƒ³

| ã‚±ãƒ¼ã‚¹ | ç¾è±¡ | åŸå›  |
|--------|------|------|
| **TypeScript build ãŒ 2 Ã—â†’3 Ã— é…ã** | CPU ãŒ 100 % ã§é£½å’Œã—ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ¸ˆã¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å¥ªã„åˆã† | åŒã˜ `*.d.ts` ã‚’å„ãƒ—ãƒ­ã‚»ã‚¹ãŒåŒæ™‚ã«èª­ã‚€ï¼‹I/O ç«¶åˆ |
| **`pnpm -r build --parallel` ã§ 1â€Š/â€Š4 ã®ç¢ºç‡ã§å¤±æ•—** | ä¸Šä½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒä¸‹ä½ã® `dist/` ã‚’èª­ã¿ã«è¡Œã£ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã¾ã ç”Ÿæˆã•ã‚Œã¦ã„ãªã„ | é †åºç„¡è¦– |
| **CI ã ã‘é…ã„ / è½ã¡ã‚‹** | ãƒ­ãƒ¼ã‚«ãƒ« 8C/16T â†’ CI 2C/4T | ä¸¦åˆ—æ•°å›ºå®šã§ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ |

---

## 3. ã‚¹ãƒ”ãƒ¼ãƒ‰ã¨å®‰å…¨æ€§ã‚’ä¸¡ç«‹ã™ã‚‹å®Ÿç”¨ãƒ•ãƒ©ã‚°ã‚»ãƒƒãƒˆ

1. **ä¾å­˜ã‚°ãƒ©ãƒ•é †ï¼‹ä¸¦åˆ—**  
   ```bash
   pnpm -r --filter ./packages/* run build        # é †åºä»˜ã
   pnpm --workspace-concurrency=4 -r run build    # â†‘ ã‚’æœ€å¤§ 4 ä¸¦åˆ— (pnpm 8.11+)
   ```
   *é †åºã¯å®ˆã£ãŸã¾ã¾* åŒéšå±¤ã ã‘ä¸¦åˆ—ã«ãªã‚‹ã®ã§ â€œé€Ÿã„ï¼‹å®‰å…¨â€ã€‚

2. **ç‹¬ç«‹ã‚¸ãƒ§ãƒ–ã ã‘æ€ã„åˆ‡ã‚Šä¸¦åˆ—**  
   ```bash
   pnpm --filter ./packages/* --parallel --if-present dev    # dev ã‚µãƒ¼ãƒãƒ¼
   pnpm --filter ./packages/* --parallel lint                # ESLint
   ```
   `--if-present` ã‚’è¶³ã™ã¨ â€œã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æŒãŸãªã„ package ã¯å‹æ‰‹ã«ã‚¹ã‚­ãƒƒãƒ—â€ã€‚

3. **ãƒ­ã‚°ã‚’ã¾ã¨ã‚ã¦è¦‹ã‚„ã™ã**  
   ```bash
   pnpm -r --parallel test --aggregate-output
   ```
   å‡ºåŠ›ã¯æœ€å¾Œã«ã¾ã¨ã‚ã‚‰ã‚Œã‚‹ã®ã§ CI ãŒèª­ã¿ã‚„ã™ã„ (é€Ÿåº¦ãã®ã¾ã¾)ã€‚

---

## 4. ã©ã“ã¾ã§ â€œå…¨éƒ¨ä¸¦åˆ—â€ ã«ã™ã‚‹ï¼Ÿ

| ã‚¿ã‚¹ã‚¯ | ãƒ•ãƒ©ã‚°æ¨å¥¨ | ç†ç”± |
|--------|-----------|------|
| **Vite / Next dev** (watch) | `--parallel` | ç‹¬ç«‹ & I/O å¾…ã¡ä¸»ä½“ |
| **Lint / Unit test** | `--parallel` + `--aggregate-output` | I/O å¾…ã¡ãŒå¤šã CPUè² è·ä¸­ç¨‹åº¦ |
| **TypeScript build / Prisma generate** | _ç„¡ã—_ or `--workspace-concurrency=N` | ä¾å­˜é †å¿…é ˆãƒ»CPUé‡ã„ |
| **Docker build / Playwright E2E** | _ç„¡ã—_ | ãƒ¡ãƒ¢ãƒª/CPU/I/O è² è·ãŒé«˜ã„ã®ã§é †åºï¼‹ç›´åˆ—æ¨å¥¨ |

---

## 5. TL;DR â”€â”€ åˆ¤æ–­åŸºæº–

1. **ãã®ã‚¿ã‚¹ã‚¯ãŒ â€œä¸Šæµç”Ÿæˆç‰©ï¼ˆdist/å‹å®šç¾©etc.ï¼‰â€ ã‚’èª­ã‚€ï¼Ÿ**  
   - YES â†’ `--parallel` ã¯å¤–ã™ã€ã¾ãŸã¯ `workspace-concurrency` åˆ¶é™  
   - NO â†’ ã¾ãšã¯ `--parallel` ã§ä½“æ„Ÿã‚’æ¸¬ã‚‹  
2. **CPU ãŒ 100 % ã«å¼µã‚Šä»˜ãï¼Ÿ**  
   - YES â†’ ä¸¦åˆ—åŒ–ã—éãã‚‹ã¨é€†åŠ¹æœã€‚`nproc-1` ãã‚‰ã„ãŒç›®å®‰  
3. **I/O å¾…ã¡ãŒé•·ã„ï¼Ÿ**ï¼ˆdev ã‚µãƒ¼ãƒãƒ¼ãƒ»lintãƒ»å°ãƒ†ã‚¹ãƒˆï¼‰  
   - YES â†’ ä¸¦åˆ—åŒ–ã§ã»ã¼ç¢ºå®Ÿã«é€Ÿããªã‚‹  

---

### è¿·ã£ãŸã‚‰â€¦â€¦

> **Step 1**: `pnpm -r <script>` ã§æ­£ã—ãå‹•ãã“ã¨ã‚’ç¢ºèª  
> **Step 2**: `--parallel` ã‚’ä»˜ã‘ã¦ **ãƒ­ãƒ¼ã‚«ãƒ«** ã§è¨ˆæ¸¬ (time / hyperfine)  
> **Step 3**: CIï¼ˆCPU å°ã•ã‚ï¼‰ã§ã‚‚è¨ˆæ¸¬ã—ã€é…ããªã‚‹ or flake ãŒå‡ºãŸã‚‰æˆ»ã™  

ã“ã‚Œã§ â€œé€Ÿã„ã¨ã“ã‚ã ã‘ä¸¦åˆ—åŒ–â€ ã‚’æ©Ÿæ¢°çš„ã«æ±ºã‚ã‚‰ã‚Œã¾ã™ã€‚  
ã•ã‚‰ã«é«˜é€ŸåŒ–ãŒå¿…è¦ãªã‚‰ Turborepo/Nx ã® **å·®åˆ†ãƒ“ãƒ«ãƒ‰ï¼‹ãƒªãƒ¢ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥** ã‚’è¶³ã™ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/25 14:29:03*

Turborepoã§ã‚‚ã“ã®è¾ºã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã¯ã§ãã‚‹ã®ã‹ï¼Ÿã¤ã¾ã‚Šã€éƒ¨åˆ†çš„ä¸¦è¡Œå®Ÿè¡Œã®ã“ã¨ã§ã™ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/25 14:29:59*

### Turborepo ã§ â€œéƒ¨åˆ†çš„ä¸¦è¡Œå®Ÿè¡Œâ€ ã‚’ã©ã†ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ãã‚‹ã‹

| ç›®çš„ | Turborepo ãŒæä¾›ã™ã‚‹ä»•çµ„ã¿ | å…·ä½“çš„ãªæ›¸ãæ–¹ãƒ»ã‚³ãƒãƒ³ãƒ‰ |
|---|---|---|
| **ä¾å­˜é–¢ä¿‚ã‚’å®ˆã‚Šã¤ã¤ â€œå®‰å…¨ãªç¯„å›²ã§â€ ä¸¦åˆ—** | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ **Task Graph** ã‚’çµ„ã¿ã€ä¾å­˜ãŒè§£æ±ºã—ãŸãƒãƒ¼ãƒ‰ã‚’æœ€â¼¤ N ä¸¦åˆ—ã§å®Ÿè¡Œ | ```bash\n# å¤‰æ›´ã®ã‚ã£ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã ã‘ã€æœ€å¤§ 75 % ã® CPU ã§\nTURBO_CONCURRENCY=75% turbo run build --affected\n``` îˆ€citeîˆ‚turn6search1îˆ‚turn10view0îˆ |
| **ä¸¦åˆ—ä¸Šé™ã‚’çµã‚‹ï¼CIã§ CPU ã‚’é£½å’Œã•ã›ãŸããªã„** | `--concurrency` ãƒ•ãƒ©ã‚°<br>or `"concurrency"` ã‚’ `turbo.json` ã«è¨˜è¿° | ```jsonc\n// root/turbo.json\n{\n  \"concurrency\": 4  // å…¨ã‚¿ã‚¹ã‚¯ã‚’æœ€å¤§ 4 ä¸¦åˆ—ã«åˆ¶é™\n}\n``` îˆ€citeîˆ‚turn2view0îˆ |
| **ä¾å­˜ã‚°ãƒ©ãƒ•ã‚’ç„¡è¦–ã—ã¦ â€œå®Œå…¨ä¸¦åˆ—â€**ï¼ˆDev ã‚µãƒ¼ãƒãƒ¼ãªã©ï¼‰ | `--parallel` ãƒ•ãƒ©ã‚° | ```bash\nturbo run dev --parallel   # watch ç³»ãƒ»æ°¸ç¶šãƒ—ãƒ­ã‚»ã‚¹å‘ã‘\n``` îˆ€citeîˆ‚turn6search0îˆ |
| **ç‰¹å®šã‚¿ã‚¹ã‚¯ã ã‘ â€œèµ·å‹•ã—ã£ã±ãªã—â€ ã«ã—ã¦ä»–ã¨ä½µèµ°** | ã‚¿ã‚¹ã‚¯å®šç¾©ã§ `"persistent": true` | ```jsonc\n{\n  \"tasks\": {\n    \"dev\": {\n      \"persistent\": true,\n      \"cache\": false\n    }\n  }\n}\n``` îˆ€citeîˆ‚turn8search0îˆ |
| **ä¸€éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ä¸€éƒ¨ã‚¿ã‚¹ã‚¯ã ã‘å®Ÿè¡Œ** | `--filter` ã‚„ `--only` | ```bash\n# web ã‚¢ãƒ—ãƒªã¨ãã®ä¾å­˜ã ã‘\n turbo run build --filter=apps/web\n# test ã ã‘å˜ç‹¬å®Ÿè¡Œ\n turbo run web#test --only\n``` îˆ€citeîˆ‚turn6search3îˆ‚turn7search0îˆ |

---

#### é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ

1. **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãŒ â€œä¾å­˜ã‚°ãƒ©ãƒ•ä»˜ãä¸¦åˆ—â€**  
   Turborepo ã¯ `turbo run build test` ã®ã‚ˆã†ã«æ›¸ãã ã‘ã§ã€  
   - ä¾å­˜ãƒãƒ¼ãƒ‰ã« **ãƒˆãƒãƒ­ã‚¸ã‚«ãƒ«ã‚½ãƒ¼ãƒˆ** ã‚’ã‹ã‘ã‚‹  
   - è§£æ±ºæ¸ˆã¿ãƒãƒ¼ãƒ‰ã‚’ **æœ€å¤§ concurrency å€‹** åŒæ™‚å®Ÿè¡Œ  
   ã¨ã„ã†ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã‚’è‡ªå‹•ã§è¡Œã„ã¾ã™ã€‚îˆ€citeîˆ‚turn6search1îˆ  

2. **ã‚°ãƒ­ãƒ¼ãƒãƒ«ä¸Šé™ã¯ã‚ã‚‹ãŒ â€œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å€‹åˆ¥ã®ä¸Šé™â€ ã¯ã¾ã ç„¡ã„**  
   2025-06 æ™‚ç‚¹ã§ã‚‚ **ã‚¿ã‚¹ã‚¯å˜ä½/ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å˜ä½ã® `concurrency` è¨­å®šã¯æœªå®Ÿè£…** ã§ã€  
   GitHub ã® Feature Request #7493 ãŒã‚ªãƒ¼ãƒ—ãƒ³ã®ã¾ã¾ã§ã™ã€‚îˆ€citeîˆ‚turn0search0îˆ  
   - å€‹åˆ¥ã«ç›´åˆ—åŒ–ã—ãŸã„å ´åˆã¯  
     1) ãã®ã‚¿ã‚¹ã‚¯ã ã‘ã‚’åˆ¥ã‚³ãƒãƒ³ãƒ‰ã§ `--concurrency=1` ã§å‘¼ã¶  
     2) ä¾å­˜é–¢ä¿‚ã‚’åˆ‡ã£ã¦ `persistent:true` ã«ã—ã€åˆ¥ã® `turbo run` ã‚’ä½µèµ°ã•ã›ã‚‹  
     ãªã©ã§ãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ©ã‚¦ãƒ³ãƒ‰ã—ã¾ã™ã€‚

3. **`--parallel` ã¯â€œæœ€å¾Œã®æ‰‹æ®µâ€**  
   ä¾å­˜ã‚°ãƒ©ãƒ•ã‚’å®Œå…¨ã«ç„¡è¦–ã™ã‚‹ãŸã‚ã€**ãƒ“ãƒ«ãƒ‰ã‚„å‹ãƒã‚§ãƒƒã‚¯ã«ã¯ä½¿ã‚ãªã„** ã®ãŒé‰„å‰‡ã€‚  
   Dev ã‚µãƒ¼ãƒãƒ¼ãƒ»ãƒ†ã‚¹ãƒˆã‚¦ã‚©ãƒƒãƒã®ã‚ˆã†ãª **æ°¸ç¶šãƒ—ãƒ­ã‚»ã‚¹ç³»ã ã‘** ã«é™å®šã—ã¾ã—ã‚‡ã†ã€‚

4. **ç’°å¢ƒã”ã¨ã«ä¸¦åˆ—åº¦ã‚’å¤‰ãˆãŸã„ã¨ãã¯ç’°å¢ƒå¤‰æ•°ãŒæ¥½**  
   - ãƒ­ãƒ¼ã‚«ãƒ« â†’ `TURBO_CONCURRENCY=100%`  
   - CI (2 vCPU) â†’ `TURBO_CONCURRENCY=2`  
   ã§ `turbo run â€¦` ã‚’åŒã˜ã‚³ãƒãƒ³ãƒ‰ã®ã¾ã¾å®Ÿè¡Œã§ãã¾ã™ã€‚îˆ€citeîˆ‚turn10view0îˆ  

---

### ãƒŸãƒ‹ã‚µãƒ³ãƒ—ãƒ«

```jsonc
// turbo.json (æŠœç²‹)
{
  "concurrency": "50%",        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ CPU ã®åŠåˆ†ã ã‘ä½¿ã†
  "tasks": {
    "build": {
      "outputs": ["dist/**"],
      "dependsOn": ["^build"]   // ä¸‹ä½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã‹ã‚‰
    },
    "dev": {
      "persistent": true,       // ãšã£ã¨èµ°ã‚‰ã›ã‚‹ Watcher
      "cache": false
    },
    "migrate": {
      // DB ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯ç«¶åˆã—ãŒã¡ãªã®ã§å˜ç‹¬å®Ÿè¡Œ
      "cache": false
    }
  }
}
```

```bash
# â‘  ç«¶åˆã™ã‚‹ DB ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã ã‘ç›´åˆ—ã§å®Ÿè¡Œ
turbo run migrate --concurrency=1

# â‘¡ ãã®ã‚ã¨ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆã‚’ä¸¦è¡Œå®Ÿè¡Œï¼ˆ50% åˆ¶é™ä¸‹ã§ï¼‰
turbo run build test
```

---

## ã¾ã¨ã‚

- **éƒ¨åˆ†çš„ãªä¸¦åˆ—åˆ¶å¾¡ = â€œã©ã®ã‚¿ã‚¹ã‚¯ã‚’ ã„ã¤ ä½•ä¸¦åˆ—ã§èµ°ã‚‰ã›ã‚‹ã‹â€** ã‚’  
  - **ã‚°ãƒ­ãƒ¼ãƒãƒ«ä¸Šé™ (`concurrency`)**  
  - **ã‚¿ã‚¹ã‚¯ç‰¹æ€§ (`persistent`, `cache:false`)**  
  - **å®Ÿè¡Œæ™‚ãƒ•ãƒ©ã‚°ï¼ç’°å¢ƒå¤‰æ•° (`--concurrency`, `TURBO_CONCURRENCY`)**  
  ã®çµ„ã¿åˆã‚ã›ã§å®Ÿç¾ã™ã‚‹ã®ãŒ 2025 å¹´ç¾åœ¨ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã€‚  
- â€œã‚¿ã‚¹ã‚¯ã”ã¨ã«ä¸¦åˆ—åº¦ã‚’å¤‰ãˆã‚‹â€ ãƒã‚¤ãƒ†ã‚£ãƒ–æ©Ÿèƒ½ã¯ **ã¾ã æœªå®Ÿè£…** ãªã®ã§ã€  
  ç›´åˆ—åŒ–ãŒå¿…è¦ãªã‚¸ãƒ§ãƒ–ã¯åˆ¥ã‚³ãƒãƒ³ãƒ‰ã§å‘¼ã³å‡ºã™ or `concurrency=1` ã§ãƒ©ãƒƒãƒ—ã™ã‚‹ã€  
  ã¨ã„ã†æ§‹æˆãŒç¾å®Ÿçš„ã§ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/25 14:39:43*

Turborepo ã§ã¯ã©ã“ã«ä¾å­˜é–¢ä¿‚ã‚’è¨˜è¿°ã™ã‚‹ã®ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/25 14:39:48*

### Turborepo ã§ã¯ã€Œä¾å­˜ã€ã‚’ 2 æ®µã§è§£æ±ºã—ã¾ã™

| ãƒ¬ã‚¤ãƒ¤ | ä½•ã«å¯¾ã™ã‚‹ä¾å­˜ã‹ | ã©ã“ã«æ›¸ãã‹ | Turborepo ãŒã©ã†æ‰±ã†ã‹ |
|---|---|---|---|
| **â‘  ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä¾å­˜** | ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒå£«ï¼ˆ`@core â†’ @ui` ãªã©ï¼‰ | å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã® **`package.json`** ã® `dependencies` / `devDependencies` | ã“ã‚Œã‚’èª­ã¿å–ã£ã¦ **Package Graph** ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã®ã§ã€Turborepo ç‹¬è‡ªã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚ |
| **â‘¡ ã‚¿ã‚¹ã‚¯ä¾å­˜** | â€œãƒ“ãƒ«ãƒ‰ â†’ ãƒ†ã‚¹ãƒˆâ€ ã®ã‚ˆã†ãª**ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒå£«** | ãƒ«ãƒ¼ãƒˆï¼ˆã¾ãŸã¯ã‚µãƒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼‰ã® **`turbo.json`** ã® `tasks.<task>.dependsOn` | ä¾å­˜ã‚°ãƒ©ãƒ•ï¼ˆTask Graphï¼‰ã‚’æ§‹ç¯‰ã—ã€é †åºã¨ä¸¦åˆ—å®Ÿè¡Œã‚’è‡ªå‹•ã§èª¿æ•´ã—ã¾ã™ã€‚îˆ€citeîˆ‚turn0search0îˆ‚turn0search1îˆ |

---

## 1. `package.json` ã«æ›¸ãã“ã¨ï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é–“ä¾å­˜ï¼‰

```jsonc
// packages/ui/package.json
{
  "name": "@myapp/ui",
  "version": "1.0.0",
  "dependencies": {
    "@myapp/core": "workspace:*"
  }
}
```

- **workspace:*** ãªã©é€šå¸¸ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ä¾å­˜ã‚’æ›¸ãã ã‘ã§ OKã€‚  
- Turborepo ã¯ **pnpm/NPM/Yarn Workspace** ã¨åŒã˜æ–¹æ³•ã§ã“ã‚Œã‚’è§£æã—ã€  
  **ã€Œ@core ã‚’å…ˆã«ãƒ“ãƒ«ãƒ‰ â†’ @uiã€** ã®é †åºã‚’è‡ªå‹•ã§å°ãå‡ºã—ã¾ã™ã€‚

---

## 2. `turbo.json` ã«æ›¸ãã“ã¨ï¼ˆã‚¿ã‚¹ã‚¯é–“ä¾å­˜ï¼‰

```jsonc
// turbo.json  (v2 å½¢å¼)
{
  "tasks": {
    "build": {
      "outputs": ["dist/**"],
      "dependsOn": ["^build"]           // â‘  ä¸‹ä½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã® build ãŒçµ‚ã‚ã‚‹ã¾ã§å¾…ã¤
    },
    "test": {
      "dependsOn": ["lint", "build"],   // â‘¡ åŒã˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã® lint ã¨ build ã®å¾Œã«å®Ÿè¡Œ
      "inputs": ["src/**", "tests/**"]
    }
  }
}
```

| æ›¸ãæ–¹ | æ„å‘³ |
|---|---|
| `"^build"` | **ã‚­ãƒ£ãƒ¬ãƒƒãƒˆï¼ˆ`^`ï¼‰ä»˜ã**ã¯ã€Œè‡ªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒä¾å­˜ã—ã¦ã„ã‚‹*ã™ã¹ã¦ã®*ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ `build` ãŒçµ‚ã‚ã£ãŸã‚‰ã€ã€‚îˆ€citeîˆ‚turn0search0îˆ |
| `"lint"` / `"build"` | **ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãªã—**ã¯ã€ŒåŒã˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã®åˆ¥ã‚¿ã‚¹ã‚¯ãŒçµ‚ã‚ã£ãŸã‚‰ã€ã€‚îˆ€citeîˆ‚turn0search0îˆ |

> **v1 ç³»ã‚’ãŠä½¿ã„ãªã‚‰** `pipeline.build.dependsOn` ã¨ã„ã†ã‚­ãƒ¼ã§ã—ãŸãŒã€2.0 ã§ `tasks.<task>.dependsOn` ã«çµ±ä¸€ã•ã‚Œã¦ã„ã¾ã™ã€‚

### ã‚ˆãã‚ã‚‹ä¾‹

| ã‚„ã‚ŠãŸã„ã“ã¨ | `turbo.json` ä¾‹ |
|---|---|
| ã™ã¹ã¦ã® `test` ã‚’ä¸Šæµã® `build` å®Œäº†å¾Œã«èµ°ã‚‰ã›ãŸã„ | `"test": { "dependsOn": ["^build"] }` |
| `storybook` ã‚’ `build` å®Œäº†å¾Œï¼†**ä¸¦åˆ—ã«ã›ãš**å˜ç‹¬èµ·å‹•ã—ãŸã„ | `"storybook": { "dependsOn": ["build"], "persistent": true }` |
| DB ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã ã‘ç›´åˆ—ã§å®Ÿè¡Œã—ãŸã„ | `turbo run migrate --concurrency=1` ã§å‘¼ã³åˆ†ã‘ã‚‹ï¼ˆã‚¿ã‚¹ã‚¯å®šç¾©ã¯ä¸è¦ï¼‰ |

---

## 3. ãƒ«ãƒ¼ãƒˆä»¥å¤–ã§ã‚‚ turbo.json ã¯ç½®ã‘ã‚‹ï¼Ÿ

- **ã¯ã„ã€‚** ã‚µãƒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç›´ä¸‹ã« `turbo.json` ã‚’ç½®ãã¨ *ãã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å°‚ç”¨* ã®ã‚¿ã‚¹ã‚¯è¨­å®šã‚’ä¸Šæ›¸ãï¼è¿½åŠ ã§ãã¾ã™ã€‚  
  ãŸã ã— **Package Graph ã‚‚ Task Graph ã‚‚ 1 å›ã§çµåˆã•ã‚Œã‚‹** ã®ã§ã€  
  - è¤‡é›‘ã«ãªã‚Šéãã‚‹  
  - èª­ã‚€äººãŒè¿·å­ã«ãªã‚‹  
  ã¨ã„ã†ç†ç”±ã§ **å…¬å¼ã¯ã€Œã¾ãšã¯ãƒ«ãƒ¼ãƒˆ 1 æšã€** ã‚’æ¨å¥¨ã—ã¦ã„ã¾ã™ã€‚îˆ€citeîˆ‚turn0search6îˆ

---

## ã¾ã¨ã‚

1. **ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒå£«ã®ä¾å­˜** â†’ ã„ã¤ã‚‚é€šã‚Š `package.json` ã«æ›¸ãã ã‘ã€‚  
2. **ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒå£«ã®é †åºï¼ä¸¦åˆ—åˆ¶å¾¡** â†’ ãƒ«ãƒ¼ãƒˆã® `turbo.json` ã® `tasks.<task>.dependsOn` ã«è¨˜è¿°ã€‚  
   - `^` ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ï¼ *ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å´* ã®åŒåã‚¿ã‚¹ã‚¯ã‚’å¾…ã¤  
   - ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãªã—ï¼ *åŒã˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…* ã®åˆ¥ã‚¿ã‚¹ã‚¯ã‚’å¾…ã¤  
3. åŸºæœ¬ã¯ãƒ«ãƒ¼ãƒˆ 1 æšã§ååˆ†ã€‚å¿…è¦ã«å¿œã˜ã¦ã‚µãƒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§è¿½åŠ ä¸Šæ›¸ãã‚‚å¯ã€‚  

ã“ã‚Œã•ãˆæŠ¼ã•ãˆã‚Œã° **Turborepo ãŒ Package Graph ã¨ Task Graph ã‚’è‡ªå‹•ã§èåˆ**ã—ã€  
ä¸¦åˆ—ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»å·®åˆ†å®Ÿè¡Œã‚’ã„ã„æ„Ÿã˜ã«ã‚„ã£ã¦ãã‚Œã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/25 16:08:13*

Turborepoã™ã‚‹ã¨appsã¨packagesã§åˆ†ã‹ã‚Œã¦ã„ã‚‹ãŒãã†ã™ã‚‹å¿…è¦ã¯ã‚ã‚‹ã®ã‹ï¼Ÿ
å…¨éƒ¨packagesã«ã™ã‚‹ã®ã¯ã ã‚ãªã®ã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/25 16:08:49*

### TL;DR
- **æŠ€è¡“çš„ã«ã¯ â€œå…¨éƒ¨ `packages/` ã«å¯„ã›ã¦ã‚‚ã¾ã£ãŸãå•é¡Œãªã—â€**ã€‚  
  Turborepo ã¯ **`package.json` ãŒã‚ã‚Œã°ãã‚Œã‚’ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã¿ãªã™** ã ã‘ãªã®ã§ã€`pnpm-workspace.yaml` ã® `packages:` ã‚°ãƒ­ãƒ–ã«ãƒ‘ã‚¹ã‚’æ›¸ã‘ã°æ™®é€šã«å‹•ãã€‚  
- å…¬å¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒ `apps/` ã¨ `packages/` ã‚’åˆ†ã‘ã¦ã„ã‚‹ã®ã¯ **ã€Œã‚¢ãƒ—ãƒªï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤ç‰©ï¼‰ã€ã¨ã€Œãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆå†åˆ©ç”¨ç‰©ï¼‰ã€ãŒä¸€ç›®ã§åˆ†ã‹ã‚‹ UIï¼DX ä¸Šã®æ…£ç¿’** ã«éããªã„ã€‚  
- **Vercel ã«è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã„å ´åˆã¯ `apps/*` ã‚’ç½®ã„ã¦ãŠãã¨è¨­å®šãŒã»ã¼ä¸è¦ã§æ¥½**ã€‚ãƒ•ã‚©ãƒ«ãƒ€ã‚’å¤‰ãˆã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ *Root Directory* ã‚’æ‰‹å‹•æŒ‡å®šã™ã‚‹ä½œæ¥­ãŒå¢—ãˆã‚‹ã€‚îˆ€citeîˆ‚turn4view0îˆ  
- ãƒ•ã‚©ãƒ«ãƒ€åã‚’å¤‰ãˆã‚‹ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã¯ **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚„ç¤¾å†…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚µãƒ³ãƒ—ãƒ«ã¨é£Ÿã„é•ã„ã€ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚³ã‚¹ãƒˆãŒä¸ŠãŒã‚‹** ç‚¹ãã‚‰ã„ã€‚

---

## 1. Turborepo ãŒèªè­˜ã™ã‚‹ â€œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸â€ ã®æ±ºã¾ã‚Š

1. **Workspaces ã® glob ã«ãƒãƒƒãƒ**ï¼ˆ`pnpm-workspace.yaml` ãªã©ï¼‰
2. **ãã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `package.json` ãŒå­˜åœ¨**

ä»¥ä¸ŠãŒæƒãˆã° Turborepo ã¯è‡ªå‹•ã§ **Package Graph** ã‚’çµ„ã¿ç«‹ã¦ã¾ã™ã€‚ãƒ•ã‚©ãƒ«ãƒ€åã¯ä½•ã§ã‚‚ OKã€‚

```yaml
# ä¾‹) ãœã‚“ã¶ packages/ é…ä¸‹ã«ç½®ã
packages:
  - "packages/*"          # apps ç›¸å½“ã‚‚å«ã‚å…¨éƒ¨
  - "packages/**"         # ã‚°ãƒ«ãƒ¼ãƒ—éšå±¤ã‚’åˆ‡ã‚‹ãªã‚‰è¿½åŠ 
```

> Turborepo å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚ã€Œ`apps/` ã¨ `packages/` ã«åˆ†ã‘ã‚‹ã“ã¨ã‚’**æ¨å¥¨**ã¯ã™ã‚‹ãŒå¿…é ˆã§ã¯ãªã„ã€  
> ã¨è¨˜è¼‰ãŒã‚ã‚Šã¾ã™ã€‚îˆ€citeîˆ‚turn1view0îˆ

---

## 2. `apps/` ã¨ `packages/` ã‚’åˆ†ã‘ã‚‹ â€œæ…£ç¿’â€ ãŒã‚ã‚‹ç†ç”±

| ç›®çš„ | å…·ä½“ä¾‹ | apps / packages åˆ†é›¢ã®ãƒ¡ãƒªãƒƒãƒˆ |
|---|---|---|
| **ãƒ‡ãƒ—ãƒ­ã‚¤å¯¾è±¡ã®è‡ªå‹•æ¤œå‡º** | Vercel, Netlify | `/apps/*` ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ Next.js ãªã©ã‚’è‡ªå‹•ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ã€‚è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒä¸è¦ã«ãªã‚‹ã€‚îˆ€citeîˆ‚turn4view0îˆ |
| **ã‚¿ã‚¹ã‚¯ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°** | `turbo run build --filter=apps/**` | â€œã‚¢ãƒ—ãƒªã ã‘ãƒ“ãƒ«ãƒ‰â€ ã¨æ›¸ãã‚„ã™ã„ã€‚ |
| **æ¨©é™ãƒ»ç’°å¢ƒå¤‰æ•°ã®åˆ†é›¢** | .env, secrets | ã€Œã‚¢ãƒ—ãƒªã€ã ã‘ç’°å¢ƒå¤‰æ•°ã‚’æ¸¡ã™ã€ãªã© CI/CD è¨­å®šãŒæ¥½ã€‚ |
| **ãƒãƒ¼ãƒ åˆ†æ‹…ãŒåˆ†ã‹ã‚Šã‚„ã™ã„** | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ vs å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒª | PR ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚„ CODEOWNERS ãƒ«ãƒ¼ãƒ«ã‚’æ›¸ãã‚„ã™ã„ã€‚ |

ãŸã ã— **å°è¦æ¨¡ãƒªãƒ** ã‚„ **å˜ä¸€ã®ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ** ã—ã‹ç„¡ã„å ´åˆã¯ã€  
ãƒ•ã‚©ãƒ«ãƒ€ã‚’åˆ†ã‘ãšã« *`packages/web`* ã‚„ *`packages/api`* ã¨ã—ã¦ã‚‚é‹ç”¨ã‚³ã‚¹ãƒˆã¯å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚

---

## 3. ãœã‚“ã¶ `packages/` ã«å¯„ã›ã‚‹ã¨ãã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

1. **pnpm-workspace.yaml / package.json workspaces / turbo.json**  
   - ã™ã¹ã¦ `packages/*` ã‚°ãƒ­ãƒ–ã«åˆã‚ã›ã‚‹
2. **Vercel ãªã© PaaS ã®è¨­å®š**  
   - *Root Directory* ã‚’ `packages/â—¯â—¯` ã«æ‰‹å‹•ã§æŒ‡å®š
3. **Turborepo ãƒ•ã‚£ãƒ«ã‚¿ç”¨ alias**ï¼ˆä»»æ„ï¼‰  
   - `"pipeline": { "build": { "outputs": ["dist/**"] } }`  
   - ã‚¢ãƒ—ãƒªã‚’ã¾ã¨ã‚ã¦ãƒ•ã‚£ãƒ«ã‚¿ã—ãŸã„ãªã‚‰ `tags` ã‚’ä½¿ã†ã‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å·¥å¤«
4. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®æ›¸ãæ›ãˆ**  
   - ç¤¾å†… wiki ã‚„ README ã«å‡ºã¦ãã‚‹ `apps/` ãƒ‘ã‚¹ã‚’ä¿®æ­£

---

## 4. ã©ã¡ã‚‰ã‚’æ¡ã‚‹ï¼Ÿåˆ¤æ–­ã‚¬ã‚¤ãƒ‰

| ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ | apps+packages ã«åˆ†ã‘ã‚‹ | ãœã‚“ã¶ packages |
|---|---|---|
| **ãƒ‡ãƒ—ãƒ­ã‚¤ãŒè¤‡æ•° (Web, Admin, Docs, API..)** | âœ… â€œã‚¢ãƒ—ãƒªä¸€è¦§â€ ãŒä¸€ç›® | â–³ æ‰‹å‹•è¨­å®šãŒå¤šããªã‚‹ |
| **CI ã§ã‚¢ãƒ—ãƒªã ã‘åˆ¥ã‚¸ãƒ§ãƒ–ã«ã—ãŸã„** | âœ… ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã§ãƒ•ã‚£ãƒ«ã‚¿ | â–³ åå‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ä»£æ›¿ |
| **ãƒªãƒã‚¸ãƒˆãƒªè¦æ¨¡ãŒå°ã•ã„ (<5 ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸)** | â–³ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå¢—ã§é€†ã«ç…©é›‘ | âœ… ã‚·ãƒ³ãƒ—ãƒ« |
| **ä»–ç¤¾ãƒ†ãƒ³ãƒ—ãƒ¬ã®æµç”¨ãƒ»ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°** | âœ… ä¾‹ã«åˆã‚ã›ã‚„ã™ã„ | â–³ ã‚µãƒ³ãƒ—ãƒ«å¼•ãç›´ã— |

---

### çµè«–
- **ã€Œå…¨éƒ¨ `packages/` ã§é‹ç”¨ã™ã‚‹ã€ã¯æ­£å¼ã«ã‚µãƒãƒ¼ãƒˆæ¸ˆã¿**ã€‚  
  è¿·ã£ã¦ã„ã‚‹ãªã‚‰ **ã¾ãšã¯å˜ä¸€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§å§‹ã‚ã€ã‚¢ãƒ—ãƒªãŒå¢—ãˆãŸæ®µéšã§ `apps/` ã‚’åˆ‡ã‚Šå‡ºã™** ã§ã‚‚é…ãã‚ã‚Šã¾ã›ã‚“ã€‚  
- ãŸã ã— **Vercel ãªã©å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¨ã® â€œè‡ªå‹•é€£æºã®ãƒ©ã‚¯ã•â€ ã‚’å–ã‚‹ãªã‚‰ `apps/` ã‚’ç”¨æ„**ã—ã¦ãŠãã®ãŒå®šç•ªã€ã¨ã„ã†ã ã‘ã§ã™ã€‚  

ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã‚’å¤‰ãˆãŸã‚ã¨ã« *turbo run build* ãŒæƒ³å®šé€šã‚Šå‹•ã‹ãªã„å ´åˆã¯ã€  
`turbo graph --filter=@your/app` ã§ä¾å­˜ã‚°ãƒ©ãƒ•ã‚’å¯è¦–åŒ–ã—ã¦ãŠãã¨åŸå› ç‰¹å®šãŒã‚¹ãƒ ãƒ¼ã‚ºã§ã™ã‚ˆã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/25 16:11:18*

ãŸã¨ãˆã°ã€ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¢ãƒ—ãƒªã¯ç›´æ¥ä¾å­˜ã—ã¦ã„ãªã„ãŒã€å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚ã‚‹å ´åˆã¯ã©ã†ã™ã‚‹ã¹ãã‹ï¼Ÿ

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/25 16:11:19*

### â€œã‚¢ãƒ—ãƒª (frontend) â†” ã‚µãƒ¼ãƒãƒ¼ (backend) ã¯ç›¸äº’ã«ä¾å­˜ã—ãªã„ãŒã€å…±é€šã‚³ãƒ¼ãƒ‰ã¯æŒã¡ãŸã„â€ â€•â€• å…¸å‹çš„ãªæ•´ç†ãƒ‘ã‚¿ãƒ¼ãƒ³

```
repo-root/
â”œâ”€ turbo.json
â”œâ”€ pnpm-workspace.yaml
â””â”€ packages/
   â”œâ”€ app/                # Next.js / Reactâ€Native ãªã© â€œãƒ‡ãƒ—ãƒ­ã‚¤ç‰©â€ (â‰ å…±æœ‰ç‰©)
   â”œâ”€ server/             # Hono / Express / Nest ãªã© â€œãƒ‡ãƒ—ãƒ­ã‚¤ç‰©â€
   â”œâ”€ shared/             # ãƒ©ãƒ³ã‚¿ã‚¤ãƒ éä¾å­˜ã®å…±é€š TypeScript å‹ãƒ»UTL
   â”œâ”€ ui/                 # ãƒ•ãƒ­ãƒ³ãƒˆå°‚ç”¨ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (React ãªã©)
   â””â”€ config/             # eslint, tsconfig, jest ç­‰ã®é›†ä¸­ç®¡ç† (optional)
```

| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | å«ã‚ã‚‹ã‚‚ã® | ä¾å­˜ã•ã›ã‚‹å‘ã | ãƒ“ãƒ«ãƒ‰å‡ºåŠ› |
|--------------|-----------|----------------|------------|
| **`shared`** | `zod` ã‚¹ã‚­ãƒ¼ãƒã€å‹å®šç¾©ã€æ—¥ä»˜ãƒ»æ•°å€¤ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ | ä¸Šä½ã™ã¹ã¦ (app / server ãªã©) | `dist/` (Esm2022, CJS) |
| **`ui`**     | Button, Card â€¦ *ãƒ–ãƒ©ã‚¦ã‚¶å°‚ç”¨* ã® React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | app ã®ã¿ï¼ˆserver ã«ã¯ **å…¥ã‚Œãªã„**ï¼‰ | `dist/` (Esm2022, React 18 å¯¾å¿œ) |
| **`app`**    | ãƒšãƒ¼ã‚¸ï¼æ©Ÿèƒ½å®Ÿè£… | `shared`, `ui` | Next.js build |
| **`server`** | ãƒ«ãƒ¼ã‚¿ãƒ¼ã€ã‚µãƒ¼ãƒ“ã‚¹å±¤ã€Prisma usecase | `shared` | Node/Esm build |

---

## 1. â€œå…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆâ€ ã‚’ 2 ã¤ã«åˆ†ã‘ã‚‹ç†ç”±

| ã‚‚ã— 1 ã¤ã«ã¾ã¨ã‚ã‚‹ã¨â€¦ | åˆ†ã‘ãŸå ´åˆ |
|------------------------|------------|
| **UI & å‹ãŒæ··åœ¨** â†’ ã‚µãƒ¼ãƒãƒ¼å´ã« React ä¾å­˜ãŒä¼æŸ“ã—ãŒã¡ | UI ã¯ `ui/`ã€ãƒ­ã‚¸ãƒƒã‚¯ã¨å‹ã¯ `shared/` ã«åˆ†é›¢ |
| Tree-shaking ã§é™¤å¤–ã§ãã‚‹ãŒãƒ“ãƒ«ãƒ‰ä½“ç©å¢— | app ã ã‘ `ui` ã‚’ä¾å­˜ã«ã™ã‚Œã° server ã®ãƒãƒ³ãƒ‰ãƒ« 0â€‰KB å¢— |
| tsc / vitest ãŒãƒ–ãƒ©ã‚¦ã‚¶ API ã®å‹ã‚’è§£æ±ºã§ããš *dom* lib ãŒè¦ã‚‹ | server ã® tsconfig ã‹ã‚‰ `dom` å‹ã‚’åˆ‡ã‚Šé›¢ã›ã‚‹ |

---

## 2. ä¾å­˜ã®æŒã¡æ–¹ï¼ˆpnpm workspaceï¼‰

```jsonc
// packages/app/package.json
{
  "dependencies": {
    "@myapp/shared": "workspace:*",
    "@myapp/ui": "workspace:*"
  }
}

// packages/server/package.json
{
  "dependencies": {
    "@myapp/shared": "workspace:*"
  }
}
```

- **workspace:\*** ã§ â€œãƒ­ãƒ¼ã‚«ãƒ«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å¿…ãšåŒä¸€ãƒãƒ¼ã‚¸ãƒ§ãƒ³â€ ã«ãƒ­ãƒƒã‚¯ã€‚
- `ui` â†’ `shared` ã‚‚ä¾å­˜å¯ (UI ã‹ã‚‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚„å‹ã‚’å†åˆ©ç”¨ã™ã‚‹ãŸã‚)ã€‚

---

## 3. Turborepo ã®ã‚¿ã‚¹ã‚¯ä¾å­˜ä¾‹

```jsonc
// turbo.json
{
  "tasks": {
    "build": {
      "outputs": ["dist/**"],
      "dependsOn": ["^build"]   // ä¸‹ä½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã® build ãŒå®Œäº†ã—ã¦ã‹ã‚‰
    },
    "lint": {
      "outputs": []
    },
    "test": {
      "dependsOn": ["build", "lint"]  // åŒãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…
    }
  }
}
```

- `shared` â†’ `ui` â†’ `app` ã®ã‚ˆã†ã« **ä¾å­˜ã‚°ãƒ©ãƒ•é †** ã«è‡ªå‹•ãƒ“ãƒ«ãƒ‰ã€‚
- ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¢ãƒ—ãƒªã¯äº’ã„ã«ç‹¬ç«‹ãªã®ã§ã€**ä¸¦åˆ—** å®Ÿè¡Œã•ã‚Œæ™‚é–“çŸ­ç¸®ã€‚

---

## 4. â€œå…±é€šå‹ã ã‘â€ ã‚’æ›´ã«å®‰å…¨ã«ã™ã‚‹ãƒ†ã‚¯

| ãƒ‘ã‚¿ãƒ¼ãƒ³ | ãƒ¡ãƒªãƒƒãƒˆ | ãƒ„ãƒ¼ãƒ«ä¾‹ |
|----------|----------|---------|
| **OpenAPI â†’ å‹ç”Ÿæˆ** | ãƒ¢ãƒ‡ãƒ«ã‚’ API å®šç¾©ã§ä¸€å…ƒç®¡ç†ã€ã‚µãƒ¼ãƒãƒ¼ & ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¸åŒã˜å‹ã‚’å‡ºåŠ› | Orval, openapi-typescript |
| **tRPC / Zod RPC** | ãƒ«ãƒ¼ã‚¿ãƒ¼å®šç¾©ã‹ã‚‰æ¨è«–ã€å‹ã‚ºãƒ¬ã‚¼ãƒ­ | tRPC v11, Hono-trpc |
| **ã‚³ãƒ¼ãƒ‰ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ + `@types` å…±æœ‰** | æ—¢å­˜ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã‚’ãã®ã¾ã¾ export | tsup â€• `exports` æ¡ä»¶åˆ¥ãƒ“ãƒ«ãƒ‰ |

---

## 5. â€œå…¨éƒ¨ `packages/` é…ä¸‹â€ ã‚’è²«ããªã‚‰

- **ã‚¢ãƒ—ãƒªå´**: `packages/web`, `packages/mobile`  
- **ã‚µãƒ¼ãƒãƒ¼å´**: `packages/api`  
- **å…±é€š**: `packages/shared`, `packages/ui`

ã¨ **ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã§å½¹å‰²ã‚’ç¤ºã™** ã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåˆ†ã‘ã®å¯èª­æ€§ã¨åŒç¨‹åº¦ã«ãªã‚Šã¾ã™ã€‚

---

## ã¾ã¨ã‚

1. **å…±é€šè¦ç´ ã¯ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ä¾å­˜ã§ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ†å‰²**  
   - **å‹ & ãƒ­ã‚¸ãƒƒã‚¯** â†’ `shared`  
   - **ãƒ•ãƒ­ãƒ³ãƒˆå°‚ç”¨ UI** â†’ `ui`
2. **ã‚µãƒ¼ãƒãƒ¼/ã‚¢ãƒ—ãƒªã¯ `shared` ã ã‘ã‚’ä»‹ã—ã¦é–“æ¥é€£æº**  
   â†’ ç›¸äº’ä¾å­˜ã‚¼ãƒ­ã€ãƒ“ãƒ«ãƒ‰ã‚‚è»½é‡ã€‚
3. **Turborepo ã¯ package.json ä¾å­˜ã‚’è¦‹ã‚‹ã ã‘ã§é †åºã‚’è§£æ±º**  
   â†’ ç‰¹åˆ¥ãªè¨­å®šã¯ `turbo.json` ã®ã‚¿ã‚¹ã‚¯ä¾å­˜å®£è¨€ã ã‘ã€‚

ã“ã®å½¢ã«ã—ã¦ãŠãã¨ â€œAPI ã‚’å¤‰æ›´ â†’ shared ã®å‹æ›´æ–° â†’ app/server ã©ã¡ã‚‰ã‚‚å³ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã§æ°—ä»˜ã‘ã‚‹â€ ã®ã§ **ä»•æ§˜ã®ä¸€è²«æ€§æ‹…ä¿** ã«ã‚‚éå¸¸ã«ä¾¿åˆ©ã§ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/26 0:35:49*

å®Ÿã¯Bunè‡ªä½“ãŒã‹ãªã‚ŠåŠ¹ç‡çš„ã«å·®åˆ†ãƒ“ãƒ«ãƒ‰ãŒã§ãã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã¯ã‚ã£ã¦ã„ã‚‹ã‹ãªã€‚
 ã¤ã¾ã‚Šã‚¿ãƒ¼ãƒœãƒ¬ãƒãªã‚“ã‹ä½¿ã†å¿…è¦ã£ã¦ã‚ã‚“ã¾ã‚Šãªã„ãªã„ã£ã¦ã“ã¨ã‹ãª \
 ãƒ¢ãƒãƒ¬ãƒãŒå¾—æ„ãªã‚‚ã®ã¯ãƒªãƒ¢ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ãã‚‰ã„ã§ã€æ™®é€šã«é–‹ç™ºã—ã¦ã„ã‚‹åˆ†ã«ã¯ã€Bunã§ååˆ†ãªã®ã‹ã€‚ 
ã¾ãŸBun WorkspaceãŒä¾å­˜é–¢ä¿‚ã‚’åŠ å‘³ã—ãŸãƒ“ãƒ«ãƒ‰é †ãªã©ã«ã—ã¦ãã‚Œã‚‹ã®ã‹ã—ã‚‰ã¹ã¦ã»ã—ã„ã€‚

https://bun.sh/docs/install/workspaces

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/26 0:36:05*

### âœ”ï¸ ã¾ãšäº‹å®Ÿç¢ºèª

| æ©Ÿèƒ½ | **Bun Workspaces** | **Turborepo** |
|---|---|---|
| **ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ç®¡ç†** | `workspace:*` ã§ä¾å­˜è§£æ±ºã€‚`bun install` 1 å›ã§å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒªãƒ³ã‚¯ï»¿ îˆ€citeîˆ‚turn0search0îˆ | `pnpm/yarn/npm workspaces` ã‚’å‰æã« Package Graph ã‚’è‡ªå‹•ç”Ÿæˆ |
| **ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œé †åº** | `bun --filter '*' build` ãªã©ã§ **ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸â†’ä¾å­˜å…ˆ** ã®é †ã«å®Ÿè¡Œï»¿ îˆ€citeîˆ‚turn0search6îˆ | `turbo run build` ãŒåŒæ§˜ã«ä¾å­˜é †ã‚’ä¿è¨¼ |
| **ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«å†ãƒ“ãƒ«ãƒ‰** | `bun build --watch` / `bun run --watch` ãŒ **å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ã ã‘ã‚’å†ãƒãƒ³ãƒ‰ãƒ«**ã€‚ãƒŸãƒªç§’ã‚ªãƒ¼ãƒ€ã§å®Œäº†ï»¿ îˆ€citeîˆ‚turn1search0îˆ | â€œã‚¿ã‚¹ã‚¯ãŒå†å®Ÿè¡Œã•ã‚Œã¦ã‚‚ TS/ESBuild ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ãŒåŠ¹ãâ€ (å·®åˆ†è‡ªä½“ã¯å„ãƒ„ãƒ¼ãƒ«ä»»ã›) |
| **â€œå¤‰æ›´ãŒç„¡ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã‚¹ã‚­ãƒƒãƒ—â€** | **âœ–ï¸ ç„¡ã—**ï¼š `bun --filter` ã‚’å®Ÿè¡Œã™ã‚‹ã¨ **æ¯å›** å…¨å¯¾è±¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒèµ°ã‚‹ | **â—¯ ã‚ã‚Š**ï¼š `turbo run build --filter=[HEAD^â€¦]` ãŒ *å¤‰æ›´ã®ã‚ã£ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã¿* å®Ÿè¡Œ |
| **ãƒªãƒ¢ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ (CI â‡„ é–‹ç™ºPC)** | **âœ–ï¸ å…¬å¼ç„¡ã—** | **â—¯ æ¨™æº–** (Vercel Remote Cache)ï¼è‡ªå‰ã‚µãƒ¼ãƒãƒ¼ã‚‚å¯ï»¿ îˆ€citeîˆ‚turn0search2îˆ |

---

### 1. Bun ã® â€œé€Ÿã•â€ ãŒåŠ¹ãç¯„å›²

- **ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤‰ã‚ã£ãŸç¬é–“ã®å†ãƒ“ãƒ«ãƒ‰**  
  `bun build --watch` ã‚„ `bun --hot` ã¯ **å†…éƒ¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‹Hot Reload** ã§ <100 ms ã®ã‚±ãƒ¼ã‚¹ãŒå¤šãã€ãƒ­ãƒ¼ã‚«ãƒ« DX ã¯æ¥µã‚ã¦å¿«é©ã€‚  
- **ä¾å­˜é †å®Ÿè¡Œ**  
  `bun --filter` ã¯ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå…ˆã«çµ‚ã‚ã‚‹ã¾ã§å¾Œç¶šã‚’å¾…ã¤ã®ã§ã€ã€Œé †åºåˆ¶å¾¡ã®ãŸã‚ã ã‘ã€ã« Turborepo ã‚’å°å…¥ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

> **ãŸã ã—** Bun ã¯ â€œ**ã©ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå¤‰ã‚ã£ãŸã‹**â€ ã‚’ Git ã‚„ãƒãƒƒã‚·ãƒ¥ã§åˆ¤æ–­ã—ã¦ **ã‚¹ã‚­ãƒƒãƒ—** ã¯ã—ã¾ã›ã‚“ã€‚  
> æ¯å›ãƒ•ãƒ«ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œã—ã€ãã®ä¸­ã§ *TypeScript/ESBuild ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«* ãŒä»•äº‹ã‚’ã™ã‚‹å½¢ã§ã™ã€‚

---

### 2. Turborepo ãŒä¾ç„¶ã¨ã—ã¦å¼·ã„å ´é¢

| ã‚·ãƒŠãƒªã‚ª | Bun ã ã‘ | Turborepo |
|---|---|---|
| **CI/XcodeCloud ãªã©è¤‡æ•°ãƒã‚·ãƒ³** | æ¯å›ãƒ“ãƒ«ãƒ‰ (é€Ÿã„ãŒç„¡é§„å¤š) | **Remote Cache** ã§ *0 sec* ã«ãªã‚‹å¯èƒ½æ€§ |
| **å·¨å¤§ãƒªãƒ (100+ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸)** | å¤‰æ›´ãŒ 1 è¡Œã§ã‚‚ **å…¨ãƒ“ãƒ«ãƒ‰** | `--filter=[origin/main...]` ã§ *å¤‰æ›´åˆ†ã ã‘ãƒ“ãƒ«ãƒ‰* |
| **ä¸¦åˆ—åº¦ãƒ»ãƒªã‚½ãƒ¼ã‚¹æœ€é©åŒ–** | `bun --filter` ã¯ **CPU å…¨é–‹**ã€‚ä¸Šé™åˆ¶å¾¡ãªã— | `--concurrency=4`, `TURBO_CONCURRENCY=50%` ã§æŸ”è»Ÿ |
| **ã‚¿ã‚¹ã‚¯é–“ä¾å­˜ (buildâ†’e2eâ†’deploy)** | æ‰‹æ›¸ãã‚·ã‚§ãƒ« or npm-run-all | `dependsOn`, `persistent` ã§å®£è¨€çš„ã«ç®¡ç† |

---

### 3. çµè«– & ãŠã™ã™ã‚ãƒ•ãƒ­ãƒ¼

1. **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºãŒä¸»ä½“ï¼CI ã¯å°ã•ã‚**  
   - ğŸ‘‰ **Bun Workspacesã ã‘ã§ååˆ†**ã€‚  
   - `bun --filter '*' dev` ï¼ `bun test` ã§çˆ†é€Ÿãƒ«ãƒ¼ãƒ—ã€‚  
2. **CI æ™‚é–“ãŒ 10 åˆ†ã‚’è¶…ãˆå§‹ã‚ãŸï¼è¤‡æ•°ãƒãƒ¼ãƒ ã§ä¸¦è¡Œé–‹ç™º**  
   - ğŸ‘‰ **Turborepo ã‚’è¿½åŠ **ã—ã¦ â€œå¤‰æ›´ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã ã‘ + ãƒªãƒ¢ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥â€ ã‚’æœ‰åŠ¹åŒ–ã€‚  
   - ä¾å­˜é †åºã‚„ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ã¯ Bun ã®ã¾ã¾æ´»ã‹ã›ã‚‹ã€‚  
3. **æœ€å°æ§‹æˆã®ä¾‹**

   ```bash
   # å¤‰æ›´åˆ†ã ã‘ãƒ“ãƒ«ãƒ‰ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰
   turbo run build --filter=[HEAD^...]

   # CI ç”¨: å¤‰æ›´åˆ†ã ã‘ & ãƒªãƒ¢ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥å…±æœ‰
   npx turbo run build --filter=[origin/main...] --team=myteam
   ```

---

### 4. ã¾ã¨ã‚

- **Bun ã¯ â€œ1 å°ã® PC ã§ã®ç·¨é›†é€Ÿåº¦â€ ã‚’æ¥µé™ã¾ã§é«˜ã‚ã‚‹ãƒ„ãƒ¼ãƒ«**  
  - ä¾å­˜é †åºã‚‚è‡ªå‹•ã§è³„ãˆã‚‹ã®ã§ã€å°ï½ä¸­è¦æ¨¡ãªã‚‰ Turborepoãªã—ã§ã‚‚å¿«é©ã€‚  
- **Turborepo ã¯ â€œè¤‡æ•°ãƒã‚·ãƒ³é–“ã§ã®ãƒ“ãƒ«ãƒ‰ã®å†åˆ©ç”¨ãƒ»å·®åˆ†ã‚¹ã‚­ãƒƒãƒ—â€ ã‚’æä¾›**  
  - CI/CD ã‚„å¤§äººæ•°é–‹ç™ºã§åˆã‚ã¦çœŸä¾¡ã‚’ç™ºæ®ã€‚  
- **ä½µç”¨ã‚‚å¯èƒ½**ï¼ˆpnpm/Bun ã§ä¾å­˜ã‚’ç®¡ç†ã—ã€`turbo run` ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»å·®åˆ†ã‚’æ‹…ä¿ï¼‰ã€‚

> **è¦ã™ã‚‹ã«**  
> - âœï¸ æ—¥ã€…ã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° â†’ **Bun ã®ã‚¦ã‚©ãƒƒãƒï¼†ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ã§çˆ†é€Ÿ**  
> - ğŸš€ ãƒãƒ¼ãƒ ï¼CI ã‚¹ã‚±ãƒ¼ãƒ« â†’ **Turborepo ã®å·®åˆ†å®Ÿè¡Œï¼‹ãƒªãƒ¢ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§æ›´ã«æ™‚çŸ­**  

ã“ã®ä½ã¿åˆ†ã‘ãŒ 2025 å¹´æ™‚ç‚¹ã®å®Ÿè·µçš„ãªé¸æŠã§ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2025/6/26 0:42:19*

ã“ã‚Œã£ã¦æœ¬å½“ãªã®ï¼Ÿ
å·¨å¤§ãƒªãƒ (100+ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸)
å¤‰æ›´ãŒ 1 è¡Œã§ã‚‚ å…¨ãƒ“ãƒ«ãƒ‰

æ¯å›ãƒ•ãƒ«ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œã—ã€ãã®ä¸­ã§ TypeScript/ESBuild ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ« ãŒä»•äº‹ã‚’ã™ã‚‹å½¢ã§ã™ã€‚
â†‘
ã“ã‚Œã‚‚ã‚ˆãã‚ã‹ã£ã¦ã„ãªã„ã€‚

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2025/6/26 0:43:22*

## ã€ŒBun ã ã‘ã§ â€œå·®åˆ†ãƒ“ãƒ«ãƒ‰â€ ãŒå®Œçµã™ã‚‹ï¼Ÿã€ã‚’æ•´ç†ã™ã‚‹ã¨â€¦

| ãƒ¬ã‚¤ãƒ¤ | Bun ãŒæŒã¤ã—ãã¿ | ã§ãã‚‹ã“ã¨ | **ã§ããªã„ã“ã¨** |
|---|---|---|---|
| **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸â€ãƒ¬ãƒ™ãƒ«**<br>ï¼ˆãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å…¨ä½“ã§ â€œã©ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã‹â€ ã‚’æ±ºã‚ã‚‹ï¼‰ | `bun --filter` ã¯ *ä¾å­˜ã‚°ãƒ©ãƒ•é †* ã§ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’èµ°ã‚‰ã›ã‚‹ã€turn3view0â€ L18-L19ã€‘ | 1ã‚³ãƒãƒ³ãƒ‰ã§ 100 ä»¶ã§ã‚‚æ­£ã—ã„é †åºã§å®Ÿè¡Œ | **ã€Œå¤‰æ›´ãŒç„¡ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã‚¹ã‚­ãƒƒãƒ—ã€æ©Ÿèƒ½ã¯ä»Šã®ã¨ã“ã‚ç„¡ã—**ï¼ˆGit å·®åˆ†è§£æã‚„ã‚­ãƒ£ãƒƒã‚·ãƒ¥åˆ¤å®šã‚’ã—ãªã„ï¼‰ |
| **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…éƒ¨**<br>ï¼ˆã‚½ãƒ¼ã‚¹ãŒå¤‰ã‚ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã ã‘ã‚’å†ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ï¼‰ | `bun build --watch` ã® **ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«å†ãƒãƒ³ãƒ‰ãƒ«**ã€turn9view0â€ L25-L26ã€‘ ã‚„ TypeScript / esbuild ã® `--incremental` | åŒã˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã§ã‚³ãƒ¼ãƒ‰1è¡Œå¤‰ãˆã¦ã‚‚å†ãƒ“ãƒ«ãƒ‰ã¯æ•°å msã§å®Œäº† | ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å˜ä½ã®å®Ÿè¡Œè‡ªä½“ã¯æ¯å›èµ·å‹•ã™ã‚‹ã®ã§ã€100 ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ Ã— â€œ0.1 sâ€ ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã¯æ®‹ã‚‹ |

> **çµè«–**  
> - **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºä½“é¨“**ã¯ Bun ã®ã‚¦ã‚©ãƒƒãƒï¼‹ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ã§ååˆ†é€Ÿã„ã€‚  
> - **ã€Œå¤‰æ›´ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã ã‘å®Ÿè¡Œã€ã€ŒCI ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ãƒãƒ¼ãƒ ã§å…±æœ‰ã€**ã¨ã„ã£ãŸ **ãƒªãƒã‚¸ãƒˆãƒªå…¨ä½“ã®æœ€é©åŒ–**ã¯ Bun å˜ä½“ã§ã¯ã¾ã ã‚µãƒãƒ¼ãƒˆå¤–ã€‚ã ã‹ã‚‰ Turborepo/Nx/Moonrepo ãªã©ãŒå¿…è¦ã«ãªã‚‹ã€‚

---

### 1. Bun Workspaces ãŒã‚„ã£ã¦ãã‚Œã‚‹ã“ã¨

1. **ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å…ˆã«å®Ÿè¡Œ**  
   - `foo â†’ bar` ã®ä¾å­˜ãŒã‚ã‚‹å ´åˆ `bun --filter '*' build` ã§ **bar â†’ foo** ã®é †ã«ãªã‚‹ã€turn3view0â€ L18-L19ã€‘ã€‚  
2. **ä¸¦åˆ—å®Ÿè¡Œ**  
   - åŒéšå±¤ã¯è‡ªå‹•çš„ã«ä¸¦åˆ—ã§èµ°ã‚‹ï¼ˆCPU åˆ¶å¾¡ãƒ•ãƒ©ã‚°ã¯ç¾çŠ¶ãªã—ï¼‰ã€‚

**ã—ã‹ã—** Git ãƒ„ãƒªãƒ¼ã‚’è¦‹ã¦ã€Œbar ã—ã‹å¤‰ã‚ã£ã¦ã„ãªã„ã‹ã‚‰ foo ã® build ã¯é£›ã°ã™ã€ã¨ã„ã£ãŸ *ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç²’åº¦ã®å·®åˆ†åˆ¤å®š* ã¯è¡Œã‚ãªã„ã€‚

---

### 2. Turborepo/Nx ãŒè¿½åŠ ã§ã‚„ã‚‹ã“ã¨

| æ©Ÿèƒ½ | ä»£è¡¨ã‚³ãƒãƒ³ãƒ‰ | åŠ¹æœ |
|---|---|---|
| **Affectedï¼ˆå·®åˆ†ï¼‰æ¤œå‡º** | `turbo run build --filter=[origin/main...]` | å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å½±éŸ¿ã‚’å—ã‘ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ **ã ã‘** ã‚¿ã‚¹ã‚¯å®Ÿè¡Œ |
| **ãƒ­ãƒ¼ã‚«ãƒ« & ãƒªãƒ¢ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥** | `turbo run build` â†’ `FULL TURBO` ãƒ’ãƒƒãƒˆ | åŒã˜å…¥åŠ›ã§ä¸€åº¦ã§ã‚‚æˆåŠŸã—ãŸã‚¿ã‚¹ã‚¯ã¯ 0 s ã§å®Œäº†ï¼ˆCIâ‡„é–‹ç™ºPC å…±æœ‰å¯ï¼‰ã€turn7search0â€ ã€‘ |
| **ä¸¦åˆ—æ•°åˆ¶å¾¡** | `--concurrency=4` ã¾ãŸã¯ `TURBO_CONCURRENCY=50%` | CI ã® vCPU æ•°ãŒå°ã•ãã¦ã‚‚ OOM/ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’å›é¿ |

---

### 3. 100+ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¾‹ã§æ¯”ã¹ã‚‹ï¼ˆæ¦‚å¿µå›³ï¼‰

| ãƒ•ãƒ­ãƒ¼ | 1 è¡Œã ã‘å¤‰æ›´ | å®Ÿè¡Œã•ã‚Œã‚‹ãƒ“ãƒ«ãƒ‰æ•° | æ‰€è¦æ™‚é–“ï¼ˆä¾‹ï¼‰ |
|---|---|---|
| **Bun** `bun --filter '*' build` | **100 / 100 ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**<br>ï¼ˆå„ build ä¸­ã§ â€œä½•ã‚‚å¤‰ã‚ã£ã¦ãªã„â€ ã¨å³çµ‚äº†ã—ã¦ã‚‚ *å‘¼ã°ã‚Œã‚‹*ï¼‰ | `100 Ã— 0.15 s â‰ˆ 15 s` |
| **Turborepo** `turbo run build --filter=[HEAD^...]` | **1 / 100 ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**ï¼ˆä¾å­˜ã‚‚å«ã‚ 3 ä»¶ãªã©ï¼‰ | `1 Ã— 2 sï¼ˆåˆå›ï¼‰ â†’ 0 sï¼ˆä»¥å¾Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰` |

â€»æ•°å€¤ã¯ã‚ãã¾ã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã€‚**ãƒã‚¤ãƒ³ãƒˆã¯ â€œå‘¼ã°ãªã„ã‚¿ã‚¹ã‚¯ã¯ 0 sâ€** ã¨ã„ã†å·®ã€‚

---

### 4. ã§ã¯ Bun ã ã‘ã§æ¸ˆã¾ã›ãŸã„å ´åˆã¯ï¼Ÿ

1. **ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒ 1ã€œ2 åˆ†ä»¥å†…**  
   - Bun + ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ã§å›ã—ã¦å•é¡Œãªã—ã€‚  
2. **CI ãŒ 5 åˆ†è¶…ï¼ãƒã‚·ãƒ³è¤‡æ•°**  
   - Turborepo ã‚’ *ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç”¨é€”ã ã‘* æ¨ªä»˜ã‘ã™ã‚‹æ§‹æˆãŒç¾å®Ÿçš„ã€‚  
   - æ—¢å­˜ `bun run build` â†’ `turbo run build` ã«ç½®ãæ›ãˆã‚‹ã ã‘ã§ã‚‚åŠ¹æœå¤§ã€‚  
3. **å·®åˆ†æ¤œå‡ºã‚’ Bun ã§è‡ªä½œã—ãŸã„**  
   - `git diff --name-only` & `jq` ãªã©ã§å¤‰åŒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ‹¾ã„ã€  
     ```bash
     bun --filter "$(git diff --name-only $BASE..HEAD | grep -oE '^packages/[^/]+' | sort -u | tr '\n' ',' )" build
     ```  
     ã®ã‚ˆã†ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã¯å¯èƒ½ã€‚ãŸã ã— **ã‚­ãƒ£ãƒƒã‚·ãƒ¥å…±æœ‰ã‚„ä¸¦åˆ—æœ€é©åŒ–ã¾ã§ã¯è‡ªåŠ›å®Ÿè£…** ã«ãªã‚‹ã€‚

---

### 5. Bun Workspaces ä½¿ã„ã“ãªã—TIP

| ã‚„ã‚ŠãŸã„ã“ã¨ | ã‚³ãƒãƒ³ãƒ‰ä¾‹ |
|---|---|
| ä¾å­˜ã‚°ãƒ©ãƒ•é †ã« **ç›´åˆ—ãƒ“ãƒ«ãƒ‰** | `bun --filter '*' --run-concurrency=1 build` â€»ç¾çŠ¶ãƒ•ãƒ©ã‚°ç„¡ã„ã®ã§æ‰‹å‹•ã§é †åºæŒ‡å®šã™ã‚‹ã‹ Makefile ä½µç”¨ |
| **ä¸¦åˆ—ã‚¦ã‚©ãƒƒãƒ**ã‚’ 2 ã¤ã ã‘èµ·å‹• | `bun --filter '{app,server}' dev` |
| ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆã‚’ **ã¾ã¨ã‚ã¦** | `bun --filter '*' "build && test"` |

---

## ğŸ”‘ ã¾ã¨ã‚

- **Bun ã® â€œé€Ÿã•â€ ã¯ *å˜ä¸€ã‚¿ã‚¹ã‚¯å†…* ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ã«ç”±æ¥**  
  â†’ **ã‚¿ã‚¹ã‚¯æ•°** ãŒå¢—ãˆã‚‹ã»ã© *èµ·å‹•ã‚³ã‚¹ãƒˆ* ãŒé¡•è‘—ã«ãªã‚‹ã€‚  
- **Turborepo/Nx ã® â€œé€Ÿã•â€ ã¯ *ã‚¿ã‚¹ã‚¯ä¸¸ã”ã¨ã‚¹ã‚­ãƒƒãƒ— + ãƒªãƒ¢ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥* ã«ç”±æ¥**  
  â†’ å·¨å¤§ãƒ¢ãƒãƒ¬ãƒã‚„ CI ä¸¦åˆ—åŒ–ã§å·®ãŒå‡ºã‚‹ã€‚  
- å°ã€œä¸­è¦æ¨¡ or å€‹äººé–‹ç™ºãªã‚‰ **Bun ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å˜ä½“ã§ååˆ†**ã€‚  
  ãƒ“ãƒ«ãƒ‰å¾…ã¡ãƒ»CI æ™‚é–“ãŒé™ç•Œã‚’è¶…ãˆãŸã‚‰ **å·®åˆ† & ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç³»ãƒ„ãƒ¼ãƒ«ã‚’å¾Œä»˜ã‘** ãŒæœ€å°ã‚³ã‚¹ãƒˆã€‚

---
