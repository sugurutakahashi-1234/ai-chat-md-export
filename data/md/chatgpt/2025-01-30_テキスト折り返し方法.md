# テキスト折り返し方法

Date: 2025-01-30

---

## 👤 User
*2025-01-30 14:49:43*

いかのTextを自然に改行させたい。いまだと1行表示になってしまう
Text(
                                  'Verification code has been sent to the '
                                  'SNPIT application.',
                                  style: TextStyle(fontSize: 13),
                                  maxLines: 2,
                                ),


DecoratedBox(
                  decoration: BoxDecoration(
                    color: ColorToken.bg,
                    borderRadius: BorderRadius.circular(8),
                    border: Border.all(
                      color: ColorToken.border,
                    ),
                  ),
                  child: Material(
                    color: Colors.transparent,
                    child: InkWell(
                      onTap: () async {
                        await openSnapitApp();
                      },
                      borderRadius: BorderRadius.circular(8),
                      child: Padding(
                        padding: const EdgeInsets.all(16),
                        child: Row(
                          children: [
                            ClipRRect(
                              borderRadius: BorderRadius.circular(8),
                              child: Image.asset(
                                Assets.images.snapitAppLogo.path,
                                height: 64,
                                width: 64,
                              ),
                            ),
                            const SizedBox(width: 16),
                            const Column(
                              crossAxisAlignment: CrossAxisAlignment.start,
                              children: [
                                Text(
                                  'Check out the SNPIT app!',
                                  style: TextStyle(
                                    fontSize: 16,
                                    fontWeight: FontWeight.bold,
                                    color: ColorToken.primary,
                                  ),
                                ),
                                SizedBox(height: 8),
                                Text(
                                  'Verification code has been sent to the '
                                  'SNPIT application.',
                                  style: TextStyle(fontSize: 13),
                                  maxLines: 2,
                                ),
                              ],
                            ),
                          ],
                        ),
                      ),
                    ),
                  ),
                ),

---

## 🔧 Tool
*2025-01-30 14:50:05*

**Piecing together the solution**

OK, let's see. The user's `Text` widget shows a single line. To ensure proper line wrapping, they should wrap the text in a `Container` with a width, set `softWrap` to `true`, or use `TextOverflow`.

**Applying constraints**

Hm, that's interesting. Limiting the container width, removing `maxLines`, or embracing `softWrap: true` ensures text wraps correctly. Using `Flexible` or `Expanded` widgets in a row offers another option.

**Fixing line wrapping**

I’m thinking through how wrapping the text in a `Flexible` widget helps it break naturally. This prevents the text from overflowing a single line and maintains readability within the layout.

**Adjusting widget constraints**

Targeting the issue of the `Row` widget's constraints, I recommend wrapping the text in a `Flexible` or `Expanded` widget to manage its width and facilitate proper line wrapping.

---

## 🤖 Assistant
*2025-01-30 14:50:05*

Flutter の `Row` ウィジェットの子要素はデフォルトでは自身の幅を制限できず、結果としてテキストが折り返されずに 1 行になってしまうことがあります。  
テキストを自然に折り返したい場合、以下のように `Expanded` または `Flexible` を使い、テキストが幅いっぱいまでレイアウトされるようにしてあげるとよいです。

```dart
Row(
  children: [
    ClipRRect(
      borderRadius: BorderRadius.circular(8),
      child: Image.asset(
        Assets.images.snapitAppLogo.path,
        height: 64,
        width: 64,
      ),
    ),
    const SizedBox(width: 16),
    // ExpandedやFlexibleで包む
    Expanded(
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          const Text(
            'Check out the SNPIT app!',
            style: TextStyle(
              fontSize: 16,
              fontWeight: FontWeight.bold,
              color: ColorToken.primary,
            ),
          ),
          const SizedBox(height: 8),
          const Text(
            'Verification code has been sent to the SNPIT application.',
            style: TextStyle(fontSize: 13),
            maxLines: 2,
            overflow: TextOverflow.ellipsis, // 必要に応じて
          ),
        ],
      ),
    ),
  ],
),
```

- **ポイント**  
  - `Row` の中でテキストを折り返したい場合は、テキストを `Expanded` あるいは `Flexible` で包むことで、余白を活かして自然な折り返しが行われます。  
  - `maxLines` と `overflow` を併用すると、一定の行数を超えると「...」で省略表示してくれます。  
  - デフォルトで `softWrap` は `true` なので特別に指定しなくてもテキストは折り返しが有効になりますが、親要素が適切に幅を制約していないと、折り返しが期待どおりに動作しません。  

このように書き換えれば、テキストが自然に折り返されて 2 行で表示されるようになります。

---
