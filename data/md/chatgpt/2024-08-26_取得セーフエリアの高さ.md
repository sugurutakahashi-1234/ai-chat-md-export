# 取得セーフエリアの高さ

日付: 2024-08-26

---

## 👤 ユーザー
*2024/08/26 20:11:04*

SwiftUIでセーフエリアの高さを取得する

---

## 🤖 アシスタント
*2024/08/26 20:11:24*

SwiftUIでセーフエリアの高さを取得するには、`GeometryReader`を使用してビューのフレーム情報を取得し、その中からセーフエリアのサイズを計算できます。以下は、セーフエリアの高さを取得する方法の一例です。

```swift
import SwiftUI

struct SafeAreaHeightView: View {
    @State private var safeAreaHeight: CGFloat = 0

    var body: some View {
        GeometryReader { geometry in
            VStack {
                Text("Safe Area Height: \(safeAreaHeight, specifier: "%.2f")")
                    .padding()
                    .onAppear {
                        // セーフエリアの高さを計算
                        let topSafeArea = geometry.safeAreaInsets.top
                        let bottomSafeArea = geometry.safeAreaInsets.bottom
                        safeAreaHeight = topSafeArea + bottomSafeArea
                    }

                Spacer()
            }
            .frame(width: geometry.size.width, height: geometry.size.height)
        }
        .edgesIgnoringSafeArea(.all) // セーフエリアの無視
    }
}

struct SafeAreaHeightView_Previews: PreviewProvider {
    static var previews: some View {
        SafeAreaHeightView()
    }
}
```

### 説明

1. **GeometryReader**: `GeometryReader`は、親ビューのサイズや位置を取得できるコンテナビューです。これを使用してビュー全体のフレーム情報を取得しています。

2. **geometry.safeAreaInsets**: `safeAreaInsets`プロパティを使用して、セーフエリアの上部と下部のインセットを取得します。

3. **safeAreaHeightの計算**: 上部と下部のセーフエリアのインセットを合計して、セーフエリアの高さを計算しています。

4. **edgesIgnoringSafeArea(.all)**: すべてのセーフエリアを無視する設定を行って、ビュー全体を使用しています。これにより、セーフエリアの高さの正確な計算が可能になります。

このコードを実行すると、デバイスやシミュレーターでセーフエリアの高さがリアルタイムで表示されます。

---
