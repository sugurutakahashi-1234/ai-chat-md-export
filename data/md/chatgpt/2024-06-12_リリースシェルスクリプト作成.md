# ãƒªãƒªãƒ¼ã‚¹ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ

æ—¥ä»˜: 2024-06-12

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/06/12 10:59:50*

ä»¥ä¸‹ã®ã‚ˆã†ãªã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œã£ã¦ã»ã—ã„ã€‚

å®Ÿè¡Œå¼•æ•°0.1.0
ç›´è¿‘ã®ã‚¿ã‚° 0.1.0-rc.1
ãƒªãƒã‚¸ãƒˆãƒªå: crage-inc/Project-SoftBankSNS-iOS

(1)
å®Ÿè¡Œå¼•æ•°ãŒ æ•°å€¤.æ•°å€¤.æ•°å€¤ ã§ã‚ã‚‹ã“ã¨
å®Ÿè¡Œã—ã¦ã„ã‚‹ãƒ–ãƒ©ãƒ³ãƒãŒ release/å®Ÿè¡Œå¼•æ•° ã®å½¢ï¼ˆä¾‹release/0.1.0ï¼‰ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹

(2)
å®Ÿè¡Œå¼•æ•°ã¨ç›´è¿‘ã®ã‚¿ã‚°ãŒåŒã˜ã§ã‚ã‚Œã°rc.ä»¥é™ã®æ•°å­—ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã™ã‚‹ ä¾‹ï¼š0.1.0-rc.1 â†’ 0.1.0-rc.2
ãã†ã§ãªã‘ã‚Œã°-rc.1ã‚’è¨­å®šã™ã‚‹

(3)
ä»¥ä¸‹ã®URLã‚’ä½œæˆã—ã¦openã™ã‚‹
https://github.com/crage-inc/Project-SoftBankSNS-iOS/releases/new?tag=0.1.0-rc.2&title=0.1.0-rc.2&target=release/0.1.0&prerelease=1

crage-inc/Project-SoftBankSNS-iOS ã¯åˆ¥ã®ãƒªãƒã‚¸ãƒˆãƒªã§ã‚‚æ¡ç”¨ã§ãã‚‹ã‚ˆã†ã«å¤‰æ•°ã«ã—ã¦ã»ã—ã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/06/12 11:00:07*

ä»¥ä¸‹ã®ã‚ˆã†ãªã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã—ã¾ã—ãŸã€‚ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€å®Ÿè¡Œå¼•æ•°ã®æ¤œè¨¼ã€ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã®ç¢ºèªã€ã‚¿ã‚°ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã€ãã—ã¦ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã®URLã‚’ä½œæˆã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãã¾ã™ã€‚

```sh
#!/bin/bash

# ãƒªãƒã‚¸ãƒˆãƒªåã®è¨­å®š
REPOSITORY="crage-inc/Project-SoftBankSNS-iOS"

# å®Ÿè¡Œå¼•æ•°ã®æ¤œè¨¼
if [[ ! $1 =~ ^[0-9]+\.[0-9]+\.[0-9]+$ ]]; then
  echo "ã‚¨ãƒ©ãƒ¼: å¼•æ•°ã¯æ•°å€¤.æ•°å€¤.æ•°å€¤ã®å½¢å¼ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚"
  exit 1
fi

VERSION=$1

# ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒåã®å–å¾—
CURRENT_BRANCH=$(git symbolic-ref --short HEAD)

# ãƒ–ãƒ©ãƒ³ãƒåã®æ¤œè¨¼
if [[ $CURRENT_BRANCH != release/$VERSION ]]; then
  echo "ã‚¨ãƒ©ãƒ¼: ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã¯ release/$VERSION ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
  exit 1
fi

# ç›´è¿‘ã®ã‚¿ã‚°ã®å–å¾—
LATEST_TAG=$(git describe --tags --match "$VERSION-rc.*" --abbrev=0 2>/dev/null)

# ã‚¿ã‚°ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
if [[ $LATEST_TAG =~ $VERSION-rc\.([0-9]+) ]]; then
  RC_NUMBER=${BASH_REMATCH[1]}
  NEW_RC_NUMBER=$((RC_NUMBER + 1))
  NEW_TAG="$VERSION-rc.$NEW_RC_NUMBER"
else
  NEW_TAG="$VERSION-rc.1"
fi

# ãƒªãƒªãƒ¼ã‚¹URLã®ä½œæˆ
RELEASE_URL="https://github.com/$REPOSITORY/releases/new?tag=$NEW_TAG&title=$NEW_TAG&target=release/$VERSION&prerelease=1"

# ãƒ–ãƒ©ã‚¦ã‚¶ã§URLã‚’é–‹ã
echo "ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã®URLã‚’é–‹ãã¾ã™: $RELEASE_URL"
open "$RELEASE_URL"
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹ï¼š`release.sh`ï¼‰ã¨ã—ã¦ä¿å­˜ã—ã€å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ã—ã¦ãã ã•ã„ã€‚

```sh
chmod +x release.sh
```

ãã®å¾Œã€æ¬¡ã®ã‚ˆã†ã«ã—ã¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

```sh
./release.sh 0.1.0
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€å¼•æ•°ã«æŒ‡å®šã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ãƒ–ãƒ©ãƒ³ãƒåã‚’æ¤œè¨¼ã—ã€ã‚¿ã‚°ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ã¦ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãã¾ã™ã€‚ãƒªãƒã‚¸ãƒˆãƒªåã¯å¤‰æ•°ã«ã—ã¦ã„ã‚‹ãŸã‚ã€ä»–ã®ãƒªãƒã‚¸ãƒˆãƒªã§ã‚‚ç°¡å˜ã«å¤‰æ›´ã§ãã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/06/12 11:06:45*

å°‘ã—å†…å®¹ã‚’å¤‰ãˆãŸã„ã€‚ä»¥ä¸‹ã®ã‚ˆã†ãªã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œã£ã¦ã»ã—ã„ã€‚

ç›´è¿‘ã®ã‚¿ã‚° 0.1.0-rc.1
ãƒªãƒã‚¸ãƒˆãƒªå: crage-inc/Project-SoftBankSNS-iOS

ã¾ãŸã€å¤‰æ•°åã¯å°æ–‡å­—ã‚’æ¡ç”¨ã—ã¦ã»ã—ã„ã€‚

(1) 
Configs/AppVersion.xcconfig ã¨ã„ã†ãƒ‘ã‚¹ã‹ã‚‰0.1.0ã®ã‚ˆã†ã«å€¤ã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—ã™ã‚‹


```Configs/AppVersion.xcconfig 
APP_VERSION = 0.1.0
```

(2)
å–å¾—ã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ æ•°å€¤.æ•°å€¤.æ•°å€¤ ã§ã‚ã‚‹ã“ã¨
å®Ÿè¡Œã—ã¦ã„ã‚‹ãƒ–ãƒ©ãƒ³ãƒãŒ release/å®Ÿè¡Œå¼•æ•° ã®å½¢ï¼ˆä¾‹release/0.1.0ï¼‰ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹

(3)
å®Ÿè¡Œå¼•æ•°ã¨ç›´è¿‘ã®ã‚¿ã‚°ãŒåŒã˜ã§ã‚ã‚Œã°rc.ä»¥é™ã®æ•°å­—ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã™ã‚‹ ä¾‹ï¼š0.1.0-rc.1 â†’ 0.1.0-rc.2
ãã†ã§ãªã‘ã‚Œã°-rc.1ã‚’è¨­å®šã™ã‚‹

(4)
ä»¥ä¸‹ã®URLã‚’ä½œæˆã—ã¦openã™ã‚‹
https://github.com/crage-inc/Project-SoftBankSNS-iOS/releases/new?tag=0.1.0-rc.2&title=0.1.0-rc.2&target=release/0.1.0&prerelease=1

crage-inc/Project-SoftBankSNS-iOS ã¯åˆ¥ã®ãƒªãƒã‚¸ãƒˆãƒªã§ã‚‚æ¡ç”¨ã§ãã‚‹ã‚ˆã†ã«å¤‰æ•°ã«ã—ã¦ã»ã—ã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/06/12 11:07:04*

ä»¥ä¸‹ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã—ã¾ã—ãŸã€‚ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€`Configs/AppVersion.xcconfig` ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—ã—ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ãƒ–ãƒ©ãƒ³ãƒåã®æ¤œè¨¼ã€ã‚¿ã‚°ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã€ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã®URLä½œæˆã¨ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚’è¡Œã„ã¾ã™ã€‚

```sh
#!/bin/bash

# ãƒªãƒã‚¸ãƒˆãƒªåã®è¨­å®š
repository="crage-inc/Project-SoftBankSNS-iOS"

# Configs/AppVersion.xcconfig ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—
app_version=$(grep 'APP_VERSION' Configs/AppVersion.xcconfig | cut -d '=' -f2 | tr -d '[:space:]')

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ¤œè¨¼
if [[ ! $app_version =~ ^[0-9]+\.[0-9]+\.[0-9]+$ ]]; then
  echo "ã‚¨ãƒ©ãƒ¼: Configs/AppVersion.xcconfig ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯æ•°å€¤.æ•°å€¤.æ•°å€¤ã®å½¢å¼ã§æŒ‡å®šã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
  exit 1
fi

# å®Ÿè¡Œå¼•æ•°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ¤œè¨¼
if [[ ! $1 =~ ^[0-9]+\.[0-9]+\.[0-9]+$ ]]; then
  echo "ã‚¨ãƒ©ãƒ¼: å¼•æ•°ã¯æ•°å€¤.æ•°å€¤.æ•°å€¤ã®å½¢å¼ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚"
  exit 1
fi

version=$1

# ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒåã®å–å¾—
current_branch=$(git symbolic-ref --short HEAD)

# ãƒ–ãƒ©ãƒ³ãƒåã®æ¤œè¨¼
if [[ $current_branch != release/$version ]]; then
  echo "ã‚¨ãƒ©ãƒ¼: ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã¯ release/$version ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
  exit 1
fi

# ç›´è¿‘ã®ã‚¿ã‚°ã®å–å¾—
latest_tag=$(git describe --tags --match "$version-rc.*" --abbrev=0 2>/dev/null)

# ã‚¿ã‚°ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
if [[ $latest_tag =~ $version-rc\.([0-9]+) ]]; then
  rc_number=${BASH_REMATCH[1]}
  new_rc_number=$((rc_number + 1))
  new_tag="$version-rc.$new_rc_number"
else
  new_tag="$version-rc.1"
fi

# ãƒªãƒªãƒ¼ã‚¹URLã®ä½œæˆ
release_url="https://github.com/$repository/releases/new?tag=$new_tag&title=$new_tag&target=release/$version&prerelease=1"

# ãƒ–ãƒ©ã‚¦ã‚¶ã§URLã‚’é–‹ã
echo "ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã®URLã‚’é–‹ãã¾ã™: $release_url"
open "$release_url"
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹ï¼š`release.sh`ï¼‰ã¨ã—ã¦ä¿å­˜ã—ã€å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ã—ã¦ãã ã•ã„ã€‚

```sh
chmod +x release.sh
```

ãã®å¾Œã€æ¬¡ã®ã‚ˆã†ã«ã—ã¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

```sh
./release.sh 0.1.0
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€`Configs/AppVersion.xcconfig` ã‹ã‚‰å–å¾—ã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨å¼•æ•°ã«æŒ‡å®šã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ–ãƒ©ãƒ³ãƒåã‚’ç¢ºèªã—ã€ã‚¿ã‚°ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ã¦ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãã¾ã™ã€‚ãƒªãƒã‚¸ãƒˆãƒªåã¯å¤‰æ•°ã«ã—ã¦ã„ã‚‹ãŸã‚ã€ä»–ã®ãƒªãƒã‚¸ãƒˆãƒªã§ã‚‚ç°¡å˜ã«å¤‰æ›´ã§ãã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/06/12 11:09:18*

Configs/AppVersion.xcconfig ã‚‚å¤‰æ•°åã«å¤‰ãˆã¦ã»ã—ã„

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/06/12 11:09:39*

ä»¥ä¸‹ã¯ã€`Configs/AppVersion.xcconfig` ã®ãƒ‘ã‚¹ã‚‚å¤‰æ•°ã«ã—ãŸã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚

```sh
#!/bin/bash

# ãƒªãƒã‚¸ãƒˆãƒªåã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®š
repository="crage-inc/Project-SoftBankSNS-iOS"
version_file="Configs/AppVersion.xcconfig"

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—
app_version=$(grep 'APP_VERSION' "$version_file" | cut -d '=' -f2 | tr -d '[:space:]')

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ¤œè¨¼
if [[ ! $app_version =~ ^[0-9]+\.[0-9]+\.[0-9]+$ ]]; then
  echo "ã‚¨ãƒ©ãƒ¼: $version_file ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯æ•°å€¤.æ•°å€¤.æ•°å€¤ã®å½¢å¼ã§æŒ‡å®šã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
  exit 1
fi

# å®Ÿè¡Œå¼•æ•°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ¤œè¨¼
if [[ ! $1 =~ ^[0-9]+\.[0-9]+\.[0-9]+$ ]]; then
  echo "ã‚¨ãƒ©ãƒ¼: å¼•æ•°ã¯æ•°å€¤.æ•°å€¤.æ•°å€¤ã®å½¢å¼ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚"
  exit 1
fi

version=$1

# ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒåã®å–å¾—
current_branch=$(git symbolic-ref --short HEAD)

# ãƒ–ãƒ©ãƒ³ãƒåã®æ¤œè¨¼
if [[ $current_branch != release/$version ]]; then
  echo "ã‚¨ãƒ©ãƒ¼: ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã¯ release/$version ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
  exit 1
fi

# ç›´è¿‘ã®ã‚¿ã‚°ã®å–å¾—
latest_tag=$(git describe --tags --match "$version-rc.*" --abbrev=0 2>/dev/null)

# ã‚¿ã‚°ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
if [[ $latest_tag =~ $version-rc\.([0-9]+) ]]; then
  rc_number=${BASH_REMATCH[1]}
  new_rc_number=$((rc_number + 1))
  new_tag="$version-rc.$new_rc_number"
else
  new_tag="$version-rc.1"
fi

# ãƒªãƒªãƒ¼ã‚¹URLã®ä½œæˆ
release_url="https://github.com/$repository/releases/new?tag=$new_tag&title=$new_tag&target=release/$version&prerelease=1"

# ãƒ–ãƒ©ã‚¦ã‚¶ã§URLã‚’é–‹ã
echo "ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã®URLã‚’é–‹ãã¾ã™: $release_url"
open "$release_url"
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹ï¼š`release.sh`ï¼‰ã¨ã—ã¦ä¿å­˜ã—ã€å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ã—ã¦ãã ã•ã„ã€‚

```sh
chmod +x release.sh
```

ãã®å¾Œã€æ¬¡ã®ã‚ˆã†ã«ã—ã¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

```sh
./release.sh 0.1.0
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€`version_file` å¤‰æ•°ã«æŒ‡å®šã•ã‚ŒãŸãƒ‘ã‚¹ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—ã—ã€ãã®ä»–ã®å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã‚‚ç°¡å˜ã«å¤‰æ›´ã§ãã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/06/12 11:47:59*

version=$1 ã®ã‚ˆã†ãªå¼•æ•°ã¯ä½¿ã‚ãªã„ã®ã§ã¯ï¼Ÿapp_versionãŒã‚ã‚‹ã®ã§

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/06/12 11:48:20*

ãªã‚‹ã»ã©ã€`app_version` å¤‰æ•°ã‚’ä½¿ç”¨ã—ã¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¿®æ­£ã—ã¾ã™ã€‚

```sh
#!/bin/bash

# ãƒªãƒã‚¸ãƒˆãƒªåã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®š
repository="crage-inc/Project-SoftBankSNS-iOS"
version_file="Configs/AppVersion.xcconfig"

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—
app_version=$(grep 'APP_VERSION' "$version_file" | cut -d '=' -f2 | tr -d '[:space:]')

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ¤œè¨¼
if [[ ! $app_version =~ ^[0-9]+\.[0-9]+\.[0-9]+$ ]]; then
  echo "ã‚¨ãƒ©ãƒ¼: $version_file ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯æ•°å€¤.æ•°å€¤.æ•°å€¤ã®å½¢å¼ã§æŒ‡å®šã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
  exit 1
fi

# ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒåã®å–å¾—
current_branch=$(git symbolic-ref --short HEAD)

# ãƒ–ãƒ©ãƒ³ãƒåã®æ¤œè¨¼
if [[ $current_branch != release/$app_version ]]; then
  echo "ã‚¨ãƒ©ãƒ¼: ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã¯ release/$app_version ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
  exit 1
fi

# ç›´è¿‘ã®ã‚¿ã‚°ã®å–å¾—
latest_tag=$(git describe --tags --match "$app_version-rc.*" --abbrev=0 2>/dev/null)

# ã‚¿ã‚°ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
if [[ $latest_tag =~ $app_version-rc\.([0-9]+) ]]; then
  rc_number=${BASH_REMATCH[1]}
  new_rc_number=$((rc_number + 1))
  new_tag="$app_version-rc.$new_rc_number"
else
  new_tag="$app_version-rc.1"
fi

# ãƒªãƒªãƒ¼ã‚¹URLã®ä½œæˆ
release_url="https://github.com/$repository/releases/new?tag=$new_tag&title=$new_tag&target=release/$app_version&prerelease=1"

# ãƒ–ãƒ©ã‚¦ã‚¶ã§URLã‚’é–‹ã
echo "ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã®URLã‚’é–‹ãã¾ã™: $release_url"
open "$release_url"
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹ï¼š`release.sh`ï¼‰ã¨ã—ã¦ä¿å­˜ã—ã€å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ã—ã¦ãã ã•ã„ã€‚

```sh
chmod +x release.sh
```

ãã®å¾Œã€æ¬¡ã®ã‚ˆã†ã«ã—ã¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

```sh
./release.sh
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€`Configs/AppVersion.xcconfig` ã‹ã‚‰å–å¾—ã—ãŸ `app_version` ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ–ãƒ©ãƒ³ãƒåã‚’ç¢ºèªã—ã€ã‚¿ã‚°ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ã¦ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãã¾ã™ã€‚å¼•æ•°ã‚’ä½¿ç”¨ã›ãšã€`app_version` ã«åŸºã¥ã„ã¦å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚

---

## ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼
*2024/06/12 11:57:20*

ä»¥ä¸‹ã«ãªã£ãŸã€‚echo ã™ã‚‹ã™ã‚‹

#!/bin/sh

repository="crage-inc/Project-SoftBankSNS-iOS"
version_file="Configs/AppVersion.xcconfig"

# AppVersion.xcconfig ã‹ã‚‰ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—
app_version=$(grep 'APP_VERSION' "$version_file" | cut -d '=' -f2 | tr -d '[:space:]')
echo "App Version: $app_version"

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ¤œè¨¼
if [[ ! $app_version =~ ^[0-9]+\.[0-9]+\.[0-9]+$ ]]; then
  echo "ã‚¨ãƒ©ãƒ¼: $version_file ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯æ•°å€¤.æ•°å€¤.æ•°å€¤ã®å½¢å¼ã§æŒ‡å®šã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
  exit 1
fi

# ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒåã®å–å¾—
current_branch=$(git symbolic-ref --short HEAD)
echo "Current Branch: $current_branch"

# ãƒ–ãƒ©ãƒ³ãƒåã®æ¤œè¨¼
if [[ $current_branch != release/$app_version ]]; then
  echo "ã‚¨ãƒ©ãƒ¼: ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã¯ release/$app_version ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
  exit 1
fi

# ç›´è¿‘ã®ã‚¿ã‚°ã®å–å¾—
latest_tag=$(git describe --tags --match "$app_version-rc.*" --abbrev=0 2&gt;/dev/null)
echo "Latest Tag: $latest_tag"

# ã‚¿ã‚°ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
if [[ $latest_tag =~ $app_version-rc\.([0-9]+) ]]; then
  rc_number=${BASH_REMATCH[1]}
  new_rc_number=$((rc_number + 1))
  new_tag="$app_version-rc.$new_rc_number"
else
  new_tag="$app_version-rc.1"
fi

echo "New Tag: $new_tag"

# ãƒªãƒªãƒ¼ã‚¹URLã®ä½œæˆ
release_url="https://github.com/$repository/releases/new?tag=$new_tag&title=$new_tag&target=release/$app_version&prerelease=1"

echo "ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã®URLã‚’é–‹ãã¾ã™"
echo $release_url
open "$release_url"

---

## ğŸ¤– ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
*2024/06/12 11:57:37*

ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‚ˆã†ã«ã€ä»¥ä¸‹ã®ä¿®æ­£ã‚’è¡Œã„ã¾ã—ãŸã€‚

```sh
#!/bin/sh

repository="crage-inc/Project-SoftBankSNS-iOS"
version_file="Configs/AppVersion.xcconfig"

# AppVersion.xcconfig ã‹ã‚‰ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—
app_version=$(grep 'APP_VERSION' "$version_file" | cut -d '=' -f2 | tr -d '[:space:]')
echo "App Version: $app_version"

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ¤œè¨¼
if ! echo "$app_version" | grep -qE '^[0-9]+\.[0-9]+\.[0-9]+$'; then
  echo "ã‚¨ãƒ©ãƒ¼: $version_file ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯æ•°å€¤.æ•°å€¤.æ•°å€¤ã®å½¢å¼ã§æŒ‡å®šã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
  exit 1
fi

# ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒåã®å–å¾—
current_branch=$(git symbolic-ref --short HEAD)
echo "Current Branch: $current_branch"

# ãƒ–ãƒ©ãƒ³ãƒåã®æ¤œè¨¼
if [ "$current_branch" != "release/$app_version" ]; then
  echo "ã‚¨ãƒ©ãƒ¼: ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã¯ release/$app_version ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
  exit 1
fi

# ç›´è¿‘ã®ã‚¿ã‚°ã®å–å¾—
latest_tag=$(git describe --tags --match "$app_version-rc.*" --abbrev=0 2>/dev/null)
echo "Latest Tag: $latest_tag"

# ã‚¿ã‚°ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ
if echo "$latest_tag" | grep -qE "$app_version-rc\.([0-9]+)"; then
  rc_number=$(echo "$latest_tag" | grep -oE '[0-9]+$')
  new_rc_number=$((rc_number + 1))
  new_tag="$app_version-rc.$new_rc_number"
else
  new_tag="$app_version-rc.1"
fi

echo "New Tag: $new_tag"

# ãƒªãƒªãƒ¼ã‚¹URLã®ä½œæˆ
release_url="https://github.com/$repository/releases/new?tag=$new_tag&title=$new_tag&target=release/$app_version&prerelease=1"

echo "ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã®URLã‚’é–‹ãã¾ã™"
echo $release_url
open "$release_url"
```

ã“ã‚Œã§ã‚¹

---
