# UML Diagrams

This directory contains auto-generated UML diagrams in Mermaid format for the project's TypeScript code.

## Quick Start

For newcomers to the codebase:
1. **Start with [`all-layers.mmd`](./all-layers.mmd)** - See the complete project architecture
2. **Then check [`core.mmd`](./core.mmd)** - Understand the business logic and domain model
3. **Finally explore [`infra-detailed.mmd`](./infra-detailed.mmd)** - Dive into implementation details

## Available Diagrams

| File | Purpose | When to Use |
| ---- | ------- | ----------- |
| [`all-layers.mmd`](./all-layers.mmd) | Complete project architecture with all classes | Getting overview of the entire codebase structure |
| [`core.mmd`](./core.mmd) | Domain + Application layer classes | Understanding business logic and core functionality |
| [`infra-detailed.mmd`](./infra-detailed.mmd) | Infrastructure layer with member associations | Examining concrete implementations and dependencies |

## How to Generate

All UML diagrams are automatically generated by CI and pre-commit hooks when TypeScript files are modified.

```bash
# Generate all reports (runs in CI and pre-commit):
bun run update:docs:all              # all documentation including UML diagrams

# Generate only UML diagrams:
bun run update:docs:uml:all          # all 3 UML diagrams

# Generate specific diagrams:
bun run update:docs:uml:all-layers   # all-layers.mmd
bun run update:docs:uml:core         # core.mmd
bun run update:docs:uml:infra        # infra-detailed.mmd
```

## Understanding the Diagrams

All diagrams are generated using [TsUML2](https://github.com/demike/TsUML2) and rendered as Mermaid diagrams.

### Diagram Elements

- **Classes**: Concrete implementations with methods and properties
- **Interfaces**: Contract definitions marked with `<<interface>>`
- **Enumerations**: Enum types marked with `<<enumeration>>`
- **Arrows**: 
  - `<|--` : Inheritance (extends)
  - `<|..` : Implementation (implements)
  - `--` : Association (member type reference)
- **Multiplicity**: Shows cardinality like `0..*` for arrays

### Viewing Options

1. **GitHub**: Mermaid diagrams are automatically rendered in GitHub
2. **VSCode Extensions**:
   - Markdown Preview Mermaid Support
   - Mermaid Markdown Syntax Highlighting
   - Markdown Preview Enhanced
3. **Online Tools**: Copy content to [mermaid.live](https://mermaid.live) for interactive viewing

### Configuration

All diagrams use:
- `direction TB`: Top-to-bottom layout
- `--memberAssociations`: Shows relationships between class members
- TypeScript build configuration: `tsconfig.build.json`